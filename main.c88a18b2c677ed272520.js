(()=>{var lr={4475:(_,v,p)=>{"use strict";p.d(v,{A:()=>N});var l=p(6314),g=p.n(l),m=p(4417),R=p.n(m),A=p(4023),X=p(2151),se=p(9250),ne=p(1504),O=p(2435),a=p(411),Qe=p(3802),je=p(2328),ke=p(5015),Ft=p(3127),st=g()(function(Lo){return Lo[1]}),Go=R()(A),xo=R()(X),Z=R()(se),k=R()(ne),io=R()(O),Et=R()(a),Oo=R()(Qe),Do=R()(je),yt=R()(ke),Ze=R()(Ft);st.push([_.id,'@font-face{font-family:"Spoqa Han Sans Neo";src:url('+Go+') format("woff2"),url('+xo+') format("woff");font-weight:700;font-display:swap}@font-face{font-family:"Spoqa Han Sans Neo";src:url('+Z+') format("woff2"),url('+k+') format("woff");font-weight:300;font-display:swap}@font-face{font-family:"Spoqa Han Sans Neo";src:url('+io+') format("woff2"),url('+Et+') format("woff");font-weight:500;font-display:swap}@font-face{font-family:"Spoqa Han Sans Neo";src:url('+Oo+') format("woff2"),url('+Do+') format("woff");font-weight:400;font-display:swap}@font-face{font-family:"Spoqa Han Sans Neo";src:url('+yt+') format("woff2"),url('+Ze+') format("woff");font-weight:200;font-display:swap}.src-scss-component-frame-app-App-module__container--bmOcf{--app_color: 67,155,237;--app_border_color: 126,182,234;--app_hovered_color: 222,228,234;display:flex;flex:1;flex-direction:column;font-family:"Spoqa Han Sans Neo","sans-serif";outline:0;overflow:auto;user-select:none;white-space:pre-wrap}',""]),st.locals={container:"src-scss-component-frame-app-App-module__container--bmOcf"};const N=st},3466:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-control-button-ArrowButton-module__container--QYAF4.src-scss-component-frame-control-button-ArrowButton-module__disabled--lfFye svg{color:#3e4248;font-size:12px;opacity:.3;text-align:center}.src-scss-component-frame-control-button-ArrowButton-module__container--QYAF4{border-width:1px;height:24px;width:16px}.src-scss-component-frame-control-button-ArrowButton-module__container--QYAF4.src-scss-component-frame-control-button-ArrowButton-module__up--k48D6{padding-left:1px}.src-scss-component-frame-control-button-ArrowButton-module__container--QYAF4.src-scss-component-frame-control-button-ArrowButton-module__up--k48D6>svg{transform:rotateX(180deg)}.src-scss-component-frame-control-button-ArrowButton-module__container--QYAF4.src-scss-component-frame-control-button-ArrowButton-module__down--1yzGJ{padding-left:1px}.src-scss-component-frame-control-button-ArrowButton-module__container--QYAF4.src-scss-component-frame-control-button-ArrowButton-module__more--eRgBf{border-top-width:0}.src-scss-component-frame-control-button-ArrowButton-module__container--QYAF4.src-scss-component-frame-control-button-ArrowButton-module__disabled--lfFye{pointer-events:none}.src-scss-component-frame-control-button-ArrowButton-module__container--QYAF4.src-scss-component-frame-control-button-ArrowButton-module__disabled--lfFye svg{opacity:.3}",""]),m.locals={container:"src-scss-component-frame-control-button-ArrowButton-module__container--QYAF4",disabled:"src-scss-component-frame-control-button-ArrowButton-module__disabled--lfFye",up:"src-scss-component-frame-control-button-ArrowButton-module__up--k48D6",down:"src-scss-component-frame-control-button-ArrowButton-module__down--1yzGJ",more:"src-scss-component-frame-control-button-ArrowButton-module__more--eRgBf"};const R=m},9476:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-control-button-Icon-module__icon--NeS5S{align-items:center;display:flex;justify-content:center}",""]),m.locals={icon:"src-scss-component-frame-control-button-Icon-module__icon--NeS5S"};const R=m},852:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-control-dropdown-menu-DropdownMenu-module__container--vCOj3{color:#3e4248;font-size:12px;text-align:left}.src-scss-component-frame-control-dropdown-menu-DropdownMenu-module__container--vCOj3{background-color:#fff;border:1px solid #e2e2e2;box-shadow:rgba(0,0,0,.2) 0 0 4px 2px;left:0;margin:0;outline:rgba(0,0,0,0);overflow-y:auto;padding:0;position:fixed;top:0;z-index:10002}.src-scss-component-frame-control-dropdown-menu-DropdownMenu-module__container--vCOj3.src-scss-component-frame-control-dropdown-menu-DropdownMenu-module__shape_insert_gallery--D88cx{height:500px;width:265px}",""]),m.locals={container:"src-scss-component-frame-control-dropdown-menu-DropdownMenu-module__container--vCOj3",shape_insert_gallery:"src-scss-component-frame-control-dropdown-menu-DropdownMenu-module__shape_insert_gallery--D88cx"};const R=m},2909:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__container--wRCbL{align-items:center;border-color:rgba(0,0,0,0);border-style:solid;border-width:1px;box-sizing:border-box;cursor:default;display:flex}.src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__container--wRCbL.src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__disabled--n1ETt{opacity:.3;pointer-events:none}.src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__container--wRCbL.src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__a1--wSBlL:hover,.src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__container--wRCbL.src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__a1--wSBlL:focus{background-color:rgba(var(--app_color), 0.15)}.src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__container--wRCbL.src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__a1--wSBlL:active,.src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__container--wRCbL.src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__a1--wSBlL.src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__selected--W7B7m{background-color:rgba(var(--app_color), 0.3)}.src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__container--wRCbL .src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__content--idqMI{align-items:center;border-right:1px solid #ececec;display:flex;height:100%;justify-content:center;width:28px}",""]),m.locals={container:"src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__container--wRCbL",disabled:"src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__disabled--n1ETt",a1:"src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__a1--wSBlL",selected:"src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__selected--W7B7m",content:"src-scss-component-frame-control-dropdown-menu-DropdownMenuItem-module__content--idqMI"};const R=m},5530:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-control-dropdown-menu-DropdownMenuItemGroup-module__container--2yT3U{overflow-y:auto}.src-scss-component-frame-control-dropdown-menu-DropdownMenuItemGroup-module__shape_insert_gallery--UHqE1{display:flex;flex-wrap:wrap;padding:0 8px}",""]),m.locals={container:"src-scss-component-frame-control-dropdown-menu-DropdownMenuItemGroup-module__container--2yT3U",shape_insert_gallery:"src-scss-component-frame-control-dropdown-menu-DropdownMenuItemGroup-module__shape_insert_gallery--UHqE1"};const R=m},6533:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-control-dropdown-menu-DropdownMenuSeparator-module__line--2dyce{display:flex;flex:1;height:5px;justify-content:center}.src-scss-component-frame-control-dropdown-menu-DropdownMenuSeparator-module__line--2dyce.src-scss-component-frame-control-dropdown-menu-DropdownMenuSeparator-module__full--ok0k0{background-color:#d4d4d7}",""]),m.locals={line:"src-scss-component-frame-control-dropdown-menu-DropdownMenuSeparator-module__line--2dyce",full:"src-scss-component-frame-control-dropdown-menu-DropdownMenuSeparator-module__full--ok0k0"};const R=m},3722:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,'.src-scss-component-frame-control-dropdown-menu-DropdownMenuTitle-module__container--9DMFB{color:#3e4248;font-size:12px;font-weight:bold;text-align:left}.src-scss-component-frame-control-dropdown-menu-DropdownMenuTitle-module__container--9DMFB{cursor:default;display:flex;flex-direction:column;line-height:12px;padding:8px 0}.src-scss-component-frame-control-dropdown-menu-DropdownMenuTitle-module__container--9DMFB .src-scss-component-frame-control-dropdown-menu-DropdownMenuTitle-module__content--UePXl{align-items:center;display:flex;margin:0 8px}.src-scss-component-frame-control-dropdown-menu-DropdownMenuTitle-module__container--9DMFB .src-scss-component-frame-control-dropdown-menu-DropdownMenuTitle-module__content--UePXl::after{border-color:rgba(0,0,0,.1);border-style:solid;border-width:1px;content:"";flex:1;height:0;margin-left:8px}',""]),m.locals={container:"src-scss-component-frame-control-dropdown-menu-DropdownMenuTitle-module__container--9DMFB",content:"src-scss-component-frame-control-dropdown-menu-DropdownMenuTitle-module__content--UePXl"};const R=m},6585:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-control-gallery-RibbonGallery-module__container--NXncB{display:flex;height:72px}.src-scss-component-frame-control-gallery-RibbonGallery-module__container--NXncB.src-scss-component-frame-control-gallery-RibbonGallery-module__ga1--pEnIH{width:160px}.src-scss-component-frame-control-gallery-RibbonGallery-module__container--NXncB.src-scss-component-frame-control-gallery-RibbonGallery-module__disabled--MbTbm{opacity:.3;pointer-events:none}.src-scss-component-frame-control-gallery-RibbonGallery-module__content--u9tOD{align-content:flex-start;border-color:#d5d5d5;border-style:solid;border-width:1px 0 1px 1px;display:flex;flex:1;flex-wrap:wrap;overflow:hidden}.src-scss-component-frame-control-gallery-RibbonGallery-module__content--u9tOD.src-scss-component-frame-control-gallery-RibbonGallery-module__rg1--Pl2QJ{gap:1px;padding:1px}.src-scss-component-frame-control-gallery-RibbonGallery-module__arrow-container--UG24s{display:flex;flex-direction:column}.src-scss-component-frame-control-gallery-RibbonGallery-module__arrow--bFIMI{align-items:center;background-color:#fff;border-color:#d5d5d5;border-style:solid;border-width:1px;display:flex;height:24px;justify-content:center;width:13px}.src-scss-component-frame-control-gallery-RibbonGallery-module__arrow--bFIMI.src-scss-component-frame-control-gallery-RibbonGallery-module__down--CWIPV{border-top-width:0}.src-scss-component-frame-control-gallery-RibbonGallery-module__arrow--bFIMI.src-scss-component-frame-control-gallery-RibbonGallery-module__down--CWIPV:hover{border-top-width:1px}.src-scss-component-frame-control-gallery-RibbonGallery-module__arrow--bFIMI.src-scss-component-frame-control-gallery-RibbonGallery-module__more--\\+jV2m{border-top-width:0}.src-scss-component-frame-control-gallery-RibbonGallery-module__arrow--bFIMI.src-scss-component-frame-control-gallery-RibbonGallery-module__more--\\+jV2m:hover{border-top-width:1px}.src-scss-component-frame-control-gallery-RibbonGallery-module__arrow--bFIMI:hover{background-color:rgba(var(--app_color), 0.1);border-color:rgb(var(--app_border_color))}.src-scss-component-frame-control-gallery-RibbonGallery-module__arrow--bFIMI:active{background-color:rgba(var(--app_color), 0.5);border-color:rgb(var(--app_color))}",""]),m.locals={container:"src-scss-component-frame-control-gallery-RibbonGallery-module__container--NXncB",ga1:"src-scss-component-frame-control-gallery-RibbonGallery-module__ga1--pEnIH",disabled:"src-scss-component-frame-control-gallery-RibbonGallery-module__disabled--MbTbm",content:"src-scss-component-frame-control-gallery-RibbonGallery-module__content--u9tOD",rg1:"src-scss-component-frame-control-gallery-RibbonGallery-module__rg1--Pl2QJ","arrow-container":"src-scss-component-frame-control-gallery-RibbonGallery-module__arrow-container--UG24s",arrow:"src-scss-component-frame-control-gallery-RibbonGallery-module__arrow--bFIMI",down:"src-scss-component-frame-control-gallery-RibbonGallery-module__down--CWIPV",more:"src-scss-component-frame-control-gallery-RibbonGallery-module__more--+jV2m"};const R=m},5200:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-control-gallery-RibbonGalleryItem-module__gallery_item--QqBKQ{height:22px;width:22px}",""]),m.locals={gallery_item:"src-scss-component-frame-control-gallery-RibbonGalleryItem-module__gallery_item--QqBKQ"};const R=m},1373:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-control-label-RibbonLabel-module__container--iM06Z{align-items:center;display:flex;justify-content:center}.src-scss-component-frame-control-label-RibbonLabel-module__container--iM06Z.src-scss-component-frame-control-label-RibbonLabel-module__disabled--Xu-kz{opacity:.3;pointer-events:none}.src-scss-component-frame-control-label-RibbonLabel-module__container--iM06Z.src-scss-component-frame-control-label-RibbonLabel-module__gi1--AO1Di{border:1px solid rgba(0,0,0,0);box-sizing:border-box;height:24px;width:24px}.src-scss-component-frame-control-label-RibbonLabel-module__container--iM06Z.src-scss-component-frame-control-label-RibbonLabel-module__gi1--AO1Di:hover{background-color:rgba(var(--app_color), 0.2)}.src-scss-component-frame-control-label-RibbonLabel-module__container--iM06Z.src-scss-component-frame-control-label-RibbonLabel-module__gi1--AO1Di:active{background-color:rgba(var(--app_color), 0.5)}.src-scss-component-frame-control-label-RibbonLabel-module__container--iM06Z.src-scss-component-frame-control-label-RibbonLabel-module__gi1--AO1Di.src-scss-component-frame-control-label-RibbonLabel-module__selected---wI1D{background-color:rgba(var(--app_color), 0.5)}.src-scss-component-frame-control-label-RibbonLabel-module__container--iM06Z.src-scss-component-frame-control-label-RibbonLabel-module__gi1--AO1Di.src-scss-component-frame-control-label-RibbonLabel-module__selected---wI1D:hover{background-color:rgba(var(--app_color), 0.2);border-color:rgba(var(--app_color), 0.5)}",""]),m.locals={container:"src-scss-component-frame-control-label-RibbonLabel-module__container--iM06Z",disabled:"src-scss-component-frame-control-label-RibbonLabel-module__disabled--Xu-kz",gi1:"src-scss-component-frame-control-label-RibbonLabel-module__gi1--AO1Di",selected:"src-scss-component-frame-control-label-RibbonLabel-module__selected---wI1D"};const R=m},8189:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-mainpage-MainPage-module__container--T5Tqi{display:flex;flex:1;flex-direction:column;overflow:hidden}",""]),m.locals={container:"src-scss-component-frame-mainpage-MainPage-module__container--T5Tqi"};const R=m},7679:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-mainpage-proxylayer-apparea-AppAreaProxyLayer-module__container--Uzp2D{height:100%;left:0;position:absolute;top:0;width:100%}.src-scss-component-frame-mainpage-proxylayer-apparea-AppAreaProxyLayer-module__container--Uzp2D .src-scss-component-frame-mainpage-proxylayer-apparea-AppAreaProxyLayer-module__block_event--a8kAi{pointer-events:none}",""]),m.locals={container:"src-scss-component-frame-mainpage-proxylayer-apparea-AppAreaProxyLayer-module__container--Uzp2D",block_event:"src-scss-component-frame-mainpage-proxylayer-apparea-AppAreaProxyLayer-module__block_event--a8kAi"};const R=m},5491:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-mainpage-proxylayer-editview-EditViewProxyLayer-module__container--QzTci{position:absolute}",""]),m.locals={container:"src-scss-component-frame-mainpage-proxylayer-editview-EditViewProxyLayer-module__container--QzTci"};const R=m},8198:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-ribbon-group-RibbonGroup-module__container--J2kFM{border:#ececec;border-right-style:solid;border-width:1px;box-sizing:border-box;display:flex;flex-direction:column;flex-shrink:0;height:100px}.src-scss-component-frame-ribbon-group-RibbonGroup-module__rg1--iEB22{display:flex;padding:6px 4px 0 12px}.src-scss-component-frame-ribbon-group-RibbonGroup-module__rg1--iEB22 .src-scss-component-frame-ribbon-group-RibbonGroup-module__ga1--3fRE3{margin-right:6px}",""]),m.locals={container:"src-scss-component-frame-ribbon-group-RibbonGroup-module__container--J2kFM",rg1:"src-scss-component-frame-ribbon-group-RibbonGroup-module__rg1--iEB22",ga1:"src-scss-component-frame-ribbon-group-RibbonGroup-module__ga1--3fRE3"};const R=m},8175:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-ribbon-group-RibbonGroupLabelArea-module__container--gNBt0{font-size:12px;text-align:center}.src-scss-component-frame-ribbon-group-RibbonGroupLabelArea-module__container--gNBt0{align-items:center;cursor:default;display:flex;justify-content:center;margin:auto 4px 4px}",""]),m.locals={container:"src-scss-component-frame-ribbon-group-RibbonGroupLabelArea-module__container--gNBt0"};const R=m},6395:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-ribbon-group-RibbonGroupWrapper-module__container--XrFoJ{border-bottom:1px solid #ececec;display:flex;overflow:auto hidden}",""]),m.locals={container:"src-scss-component-frame-ribbon-group-RibbonGroupWrapper-module__container--XrFoJ"};const R=m},169:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-workarea-WorkArea-module__container--GQq2c{background:#f6f7fb;border:#ececec;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}",""]),m.locals={container:"src-scss-component-frame-workarea-WorkArea-module__container--GQq2c"};const R=m},6565:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-workarea-composite-CompositeView-module__container--nrpBZ.src-scss-component-frame-workarea-composite-CompositeView-module__row--\\+Gpil{display:flex;flex-direction:row;width:100%}.src-scss-component-frame-workarea-composite-CompositeView-module__container--nrpBZ.src-scss-component-frame-workarea-composite-CompositeView-module__column--ao-d1{display:flex;flex-direction:column;height:100%}.src-scss-component-frame-workarea-composite-CompositeView-module__child--986C-{display:flex}.src-scss-component-frame-workarea-composite-CompositeView-module__child--986C-.src-scss-component-frame-workarea-composite-CompositeView-module__second--Ivr2F{flex:1}.src-scss-component-frame-workarea-composite-CompositeView-module__child--986C-.src-scss-component-frame-workarea-composite-CompositeView-module__row--\\+Gpil{height:100%;min-width:10px}.src-scss-component-frame-workarea-composite-CompositeView-module__child--986C-.src-scss-component-frame-workarea-composite-CompositeView-module__column--ao-d1{min-height:10px;width:100%}.src-scss-component-frame-workarea-composite-CompositeView-module__divider_view--1Vmwu{background-color:#d5d5d5;display:flex}.src-scss-component-frame-workarea-composite-CompositeView-module__divider_view--1Vmwu.src-scss-component-frame-workarea-composite-CompositeView-module__row--\\+Gpil{height:100%;width:1px}.src-scss-component-frame-workarea-composite-CompositeView-module__divider_view--1Vmwu.src-scss-component-frame-workarea-composite-CompositeView-module__column--ao-d1{height:1px;width:100%}.src-scss-component-frame-workarea-composite-CompositeView-module__divider_controller--b0gXc{position:absolute}.src-scss-component-frame-workarea-composite-CompositeView-module__divider_controller--b0gXc.src-scss-component-frame-workarea-composite-CompositeView-module__row--\\+Gpil{width:10px;cursor:ew-resize}.src-scss-component-frame-workarea-composite-CompositeView-module__divider_controller--b0gXc.src-scss-component-frame-workarea-composite-CompositeView-module__column--ao-d1{height:10px;cursor:ns-resize}",""]),m.locals={container:"src-scss-component-frame-workarea-composite-CompositeView-module__container--nrpBZ",row:"src-scss-component-frame-workarea-composite-CompositeView-module__row--+Gpil",column:"src-scss-component-frame-workarea-composite-CompositeView-module__column--ao-d1",child:"src-scss-component-frame-workarea-composite-CompositeView-module__child--986C-",second:"src-scss-component-frame-workarea-composite-CompositeView-module__second--Ivr2F",divider_view:"src-scss-component-frame-workarea-composite-CompositeView-module__divider_view--1Vmwu",divider_controller:"src-scss-component-frame-workarea-composite-CompositeView-module__divider_controller--b0gXc"};const R=m},9666:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-workarea-content-Content-module__container--7bUK9{display:flex;flex:1;height:100%;justify-content:center;overflow:hidden}.src-scss-component-frame-workarea-content-Content-module__list--\\+1Hfy{display:flex;flex:1;width:100%}.src-scss-component-frame-workarea-content-Content-module__edit--SwNTg{display:flex;flex:1;flex-direction:column;width:100%}",""]),m.locals={container:"src-scss-component-frame-workarea-content-Content-module__container--7bUK9",list:"src-scss-component-frame-workarea-content-Content-module__list--+1Hfy",edit:"src-scss-component-frame-workarea-content-Content-module__edit--SwNTg"};const R=m},115:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-workarea-edit-EditView-module__container--9MlrU{position:relative;width:100%;height:100%}.src-scss-component-frame-workarea-edit-EditView-module__size_tracker--YZNbU{position:absolute;width:100%;height:100%}.src-scss-component-frame-workarea-edit-EditView-module__contents--XDEfV{height:100%;width:100%;overflow:auto}",""]),m.locals={container:"src-scss-component-frame-workarea-edit-EditView-module__container--9MlrU",size_tracker:"src-scss-component-frame-workarea-edit-EditView-module__size_tracker--YZNbU",contents:"src-scss-component-frame-workarea-edit-EditView-module__contents--XDEfV"};const R=m},7316:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,"@keyframes src-scss-component-frame-workarea-toolpane-ToolPane-module__slide--kCqNk{from{width:0}to{width:297px}}.src-scss-component-frame-workarea-toolpane-ToolPane-module__toolPane--DnXZD{background-color:#fff;border-left:1px solid #d5d5d5;box-sizing:border-box;display:flex;flex-direction:column;overflow:hidden;padding-bottom:20px;width:297px}.src-scss-component-frame-workarea-toolpane-ToolPane-module__open---qe3W{animation:src-scss-component-frame-workarea-toolpane-ToolPane-module__slide--kCqNk .4s ease-in-out 1 normal forwards}.src-scss-component-frame-workarea-toolpane-ToolPane-module__close--Y2UpR{animation:src-scss-component-frame-workarea-toolpane-ToolPane-module__slide--kCqNk .4s ease-in-out 1 reverse forwards}",""]),m.locals={toolPane:"src-scss-component-frame-workarea-toolpane-ToolPane-module__toolPane--DnXZD",open:"src-scss-component-frame-workarea-toolpane-ToolPane-module__open---qe3W",slide:"src-scss-component-frame-workarea-toolpane-ToolPane-module__slide--kCqNk",close:"src-scss-component-frame-workarea-toolpane-ToolPane-module__close--Y2UpR"};const R=m},8669:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-workarea-toolpane-ToolPaneDock-module__container--XYHZs{background:#f6f7fb;border-left:1px solid #d5d5d5;width:40px;flex-shrink:0;align-items:center;box-sizing:border-box;display:flex;flex-direction:column;gap:16px;padding:16px 8px}",""]),m.locals={container:"src-scss-component-frame-workarea-toolpane-ToolPaneDock-module__container--XYHZs"};const R=m},4173:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-workarea-toolpane-ToolPaneDockButton-module__button--LuGgP{align-items:center;border-radius:6px;display:flex;flex-shrink:0;height:30px;justify-content:center;position:relative;width:30px}.src-scss-component-frame-workarea-toolpane-ToolPaneDockButton-module__button--LuGgP path{fill:#5f6368}.src-scss-component-frame-workarea-toolpane-ToolPaneDockButton-module__button--LuGgP:hover{background:#e8eaed}.src-scss-component-frame-workarea-toolpane-ToolPaneDockButton-module__button--LuGgP[aria-pressed=true]{background:#d5e6ff}.src-scss-component-frame-workarea-toolpane-ToolPaneDockButton-module__button--LuGgP[disabled]{background:none}.src-scss-component-frame-workarea-toolpane-ToolPaneDockButton-module__button--LuGgP[disabled] path{fill:#8e959d}",""]),m.locals={button:"src-scss-component-frame-workarea-toolpane-ToolPaneDockButton-module__button--LuGgP"};const R=m},5770:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-workarea-toolpane-ToolPaneTitle-module__label--\\+WE3g{color:#8e939e;font-size:15px;text-align:left}.src-scss-component-frame-workarea-toolpane-ToolPaneTitle-module__title--kEQoY{align-items:center;border-bottom:1px solid #d5d5d5;box-sizing:border-box;display:flex;height:48px;padding:0 24px 0 30px;flex-shrink:0}.src-scss-component-frame-workarea-toolpane-ToolPaneTitle-module__label--\\+WE3g{flex-shrink:0;overflow:hidden;white-space:nowrap}.src-scss-component-frame-workarea-toolpane-ToolPaneTitle-module__closeIcon--lgvf-{display:flex;margin-left:auto;border:0}.src-scss-component-frame-workarea-toolpane-ToolPaneTitle-module__closeIcon--lgvf-:hover path{fill:rgb(var(--app_color))}",""]),m.locals={label:"src-scss-component-frame-workarea-toolpane-ToolPaneTitle-module__label--+WE3g",title:"src-scss-component-frame-workarea-toolpane-ToolPaneTitle-module__title--kEQoY",closeIcon:"src-scss-component-frame-workarea-toolpane-ToolPaneTitle-module__closeIcon--lgvf-"};const R=m},8081:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-frame-workarea-toolpane-ToolPaneWrapper-module__container--JnaS5{display:flex;flex-direction:row-reverse}",""]),m.locals={container:"src-scss-component-frame-workarea-toolpane-ToolPaneWrapper-module__container--JnaS5"};const R=m},5723:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-node-graphic-GraphicChildWrapper-module__container--I4NIQ{position:absolute;left:0;top:0;overflow:visible;display:flex;justify-content:center;align-items:center;pointer-events:none}",""]),m.locals={container:"src-scss-component-node-graphic-GraphicChildWrapper-module__container--I4NIQ"};const R=m},2845:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-node-graphic-GraphicWrapper-module__container--m1Mjz{display:block;position:absolute;align-items:center;justify-content:center;outline:0}",""]),m.locals={container:"src-scss-component-node-graphic-GraphicWrapper-module__container--m1Mjz"};const R=m},7962:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-node-slide-EditPreviewLayer-module__container--kKrGw{position:absolute}",""]),m.locals={container:"src-scss-component-node-slide-EditPreviewLayer-module__container--kKrGw"};const R=m},2260:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-node-slide-Slide-module__container--zaH4t{width:100%;height:100%;position:relative;overflow:visible}.src-scss-component-node-slide-Slide-module__slide_wrapper--JE84h{position:absolute}.src-scss-component-node-slide-Slide-module__slide_background_wrapper--68bAh{position:absolute;overflow:visible}.src-scss-component-node-slide-Slide-module__slide_background--kKyVc{position:absolute;display:flex}.src-scss-component-node-slide-Slide-module__event--9kxxS{width:100%;height:100%;position:absolute}",""]),m.locals={container:"src-scss-component-node-slide-Slide-module__container--zaH4t",slide_wrapper:"src-scss-component-node-slide-Slide-module__slide_wrapper--JE84h",slide_background_wrapper:"src-scss-component-node-slide-Slide-module__slide_background_wrapper--68bAh",slide_background:"src-scss-component-node-slide-Slide-module__slide_background--kKyVc",event:"src-scss-component-node-slide-Slide-module__event--9kxxS"};const R=m},7145:(_,v,p)=>{"use strict";p.d(v,{A:()=>R});var l=p(6314),g=p.n(l),m=g()(function(A){return A[1]});m.push([_.id,".src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__container--1ofln{position:absolute}.src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__rotate_handle_svg--PfXB9{position:absolute;pointer-events:none}.src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__rotate_handle_event_g--0HXQb{visibility:hidden;pointer-events:all}.src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__rotate_handle_event_rect--i2uAV{rx:20;ry:20}.src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__rotate_handle_g---iCZp{display:inherit;pointer-events:none}.src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__rotate_handle_rect--PCoeg{rx:20;ry:20;fill:#0bb30b}.src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__rotate_handle_line--6fl9q{stroke:#000;stroke-width:1px;opacity:.4}.src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__resize_handle_svg--AzPio{position:absolute;pointer-events:none;overflow:visible}.src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__resize_handle_outline_g--wWCL9{display:inherit}.src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__resize_handle_outline--gaCkL{fill:none;stroke:#777;stroke-width:1px}.src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__resize_handle_outline_event--13FuU{fill:none;pointer-events:visibleStroke;stroke:none;stroke-width:3px}.src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__resize_handle_g--OWDRS{pointer-events:all}.src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__resize_handle_rect--VNUKn{fill:#fff;stroke:#777;stroke-width:1px}",""]),m.locals={container:"src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__container--1ofln",rotate_handle_svg:"src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__rotate_handle_svg--PfXB9",rotate_handle_event_g:"src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__rotate_handle_event_g--0HXQb",rotate_handle_event_rect:"src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__rotate_handle_event_rect--i2uAV",rotate_handle_g:"src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__rotate_handle_g---iCZp",rotate_handle_rect:"src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__rotate_handle_rect--PCoeg",rotate_handle_line:"src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__rotate_handle_line--6fl9q",resize_handle_svg:"src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__resize_handle_svg--AzPio",resize_handle_outline_g:"src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__resize_handle_outline_g--wWCL9",resize_handle_outline:"src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__resize_handle_outline--gaCkL",resize_handle_outline_event:"src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__resize_handle_outline_event--13FuU",resize_handle_g:"src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__resize_handle_g--OWDRS",resize_handle_rect:"src-scss-component-node-slide-selectionlayer-graphic-GraphicSelection-module__resize_handle_rect--VNUKn"};const R=m},6068:(_,v,p)=>{"use strict";var l=p(6540),g=p(5072),m=p.n(g),R=p(4475),A={};A.insert="head",A.singleton=!1;var X=m()(R.A,A);const se=R.A.locals||{};var ne=p(6942),O=p.n(ne),a=p(7217);const Qe=Symbol("class identifier");let je=0;function ke(r){return r.getUniqueKey()}function Ft(r){var e;class t extends(e=r,e){static getUniqueKey(){return Object.prototype.hasOwnProperty.call(this,Qe)?this[Qe]:(this[Qe]=je,je+=1,this[Qe])}}return t}const st=Ft;var Go=Object.defineProperty,xo=Object.getOwnPropertyDescriptor,Z=(r,e,t,o)=>{for(var n=o>1?void 0:o?xo(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Go(e,t,n),n};class k{constructor(e){this.id=e,this.parent=void 0,this.firstChild=void 0,this.lastChild=void 0,this.nextSibling=void 0,this.prevSibling=void 0,this.rerenderChildrenRef=void 0,this.rerenderTrigger=void 0}getId(){return this.id}setId(e){this.id=e}getParent(){return this.parent}setParent(e){this.parent=e}getFirstChild(){return this.firstChild}setFirstChild(e){this.firstChild=e}getLastChild(){return this.lastChild}setLastChild(e){this.lastChild=e}getNextSibling(){return this.nextSibling}setNextSibling(e){this.nextSibling=e}getPrevSibling(){return this.prevSibling}setPrevSibling(e){this.prevSibling=e}setRerenderChildrenRef(e){this.rerenderChildrenRef=e}checkRerenderChildren(){this.rerenderChildrenRef!==void 0&&(this.rerenderChildrenRef.current+=1)}setRerenderTrigger(e){this.rerenderTrigger=e}requestRerender(e){this.rerenderTrigger!==void 0&&e.getEditableContext().appendRerenderTrigger(this.rerenderTrigger)}forEachChild(e){for(let t=this.firstChild;t!==void 0;t=t.nextSibling)e(t)}mapChild(e){const t=[];return this.forEachChild(o=>{t.push(e(o))}),t}append(e,t){if(t!==void 0){if(t.getParent()!==e){console.error("tree \uAD6C\uC131\uC774 \uC798\uBABB\uB418\uC5C8\uC2B5\uB2C8\uB2E4.");return}e.appendChildBefore(this,t)}else e.appendChild(this)}remove(e){e.removeChild(this)}appendChild(e){e.setParent(this),this.firstChild===void 0?(this.firstChild=e,this.lastChild=e,e.setPrevSibling(void 0),e.setNextSibling(void 0)):(this.lastChild?.setNextSibling(e),e.setPrevSibling(this.lastChild),e.setNextSibling(void 0),this.lastChild=e)}appendChildBefore(e,t){e.setParent(t.getParent()),t===this.firstChild?(this.firstChild=e,e.setPrevSibling(void 0)):(e.setPrevSibling(t.getPrevSibling()),t.getPrevSibling()?.setNextSibling(e)),e.setNextSibling(t),t.setPrevSibling(e)}removeChild(e){this.firstChild===e?this.lastChild===e?(this.firstChild=void 0,this.lastChild=void 0):(this.firstChild=e.getNextSibling(),this.firstChild?.setPrevSibling(void 0)):this.lastChild===e?(this.lastChild=e.getPrevSibling(),this.lastChild?.setNextSibling(void 0)):(e.getPrevSibling()?.setNextSibling(e.getNextSibling()),e.getNextSibling()?.setPrevSibling(e.getPrevSibling()))}}Z([a.Q2],k.prototype,"getId",1),Z([a.Q2],k.prototype,"setId",1),Z([a.Q2],k.prototype,"getParent",1),Z([a.Q2],k.prototype,"setParent",1),Z([a.Q2],k.prototype,"getFirstChild",1),Z([a.Q2],k.prototype,"setFirstChild",1),Z([a.Q2],k.prototype,"getLastChild",1),Z([a.Q2],k.prototype,"setLastChild",1),Z([a.Q2],k.prototype,"getNextSibling",1),Z([a.Q2],k.prototype,"setNextSibling",1),Z([a.Q2],k.prototype,"getPrevSibling",1),Z([a.Q2],k.prototype,"setPrevSibling",1),Z([a.Q2],k.prototype,"setRerenderChildrenRef",1),Z([a.Q2],k.prototype,"checkRerenderChildren",1),Z([a.Q2],k.prototype,"setRerenderTrigger",1),Z([a.Q2],k.prototype,"requestRerender",1),Z([a.Q2],k.prototype,"forEachChild",1),Z([a.Q2],k.prototype,"mapChild",1),Z([a.Q2],k.prototype,"append",1),Z([a.Q2],k.prototype,"remove",1),Z([a.Q2],k.prototype,"appendChild",1),Z([a.Q2],k.prototype,"appendChildBefore",1),Z([a.Q2],k.prototype,"removeChild",1);const io=class extends st(k){};var Et=(r=>(r[r.INVALID=0]="INVALID",r[r.GRAPHIC_MODEL=1]="GRAPHIC_MODEL",r[r.SLIDE=2]="SLIDE",r))(Et||{}),Oo=Object.defineProperty,Do=Object.getOwnPropertyDescriptor,yt=(r,e,t,o)=>{for(var n=o>1?void 0:o?Do(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Oo(e,t,n),n};class Ze extends io{constructor(e){super(e),this.width=1300,this.height=700,this.fillInfo=void 0,this.calculateContentsSizeRef=void 0}getSize(){return{width:this.width,height:this.height}}getFillInfo(){return this.fillInfo}setCalculateContentsSizeRef(e){this.calculateContentsSizeRef=e}checkCalculateContentsSizeRef(){this.calculateContentsSizeRef!==void 0&&(this.calculateContentsSizeRef.current+=1)}getTreeNodeType(){return Et.SLIDE}}yt([a.Q2],Ze.prototype,"getSize",1),yt([a.Q2],Ze.prototype,"getFillInfo",1),yt([a.Q2],Ze.prototype,"setCalculateContentsSizeRef",1),yt([a.Q2],Ze.prototype,"checkCalculateContentsSizeRef",1);var N=(r=>(r[r.NONE=0]="NONE",r[r.ABORT=1]="ABORT",r[r.READY=2]="READY",r[r.PRESSED=3]="PRESSED",r[r.DRAG=4]="DRAG",r[r.RELEASED=5]="RELEASED",r))(N||{}),Lo=Object.defineProperty,ms=Object.getOwnPropertyDescriptor,Wt=(r,e,t,o)=>{for(var n=o>1?void 0:o?ms(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Lo(e,t,n),n};class vt{constructor(e){this.graphicModel=e;const t=e.getCoordinateInfo(),o=e.getPathInfo();this.initialCoordinateInfo=t.clone(),this.currentEditingCoordinateInfo=t.clone(),this.initialPathInfo=o?.clone(),this.currentEditingPathInfo=o?.clone()}getGraphicModel(){return this.graphicModel}getInitialCoordinateInfo(){return this.initialCoordinateInfo}getCurrentEditingCoordinateInfo(){return this.currentEditingCoordinateInfo}getInitialPathInfo(){return this.initialPathInfo}getCurrentEditingPathInfo(){return this.currentEditingPathInfo}}Wt([a.Q2],vt.prototype,"getGraphicModel",1),Wt([a.Q2],vt.prototype,"getInitialCoordinateInfo",1),Wt([a.Q2],vt.prototype,"getCurrentEditingCoordinateInfo",1),Wt([a.Q2],vt.prototype,"getInitialPathInfo",1),Wt([a.Q2],vt.prototype,"getCurrentEditingPathInfo",1);const at=vt;var gs=Object.defineProperty,_s=Object.getOwnPropertyDescriptor,K=(r,e,t,o)=>{for(var n=o>1?void 0:o?_s(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&gs(e,t,n),n};class W{constructor(){this.isMultiSelectionEvent=!1,this.isSelectionRecentlyUpdated=!1,this.rangeSelectionStratPosition={x:0,y:0},this.rangeSelectionEndPosition={x:0,y:0},this.cursorInfo=void 0,this.eventTargetGraphicModel=void 0,this.graphicEditEventSubState=N.NONE,this.graphicEditingHandle=void 0,this.editingStartedRenderCoordinate={x:0,y:0},this.editingGraphicModelList=new Array,this.editingDependentGraphicModelEditRequestMap=new Map,this.editPreviewLayerGraphicModelList=new Array,this.editPreviewLayerRerenderTrigger=void 0,this.selectionLayerRerenderTrigger=void 0}clear(){this.isMultiSelectionEvent=!1,this.isSelectionRecentlyUpdated=!1,this.rangeSelectionStratPosition={x:0,y:0},this.rangeSelectionEndPosition={x:0,y:0},this.eventTargetGraphicModel=void 0,this.graphicEditEventSubState=N.NONE,this.graphicEditingHandle=void 0,this.editingStartedRenderCoordinate={x:0,y:0},this.editingGraphicModelList=new Array,this.editingDependentGraphicModelEditRequestMap=new Map,this.editPreviewLayerGraphicModelList=new Array}getIsMultiSelectionEvent(){return this.isMultiSelectionEvent}setIsMultiSelectionEvent(e){this.isMultiSelectionEvent=e}getIsSelectionRecentlyUpdated(){return this.isSelectionRecentlyUpdated}setIsSelectionRecentlyUpdated(e){this.isSelectionRecentlyUpdated=e}getRangeSelectionStartPosition(){return this.rangeSelectionStratPosition}setRangeSelectionStartPosition(e){this.rangeSelectionStratPosition=e}getRangeSelectionEndPosition(){return this.rangeSelectionEndPosition}setRangeSelectionEndPosition(e){this.rangeSelectionEndPosition=e}getCursorInfo(){return this.cursorInfo}setCursorInfo(e){this.cursorInfo=e}getEventTargetGraphicModel(){return this.eventTargetGraphicModel}setEventTargetGraphicModel(e){this.eventTargetGraphicModel=e}getGraphicEditEventSubState(){return this.graphicEditEventSubState}setGraphicEditEventSubState(e){this.graphicEditEventSubState=e}getGraphicEditingHandle(){return this.graphicEditingHandle}setGraphicEditingHandle(e){this.graphicEditingHandle=e}getEditingStartedRenderCoordinate(){return this.editingStartedRenderCoordinate}setEditingStartedRenderCoordinate(e){this.editingStartedRenderCoordinate=e}appendEditingGraphicModel(e){this.editingGraphicModelList.push(e)}clearEditingGraphicModelList(){this.editingGraphicModelList=[]}getEditingGraphicModelList(){return this.editingGraphicModelList}appendEditingDependentGraphicModelEditRequest(e){this.editingDependentGraphicModelEditRequestMap.has(e)||this.editingDependentGraphicModelEditRequestMap.set(e,new at(e))}clearEditingDependentGraphicModelEditRequest(){this.editingDependentGraphicModelEditRequestMap=new Map}getEditingDependentGraphicModelEditRequest(e){return this.editingDependentGraphicModelEditRequestMap.get(e)}getEditingDependentGraphicModelEditRequestMap(){return this.editingDependentGraphicModelEditRequestMap}appendEditPreviewLayerGraphicModel(e){this.editPreviewLayerGraphicModelList.push(e)}getEditPreviewLayerGraphicModelList(){return this.editPreviewLayerGraphicModelList}clearEditPreviewLayerGraphicModelList(){this.editPreviewLayerGraphicModelList=[]}setIsBeingEditedToAllEditingDependentGraphicModels(e){this.getEditingDependentGraphicModelEditRequestMap().forEach(t=>{t.getGraphicModel().setIsBeingEdited(e)}),this.editPreviewLayerGraphicModelList.forEach(t=>{t.setIsBeingEdited(e)})}abortCurrentEditingState(){this.setGraphicEditEventSubState(N.ABORT),this.setIsBeingEditedToAllEditingDependentGraphicModels(!1)}setEditPreviewLayerRerenderTrigger(e){this.editPreviewLayerRerenderTrigger=e}requestRerenderEditPreviewLayer(e){this.editPreviewLayerRerenderTrigger!==void 0&&e.getEditableContext().appendRerenderTrigger(this.editPreviewLayerRerenderTrigger)}setSelectionLayerRerenderTrigger(e){this.selectionLayerRerenderTrigger=e}requestRerenderSelectionLayer(e){this.selectionLayerRerenderTrigger!==void 0&&e.getEditableContext().appendRerenderTrigger(this.selectionLayerRerenderTrigger)}isEditingActivated(){return this.graphicEditEventSubState===N.DRAG}}K([a.Q2],W.prototype,"getIsMultiSelectionEvent",1),K([a.Q2],W.prototype,"getIsSelectionRecentlyUpdated",1),K([a.Q2],W.prototype,"setIsSelectionRecentlyUpdated",1),K([a.Q2],W.prototype,"getRangeSelectionStartPosition",1),K([a.Q2],W.prototype,"setRangeSelectionStartPosition",1),K([a.Q2],W.prototype,"getRangeSelectionEndPosition",1),K([a.Q2],W.prototype,"setRangeSelectionEndPosition",1),K([a.Q2],W.prototype,"getCursorInfo",1),K([a.Q2],W.prototype,"setCursorInfo",1),K([a.Q2],W.prototype,"getEventTargetGraphicModel",1),K([a.Q2],W.prototype,"setEventTargetGraphicModel",1),K([a.Q2],W.prototype,"getGraphicEditEventSubState",1),K([a.Q2],W.prototype,"setGraphicEditEventSubState",1),K([a.Q2],W.prototype,"getGraphicEditingHandle",1),K([a.Q2],W.prototype,"setGraphicEditingHandle",1),K([a.Q2],W.prototype,"getEditingStartedRenderCoordinate",1),K([a.Q2],W.prototype,"setEditingStartedRenderCoordinate",1),K([a.Q2],W.prototype,"appendEditingGraphicModel",1),K([a.Q2],W.prototype,"clearEditingGraphicModelList",1),K([a.Q2],W.prototype,"getEditingGraphicModelList",1),K([a.Q2],W.prototype,"appendEditingDependentGraphicModelEditRequest",1),K([a.Q2],W.prototype,"clearEditingDependentGraphicModelEditRequest",1),K([a.Q2],W.prototype,"getEditingDependentGraphicModelEditRequest",1),K([a.Q2],W.prototype,"getEditingDependentGraphicModelEditRequestMap",1),K([a.Q2],W.prototype,"appendEditPreviewLayerGraphicModel",1),K([a.Q2],W.prototype,"getEditPreviewLayerGraphicModelList",1),K([a.Q2],W.prototype,"clearEditPreviewLayerGraphicModelList",1),K([a.Q2],W.prototype,"setIsBeingEditedToAllEditingDependentGraphicModels",1),K([a.Q2],W.prototype,"abortCurrentEditingState",1),K([a.Q2],W.prototype,"setEditPreviewLayerRerenderTrigger",1),K([a.Q2],W.prototype,"requestRerenderEditPreviewLayer",1),K([a.Q2],W.prototype,"setSelectionLayerRerenderTrigger",1),K([a.Q2],W.prototype,"requestRerenderSelectionLayer",1),K([a.Q2],W.prototype,"isEditingActivated",1);const fs=W;var Cs=Object.defineProperty,Es=Object.getOwnPropertyDescriptor,Ee=(r,e,t,o)=>{for(var n=o>1?void 0:o?Es(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Cs(e,t,n),n};class he{constructor(){this.isAppAreaProxyLayerEnabled=!1,this.isEditViewProxyLayerEnabled=!1,this.isAppAreaEventProxyEnabled=!1,this.isEditViewEventProxyEnabled=!1,this.isAppAreaEventBlocked=!1,this.appAreaCursorInfo=void 0,this.editViewCursorInfo=void 0,this.rerenderAppAreaProxyLayerFunction=void 0,this.rerenderEditViewProxyLayerFunction=void 0,this.eventTarget=void 0}getIsAppAreaProxyLayerEnabled(){return this.isAppAreaProxyLayerEnabled}getIsEditViewProxyLayerEnabled(){return this.isEditViewProxyLayerEnabled}getIsAppAreaEventProxyEnabled(){return this.isAppAreaEventProxyEnabled}getIsEditViewEventProxyEnabled(){return this.isEditViewEventProxyEnabled}getIsAppAreaEventBlocked(){return this.isAppAreaEventBlocked}getAppAreaCursorInfo(){return this.appAreaCursorInfo}getEditViewCursorInfo(){return this.editViewCursorInfo}setRerenderAppAreaProxyLayerFunction(e){this.rerenderAppAreaProxyLayerFunction=e}rerenderAppAreaProxyLayer(){this.rerenderAppAreaProxyLayerFunction!==void 0&&this.rerenderAppAreaProxyLayerFunction()}setRerenderEditViewProxyLayerFunction(e){this.rerenderEditViewProxyLayerFunction=e}rerenderEditViewProxyLayer(){this.rerenderEditViewProxyLayerFunction!==void 0&&this.rerenderEditViewProxyLayerFunction()}getEventTarget(){return this.eventTarget}enableAppAreaProxyLayer(e,t,o,n){this.isAppAreaProxyLayerEnabled=!0,this.isAppAreaEventProxyEnabled=o,this.isAppAreaEventBlocked=n,this.appAreaCursorInfo=t,this.eventTarget=e,this.rerenderAppAreaProxyLayer()}disableAppAreaProxyLayer(){this.isAppAreaProxyLayerEnabled=!1,this.isAppAreaEventProxyEnabled=!1,this.isAppAreaEventBlocked=!1,this.appAreaCursorInfo=void 0,this.eventTarget=void 0,this.rerenderAppAreaProxyLayer()}enableEditViewProxyLayer(e,t,o){this.isEditViewProxyLayerEnabled=!0,this.isEditViewEventProxyEnabled=o,this.editViewCursorInfo=t,this.eventTarget=e,this.rerenderEditViewProxyLayer()}disableEditViewProxyLayer(){this.isEditViewProxyLayerEnabled=!1,this.isEditViewEventProxyEnabled=!1,this.editViewCursorInfo=void 0,this.eventTarget=void 0,this.rerenderEditViewProxyLayer()}}Ee([a.Q2],he.prototype,"getIsAppAreaProxyLayerEnabled",1),Ee([a.Q2],he.prototype,"getIsEditViewProxyLayerEnabled",1),Ee([a.Q2],he.prototype,"getIsAppAreaEventProxyEnabled",1),Ee([a.Q2],he.prototype,"getIsEditViewEventProxyEnabled",1),Ee([a.Q2],he.prototype,"getIsAppAreaEventBlocked",1),Ee([a.Q2],he.prototype,"getAppAreaCursorInfo",1),Ee([a.Q2],he.prototype,"getEditViewCursorInfo",1),Ee([a.Q2],he.prototype,"setRerenderAppAreaProxyLayerFunction",1),Ee([a.Q2],he.prototype,"rerenderAppAreaProxyLayer",1),Ee([a.Q2],he.prototype,"setRerenderEditViewProxyLayerFunction",1),Ee([a.Q2],he.prototype,"rerenderEditViewProxyLayer",1),Ee([a.Q2],he.prototype,"getEventTarget",1),Ee([a.Q2],he.prototype,"enableAppAreaProxyLayer",1),Ee([a.Q2],he.prototype,"disableAppAreaProxyLayer",1),Ee([a.Q2],he.prototype,"enableEditViewProxyLayer",1),Ee([a.Q2],he.prototype,"disableEditViewProxyLayer",1);const ys=he;var D=p(6977),vs=Object.defineProperty,Ps=Object.getOwnPropertyDescriptor,lt=(r,e,t,o)=>{for(var n=o>1?void 0:o?Ps(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&vs(e,t,n),n};class qe{constructor(){this.shortcutMap=new Map,this.keyList=[],this.initShortCut()}initShortCut(){this.shortcutMap=new Map([["CONTROL+Z",(e,t)=>{t.stopPropagation(),t.preventDefault(),e.handleCommandEvent({commandId:D.P.UNDO})}],["CONTROL+Y",(e,t)=>{t.stopPropagation(),t.preventDefault(),e.handleCommandEvent({commandId:D.P.REDO})}],["CONTROL+G",(e,t)=>{t.stopPropagation(),t.preventDefault(),e.handleCommandEvent({commandId:D.P.GROUP_OBJECTS})}],["CONTROL+SHIFT+G",(e,t)=>{t.stopPropagation(),t.preventDefault(),e.handleCommandEvent({commandId:D.P.UNGROUP})}]])}getShortCutAction(e){return this.shortcutMap.get(e)}getKeyList(){return this.keyList}pushKey(e){if(e==="ControlLeft"||e==="ShiftLeft"||e==="ShiftRight"||e==="AltLeft")return;const t=e.toLocaleUpperCase();this.keyList.includes(t)||this.keyList.push(t)}clearKeyList(){this.keyList=[]}clearKey(e){this.keyList=this.keyList.filter(t=>t!==e.toLocaleUpperCase())}getCombinationString(e){const t=this.getConvertedKey(e.code);return(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)===!1?"":(this.pushKey(t),`${this.getModifierKey(e)}${this.getKeyList().join("+")}`)}getConvertedKey(e){return e.replace("Key","")}getModifierKey(e){const t=[{isModifier:e.ctrlKey||e.metaKey,modifierKey:"CONTROL"},{isModifier:e.altKey,modifierKey:"ALT"},{isModifier:e.shiftKey,modifierKey:"SHIFT"}];let o="";return t.forEach(n=>{n.isModifier&&(o+=`${n.modifierKey}+`)}),o}}lt([a.Q2],qe.prototype,"initShortCut",1),lt([a.Q2],qe.prototype,"getShortCutAction",1),lt([a.Q2],qe.prototype,"getKeyList",1),lt([a.Q2],qe.prototype,"pushKey",1),lt([a.Q2],qe.prototype,"clearKeyList",1),lt([a.Q2],qe.prototype,"clearKey",1),lt([a.Q2],qe.prototype,"getCombinationString",1);var Vt=p(2389);function pr(r){const{t:e}=(0,Vt.Bd)(),t=e(r??"",{returnObjects:!0});return Rs(t)?t:""}function Rs(r){return typeof r=="string"||typeof r=="object"&&r!==null&&"viewBox"in r&&"children"in r}function ur(r){const{img:e}=r,t=pr(e);return typeof t=="string"?t.length===0?void 0:`url(data:image/svg+xml;base64,${window.btoa(t)})`:Ss(r,t)}function Ss(r,e){if(e.children!==void 0){const{width:t,height:o,fills:n}=r,i=`url('data:image/svg+xml;utf8,<svg width="${t}" height="${o}" viewBox="${e.viewBox}" xmlns="http://www.w3.org/2000/svg">`,s=e.children.reduce((d,u,h)=>n!==void 0&&n[h]!==void 0?`${d}<path fill="${n[h]}" d="${u.d}"/>`:`${d}<path d="${u.d}"/>`,""),c=`</svg>') ${t} ${o}, pointer`;return i+s+c}return""}const ws=({img:r,width:e,height:t,style:o})=>{const n=pr(r);if(typeof n!="string"||typeof n=="string"&&(n===""||r===n))return l.createElement(l.Fragment,null);const i=new DOMParser().parseFromString(n,"text/xml").firstChild,s=i.width&&i.width.baseVal.value?i.width.baseVal.value:e,c=i.height&&i.height.baseVal.value?i.height.baseVal.value:t,d=i.getAttribute("fill")??void 0,u=n.indexOf(">"),h=n.slice(u+1);return l.createElement("svg",{width:e||s,height:t||c,viewBox:`0 0 ${s} ${c}`,style:o,fill:d,dangerouslySetInnerHTML:{__html:h}})},hr=({img:r,style:e,width:t,height:o})=>{const{t:n}=(0,Vt.Bd)(),i=n(r??"",{returnObjects:!0});return i===void 0?l.createElement(l.Fragment,null):Ms(i)?l.createElement("svg",{style:e,viewBox:i.viewBox,width:t,height:o},i.children.map((s,c)=>l.createElement("path",{className:s.className,d:s.d,key:`${s.d.toString()}_${c}`}))):l.createElement(ws,{img:r,width:t,height:o,style:e})};function Ms(r){return typeof r=="object"&&r!==null&&"viewBox"in r&&"children"in r&&Array.isArray(r.children)}hr.defaultProps={style:{},width:"100%",height:"100%",fills:[]};const mr=l.memo(hr);var gr=p(9476),No={};No.insert="head",No.singleton=!1;var sp=m()(gr.A,No);const bs=gr.A.locals||{},_r=({attr:r,children:e,eventhandler:t})=>l.createElement("div",{role:"button",tabIndex:0,className:O()(bs.icon,r?.className),onClick:t?.onClick,onMouseEnter:t?.onMouseEnter,onMouseLeave:t?.onMouseLeave,onKeyDown:t?.onKeyDown},l.createElement(mr,{img:r?.img,width:r?.width,height:r?.height}),e);var fr=p(8389),Cr=p(1373),Bo={};Bo.insert="head",Bo.singleton=!1;var lp=m()(Cr.A,Bo);const Er=Cr.A.locals||{},yr=({attr:{reactKey:r,subType:e,img:t,className:o},eventhandler:n})=>{const i=()=>{switch(e){case fr.P.GI1:return l.createElement(l.Fragment,null,l.createElement(_r,{attr:{reactKey:r,img:t,width:"16px",height:"16px"}}));default:return l.createElement(l.Fragment,null)}};return l.createElement("button",{className:O()({[Er.container]:!0,[Er[e??""]]:e,[`${o}`]:o}),onMouseEnter:n?.onMouseEnter,onMouseLeave:n?.onMouseLeave,onClick:n?.onClick,type:"button"},i())};var vr=p(5200),Ho={};Ho.insert="head",Ho.singleton=!1;var dp=m()(vr.A,Ho);const Ts=vr.A.locals||{},Pr=({attr:r,eventhandler:e})=>l.createElement(yr,{attr:{...r,subType:fr.P.GI1,className:Ts.galleryItem},eventhandler:e}),As=({controlInfos:r,maxCount:e})=>{const[t,o]=(0,l.useState)(0),n=t===0,i=Math.ceil(r.length/e)-1<=t,s=r.flatMap((u,h)=>h>=t*e&&h<(t+1)*e?u:[]);return{handleArrowUpButtonClick:()=>{n||o(u=>u-1)},handleArrowDownButtonClick:()=>{i||o(u=>u+1)},disableUpButton:n,disableDownButton:i,displayedControlInfos:s,currentIndex:t}};var Rr=p(8813),Kt=p(1941),Sr=p(852),Uo={};Uo.insert="head",Uo.singleton=!1;var hp=m()(Sr.A,Uo);const Qo=Sr.A.locals||{};var wr=p(5530),Fo={};Fo.insert="head",Fo.singleton=!1;var mp=m()(wr.A,Fo);const Wo=wr.A.locals||{};function Is(r,e,t){const o=new Map;Rr.ShapeGalleryData.forEach(P=>{const S=[];o.set(P.label,S),P.items.forEach(T=>{S.push({type:Kt.l.RIBBON_GALLERY_ITEM,attr:{reactKey:T.reactKey,commandId:D.P.SHAPE_INSERT_GALLERY_ITEM,img:T.img,subType:T.shapeType}})})});const n=Array.from(o.values()).reduce((P,S)=>P.concat(S),[]),i=6,s=3,{handleArrowUpButtonClick:c,handleArrowDownButtonClick:d,disableUpButton:u,disableDownButton:h,displayedControlInfos:C,currentIndex:f}=As({controlInfos:n,maxCount:i*s}),y=Gs(o,P=>{const S={commandId:D.P.GRAPHIC_INSERT_SET_UP,shapeType:P};e.handleCommandEvent(S)});return{attr:{reactKey:t.reactKey,disableUpButton:u,disableDownButton:h,dropdownMenuInfo:y},subControlInfos:C,eventhandler:{onArrowUpButtonClick:c,onArrowDownButtonClick:d}}}function Gs(r,e){const t={className:Qo.shape_insert_gallery,dropdownMenuSubItemInfos:[]};return r.forEach((o,n)=>{for(let i=0;i<10;i+=1){const s={className:Wo.shape_insert_gallery,type:"group",dropdownMenuSubItemInfos:[]};for(let c=0;c<30;c+=1)o.forEach(d=>{s.dropdownMenuSubItemInfos.push({type:"item",subType:"a1",selected:!1,children:l.createElement(Pr,{attr:{reactKey:d.attr.reactKey,img:d.attr.img},eventhandler:{onClick(){e(d.attr.subType)}}}),label:d.attr.label})});t.dropdownMenuSubItemInfos.push({type:"title",label:n},s)}}),t}function xs(r,e,t){return{attr:{reactKey:t.reactKey},eventhandler:{onClick:()=>{const o={commandId:D.P.GRAPHIC_INSERT_SET_UP,shapeType:t.subType};e.handleCommandEvent(o)}}}}var Os=Object.defineProperty,Ds=Object.getOwnPropertyDescriptor,Vo=(r,e,t,o)=>{for(var n=o>1?void 0:o?Ds(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Os(e,t,n),n};class so{constructor(){this.controlHandlerMap=this.initControlHandlerMap()}initControlHandlerMap(){return new Map([[D.P.SHAPE_INSERT_GALLERY,Is],[D.P.SHAPE_INSERT_GALLERY_ITEM,xs]])}getHandledControlProps(e,t){const o=this.controlHandlerMap.get(e.attr.commandId);return o!==void 0?o(e.attr.commandId,t,e.attr,e.subControlInfos):this.defaultControlHandler(e,t)}defaultControlHandler(e,t){const o=e.attr.commandId;return{attr:{reactKey:e.attr.reactKey},eventhandler:{onClick:()=>{t.handleCommandEvent({commandId:o})}}}}}Vo([a.Q2],so.prototype,"initControlHandlerMap",1),Vo([a.Q2],so.prototype,"getHandledControlProps",1),Vo([a.Q2],so.prototype,"defaultControlHandler",1);var ze=p(6605),Mr=p(7316),Ko={};Ko.insert="head",Ko.singleton=!1;var gp=m()(Mr.A,Ko);const ao=Mr.A.locals||{},br=l.forwardRef(({children:r,selected:e,...t},o)=>l.createElement("button",{type:"button","aria-pressed":e,ref:o,...t},r)),Tr=r=>l.createElement(mr,{...r}),jo=({img:r,width:e,height:t,...o})=>l.createElement(br,{...o},l.createElement(Tr,{img:r,width:e,height:t}));function Ls(r){const{t:e}=(0,Vt.Bd)();return r?e(r):""}const zo=Ls;var Ar=p(5770),Xo={};Xo.insert="head",Xo.singleton=!1;var Ep=m()(Ar.A,Xo);const Yo=Ar.A.locals||{},Ns=({label:r,onCloseIconClick:e})=>{const t=zo(r);return l.createElement("div",{className:Yo.title},l.createElement("span",{className:Yo.label},t),l.createElement(jo,{className:Yo.closeIcon,img:ze.u.IMG_TOOLPANE_CLOSE,width:"20px",height:"20px",onClick:e}))},Ir=({label:r,children:e})=>{const o=$().getAppContext().getEditableContext().getUIContainer().getToolPaneContainer(),n=(0,l.useRef)(null),i=()=>{n.current!==null&&(n.current.className="",n.current.offsetWidth,n.current.className=O()(ao.toolPane,ao.close))};(0,l.useEffect)(()=>{o.setCloseToolPaneFunction(()=>{i()})},[]);const s=o.getIsOpenWithAnimation();return l.createElement("div",{ref:n,className:O()(ao.toolPane,s&&ao.open)},l.createElement(Ns,{label:r,onCloseIconClick:()=>{i()}}),e)},Bs=()=>l.createElement(Ir,{label:ze.u.TXT_DUMMIE_TOOLPANE_TITLE}),Hs=()=>l.createElement(Ir,{label:ze.u.TXT_DUMMY_TOOLPANE_TITLE}),$o=!0,Sp=!1;var jt=(r=>(r[r.DUMMY=0]="DUMMY",r[r.DUMMIE=1]="DUMMIE",r))(jt||{}),Us=Object.defineProperty,Qs=Object.getOwnPropertyDescriptor,ye=(r,e,t,o)=>{for(var n=o>1?void 0:o?Qs(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Us(e,t,n),n};class me{constructor(){this.toolPaneInfoMap=this.initToolPaneInfoMap(),this.toolPaneList=this.initToolPaneList(),this.isToolPaneOpened=!1,this.isOpenWithAnimation=!1,this.selectedToolPaneId=void 0,this.rerenderToolPaneWrapperFunction=void 0,this.closeToolPaneFunction=void 0}initToolPaneInfoMap(){return new Map([[jt.DUMMY,{img:ze.u.IMG_TOOLPANE_DOCK_DUMMY,type:$o,content:Hs}],[jt.DUMMIE,{img:ze.u.IMG_TOOLPANE_DOCK_DUMMIE,type:$o,content:Bs}]])}initToolPaneList(){return[jt.DUMMY,jt.DUMMIE]}getToolPaneInfo(e){if(e!==void 0)return this.toolPaneInfoMap.get(e)}getToolPaneInfoList(){return this.toolPaneList.map(e=>[e,this.getToolPaneInfo(e)])}getIsToolPaneOpened(){return this.isToolPaneOpened}setIsToolPaneOpened(e){this.isToolPaneOpened=e}getIsOpenWithAnimation(){return this.isOpenWithAnimation}setIsOpenWithAnimation(e){this.isOpenWithAnimation=e}getSelectedToolPaneId(){return this.selectedToolPaneId}setSelectedToolPaneId(e){this.selectedToolPaneId=e}setRerenderToolPaneWrapperFunction(e){this.rerenderToolPaneWrapperFunction=e}setCloseToolPaneFunction(e){this.closeToolPaneFunction=e}openToolPane(e){this.getIsToolPaneOpened()===!1?(this.setIsToolPaneOpened(!0),this.setIsOpenWithAnimation(!0)):this.setIsOpenWithAnimation(!1),this.setSelectedToolPaneId(e),this.rerenderToolPaneWrapperFunction!==void 0&&this.rerenderToolPaneWrapperFunction()}closeToolPane(){this.closeToolPaneFunction!==void 0&&(this.closeToolPaneFunction(),this.closeToolPaneFunction=void 0),setTimeout(()=>{this.setIsToolPaneOpened(!1),this.rerenderToolPaneWrapperFunction!==void 0&&this.rerenderToolPaneWrapperFunction()},400)}closeToolPaneByCloseIcon(){this.closeToolPane()}onToolPaneDockButtonClicked(e){if(this.getIsToolPaneOpened()===!0&&this.getSelectedToolPaneId()===e){this.closeToolPane();return}this.openToolPane(e)}}ye([a.Q2],me.prototype,"initToolPaneInfoMap",1),ye([a.Q2],me.prototype,"initToolPaneList",1),ye([a.Q2],me.prototype,"getToolPaneInfo",1),ye([a.Q2],me.prototype,"getToolPaneInfoList",1),ye([a.Q2],me.prototype,"getIsToolPaneOpened",1),ye([a.Q2],me.prototype,"setIsToolPaneOpened",1),ye([a.Q2],me.prototype,"getIsOpenWithAnimation",1),ye([a.Q2],me.prototype,"setIsOpenWithAnimation",1),ye([a.Q2],me.prototype,"getSelectedToolPaneId",1),ye([a.Q2],me.prototype,"setSelectedToolPaneId",1),ye([a.Q2],me.prototype,"setRerenderToolPaneWrapperFunction",1),ye([a.Q2],me.prototype,"setCloseToolPaneFunction",1),ye([a.Q2],me.prototype,"openToolPane",1),ye([a.Q2],me.prototype,"closeToolPane",1),ye([a.Q2],me.prototype,"closeToolPaneByCloseIcon",1),ye([a.Q2],me.prototype,"onToolPaneDockButtonClicked",1);var Fs=Object.defineProperty,Ws=Object.getOwnPropertyDescriptor,Gr=(r,e,t,o)=>{for(var n=o>1?void 0:o?Ws(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Fs(e,t,n),n};class ko{constructor(){this.controlHandlerContainer=new so,this.toolPaneContainer=new me}getControlHandlerContainer(){return this.controlHandlerContainer}getToolPaneContainer(){return this.toolPaneContainer}}Gr([a.Q2],ko.prototype,"getControlHandlerContainer",1),Gr([a.Q2],ko.prototype,"getToolPaneContainer",1);var Vs=Object.defineProperty,Ks=Object.getOwnPropertyDescriptor,Fe=(r,e,t,o)=>{for(var n=o>1?void 0:o?Ks(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Vs(e,t,n),n};class Oe{constructor(){this.zoomRatio=1,this.isFitZoom=!0,this.editViewSizeTrackerRef=void 0,this.rerenderEditViewFunction=void 0,this.currentRenderingSlideModel=void 0}getZoomRatio(){return this.zoomRatio}setZoomRatio(e){this.zoomRatio=e}getIsFitZoom(){return this.isFitZoom}setIsFitZoom(e){this.isFitZoom=e}setEditViewSizeTrackerRef(e){this.editViewSizeTrackerRef=e}getEditViewSizeTrackerRef(){return this.editViewSizeTrackerRef}setRerenderEditViewFunction(e){this.rerenderEditViewFunction=e}rerenderEditView(){this.rerenderEditViewFunction!==void 0&&this.rerenderEditViewFunction()}setCurrentRenderingSlideModel(e){this.currentRenderingSlideModel=e}getCurrentRenderingSlideModel(){return this.currentRenderingSlideModel}}Fe([a.Q2],Oe.prototype,"getZoomRatio",1),Fe([a.Q2],Oe.prototype,"setZoomRatio",1),Fe([a.Q2],Oe.prototype,"getIsFitZoom",1),Fe([a.Q2],Oe.prototype,"setIsFitZoom",1),Fe([a.Q2],Oe.prototype,"setEditViewSizeTrackerRef",1),Fe([a.Q2],Oe.prototype,"getEditViewSizeTrackerRef",1),Fe([a.Q2],Oe.prototype,"setRerenderEditViewFunction",1),Fe([a.Q2],Oe.prototype,"rerenderEditView",1),Fe([a.Q2],Oe.prototype,"setCurrentRenderingSlideModel",1),Fe([a.Q2],Oe.prototype,"getCurrentRenderingSlideModel",1);var js=Object.defineProperty,zs=Object.getOwnPropertyDescriptor,zt=(r,e,t,o)=>{for(var n=o>1?void 0:o?zs(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&js(e,t,n),n};class Pt{constructor(e=20){this.undoStack=[],this.redoStack=[],this.size=e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}push(e){this.redoStack=[],this.undoStack.push(e),this.undoStack.length>this.size&&this.undoStack.shift()}prev(){const e=this.undoStack.pop();if(e!==void 0)return this.redoStack.push(e),e}next(){const e=this.redoStack.pop();if(e!==void 0)return this.undoStack.push(e),e}}zt([a.Q2],Pt.prototype,"canUndo",1),zt([a.Q2],Pt.prototype,"canRedo",1),zt([a.Q2],Pt.prototype,"push",1),zt([a.Q2],Pt.prototype,"prev",1),zt([a.Q2],Pt.prototype,"next",1);var Xs=Object.defineProperty,Ys=Object.getOwnPropertyDescriptor,xr=(r,e,t,o)=>{for(var n=o>1?void 0:o?Ys(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Xs(e,t,n),n};const Zo=class is{constructor(e){this.selectedModel=e}getModel(){return this.selectedModel}clone(){return new is(this.selectedModel)}};xr([a.Q2],Zo.prototype,"getModel",1),xr([a.Q2],Zo.prototype,"clone",1);let $s=Zo;class ks{}var ct=(r=>(r[r.SHAPE=0]="SHAPE",r[r.GROUP=1]="GROUP",r))(ct||{});const Or=(r,e)=>r?.getTreeNodeType()===e,wp=r=>Or(r,TreeNodeTypeEnum.SLIDE),ae=r=>Or(r,Et.GRAPHIC_MODEL);function q(r){return r.getGraphicType()===ct.GROUP}function lo(r){const e=r.getParent();if(ae(e)&&q(e)===!0)return e}function Rt(r){return lo(r)!==void 0}function Zs(r){return q(r)===!0||Rt(r)===!0}function We(r){let e,t,o=r;q(r)===!0&&(e=r);do t=lo(o),t!==void 0&&(e=t,o=t);while(t!==void 0);return e}function qs(r){const e=new Array;return qo(r,e),e}function qo(r,e){q(r)===!0&&r.forEachChild(t=>{ae(t)&&(e.push(t),q(t)===!0&&qo(t,e))})}function Mp(r){const e=new Array,t=We(r);return t!==void 0&&(e.push(t),qo(t,e)),e}function Jo(r,e){let t=new Array,o=r;do o=lo(o),o!==void 0&&t.push(o);while(o!==void 0);return e===!0&&(t=t.reverse()),t}var Js=Object.defineProperty,ea=Object.getOwnPropertyDescriptor,Te=(r,e,t,o)=>{for(var n=o>1?void 0:o?ea(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Js(e,t,n),n};const Se=class ss extends ks{constructor(){super(),this.graphicModelSelections=new Array}isRelatedModel(e){return ae(e)}appendTreeNode(e){const t=e;ae(t)&&this.graphicModelSelections.push(new $s(t))}hasSelection(){return this.getSize()>0}getSelectedModels(){return this.getSelectedGraphicModels()}getSelectedGraphicModels(){return this.graphicModelSelections.map(e=>e.getModel())}getGraphicModelSelections(){return this.graphicModelSelections}getFirstGraphicModelSelection(){return this.graphicModelSelections.length!==0?this.graphicModelSelections[0]:void 0}hasGraphicModelSelection(e){return this.getGraphicModelSelection(e)!==void 0}getGraphicModelSelection(e){return this.graphicModelSelections.find(t=>t.getModel()===e)}getSize(){return this.graphicModelSelections.length}hasTargetRootGroupMember(e){return this.graphicModelSelections.find(t=>We(t.getModel())===e)!==void 0}hasGroupMemberInSelectionContainer(){return this.graphicModelSelections.find(e=>Zs(e.getModel())===!0)!==void 0}clone(){const e=new ss;return this.graphicModelSelections.forEach(t=>{e.graphicModelSelections.push(t.clone())}),e}};Te([a.Q2],Se.prototype,"isRelatedModel",1),Te([a.Q2],Se.prototype,"appendTreeNode",1),Te([a.Q2],Se.prototype,"hasSelection",1),Te([a.Q2],Se.prototype,"getSelectedModels",1),Te([a.Q2],Se.prototype,"getSelectedGraphicModels",1),Te([a.Q2],Se.prototype,"getGraphicModelSelections",1),Te([a.Q2],Se.prototype,"getFirstGraphicModelSelection",1),Te([a.Q2],Se.prototype,"hasGraphicModelSelection",1),Te([a.Q2],Se.prototype,"getGraphicModelSelection",1),Te([a.Q2],Se.prototype,"getSize",1),Te([a.Q2],Se.prototype,"hasTargetRootGroupMember",1),Te([a.Q2],Se.prototype,"hasGroupMemberInSelectionContainer",1),Te([a.Q2],Se.prototype,"clone",1);let ta=Se;var oa=Object.defineProperty,na=Object.getOwnPropertyDescriptor,co=(r,e,t,o)=>{for(var n=o>1?void 0:o?na(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&oa(e,t,n),n};const Xt=class as{constructor(){this.graphicModelSelectionContainer=new ta}getGraphicModelSelectionContainer(){return this.graphicModelSelectionContainer}forEachContainer(e){e(this.graphicModelSelectionContainer)}appendTreeNode(e){this.forEachContainer(t=>{t.isRelatedModel(e)===!0&&t.appendTreeNode(e)})}clone(){const e=new as;return e.graphicModelSelectionContainer=this.graphicModelSelectionContainer.clone(),e}};co([a.Q2],Xt.prototype,"getGraphicModelSelectionContainer",1),co([a.Q2],Xt.prototype,"forEachContainer",1),co([a.Q2],Xt.prototype,"appendTreeNode",1),co([a.Q2],Xt.prototype,"clone",1);let ra=Xt;var en=(r=>(r[r.INVALID=0]="INVALID",r[r.EDIT=1]="EDIT",r))(en||{}),j=(r=>(r[r.INVALID=0]="INVALID",r[r.IDLE=1]="IDLE",r[r.GRAPHIC_INSERT=2]="GRAPHIC_INSERT",r[r.GRAPHIC_MOVE=3]="GRAPHIC_MOVE",r[r.GRAPHIC_RESIZE=4]="GRAPHIC_RESIZE",r[r.GRAPHIC_ROTATE=5]="GRAPHIC_ROTATE",r))(j||{}),ia=Object.defineProperty,sa=Object.getOwnPropertyDescriptor,aa=(r,e,t,o)=>{for(var n=o>1?void 0:o?sa(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&ia(e,t,n),n};class Dr{constructor(){this.id=0}generateId(){return this.id++}}aa([a.Q2],Dr.prototype,"generateId",1);const po=new Dr;var la=Object.defineProperty,ca=Object.getOwnPropertyDescriptor,re=(r,e,t,o)=>{for(var n=o>1?void 0:o?ca(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&la(e,t,n),n};class te{constructor(e){this.treeNodeRoot=new Ze(po.generateId()),this.eventState=j.IDLE,this.mouseLButtonPressed=!1,this.undoStack=new Pt,this.commandMode=en.EDIT,this.commandProps=void 0,this.commandController=void 0,this.selectionContainer=this.createSelectionContainer(),this.uiContainer=new ko,this.proxyLayerInfoContainer=new ys,this.viewModeContainer=new Oe,this.shortcutContainer=new qe,this.graphicEditInfoContainer=new fs,this.rerenderTriggerList=[]}getTreeNodeRoot(){return this.treeNodeRoot}getEventState(){return this.eventState}setEventState(e){this.eventState=e}getUndoStack(){return this.undoStack}isMouseLButtonPressed(){return this.mouseLButtonPressed}setMouseLButtonPressed(e){this.mouseLButtonPressed=e}getCommandMode(){return this.commandMode}setCommandMode(e){this.commandMode=e}getCommandProps(){return this.commandProps}setCommandProps(e){this.commandProps=e}getCommandController(){return this.commandController}setCommandController(e){this.commandController=e}getSelectionContainer(){return this.selectionContainer}setSelectionContainer(e){this.selectionContainer=e}createSelectionContainer(){return new ra}getUIContainer(){return this.uiContainer}getProxyLayerInfoContainer(){return this.proxyLayerInfoContainer}getViewModeContainer(){return this.viewModeContainer}getShortcutContainer(){return this.shortcutContainer}getGraphicEditInfoContainer(){return this.graphicEditInfoContainer}appendRerenderTrigger(e){this.rerenderTriggerList.push(e)}flushRerenderTriggerList(){this.rerenderTriggerList.forEach(e=>{e()}),this.rerenderTriggerList=[]}}re([a.Q2],te.prototype,"getTreeNodeRoot",1),re([a.Q2],te.prototype,"getEventState",1),re([a.Q2],te.prototype,"setEventState",1),re([a.Q2],te.prototype,"getUndoStack",1),re([a.Q2],te.prototype,"isMouseLButtonPressed",1),re([a.Q2],te.prototype,"setMouseLButtonPressed",1),re([a.Q2],te.prototype,"getCommandMode",1),re([a.Q2],te.prototype,"setCommandMode",1),re([a.Q2],te.prototype,"getCommandProps",1),re([a.Q2],te.prototype,"setCommandProps",1),re([a.Q2],te.prototype,"getCommandController",1),re([a.Q2],te.prototype,"setCommandController",1),re([a.Q2],te.prototype,"getSelectionContainer",1),re([a.Q2],te.prototype,"setSelectionContainer",1),re([a.Q2],te.prototype,"createSelectionContainer",1),re([a.Q2],te.prototype,"getUIContainer",1),re([a.Q2],te.prototype,"getProxyLayerInfoContainer",1),re([a.Q2],te.prototype,"getViewModeContainer",1),re([a.Q2],te.prototype,"getShortcutContainer",1),re([a.Q2],te.prototype,"getGraphicEditInfoContainer",1),re([a.Q2],te.prototype,"appendRerenderTrigger",1),re([a.Q2],te.prototype,"flushRerenderTriggerList",1);var da=Object.defineProperty,pa=Object.getOwnPropertyDescriptor,ua=(r,e,t,o)=>{for(var n=o>1?void 0:o?pa(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&da(e,t,n),n};class Lr{constructor(e){this.handleCommandEvent=e.handleCommandEventFunction}callHandleCommandEvent(e){this.handleCommandEvent(e)}}ua([a.Q2],Lr.prototype,"callHandleCommandEvent",1);var ha=Object.defineProperty,ma=Object.getOwnPropertyDescriptor,Nr=(r,e,t,o)=>{for(var n=o>1?void 0:o?ma(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&ha(e,t,n),n};class tn{constructor(e){this.readOnlyContext=new Lr(e.readOnlyContextInitProp),this.editableContext=new te(e.editableContextInitProp)}getReadOnlyContext(){return this.readOnlyContext}getEditableContext(){return this.editableContext}}Nr([a.Q2],tn.prototype,"getReadOnlyContext",1),Nr([a.Q2],tn.prototype,"getEditableContext",1);var ga=Object.defineProperty,_a=Object.getOwnPropertyDescriptor,ve=(r,e,t,o)=>{for(var n=o>1?void 0:o?_a(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&ga(e,t,n),n};class ge{constructor(e){const t=e.getEditableContext();this.simpleCommandList=[],this.executalbeSimpleCommandIndex=0,this.postSimpleCommandList=[],this.undoable=!0,this.oldEventState=j.IDLE,this.newEventState=j.IDLE,this.oldSelectionContainer=t.getSelectionContainer().clone(),this.newSelectionContainer=t.getSelectionContainer().clone()}setUndoable(e){this.undoable=e}isUndoable(){return this.undoable}getOldEventState(){return this.oldEventState}setOldEventState(e){this.oldEventState=e}getNewEventState(){return this.newEventState}setNewEventState(e){this.newEventState=e}getOldSelectionContainer(){return this.oldSelectionContainer}setOldSelectionContainer(e){this.oldSelectionContainer=e}getNewSelectionContainer(){return this.newSelectionContainer}setNewSelectionContainer(e){this.newSelectionContainer=e}isEmpty(){return this.simpleCommandList.length===0&&this.postSimpleCommandList.length===0}appendSimpleCommand(e){this.simpleCommandList.push(e)}appendPostSimpleCommand(e){this.postSimpleCommandList.push(e)}applySimpleCommand(){for(let e=this.executalbeSimpleCommandIndex;e<this.simpleCommandList.length;e+=1)this.simpleCommandList[e].apply();this.executalbeSimpleCommandIndex=this.simpleCommandList.length}applyPostSimpleCommand(){this.postSimpleCommandList.forEach(e=>e.apply())}unapply(){this.simpleCommandList.reverse().forEach(e=>{e.unapply()}),this.postSimpleCommandList.forEach(e=>e.unapply())}reapply(){this.simpleCommandList.reverse().forEach(e=>{e.reapply()}),this.postSimpleCommandList.forEach(e=>e.reapply())}fallback(){for(let e=this.executalbeSimpleCommandIndex-1;e>=0;e-=1)this.simpleCommandList.at(e)?.unapply()}}ve([a.Q2],ge.prototype,"setUndoable",1),ve([a.Q2],ge.prototype,"isUndoable",1),ve([a.Q2],ge.prototype,"getOldEventState",1),ve([a.Q2],ge.prototype,"setOldEventState",1),ve([a.Q2],ge.prototype,"getNewEventState",1),ve([a.Q2],ge.prototype,"setNewEventState",1),ve([a.Q2],ge.prototype,"getOldSelectionContainer",1),ve([a.Q2],ge.prototype,"getNewSelectionContainer",1),ve([a.Q2],ge.prototype,"isEmpty",1),ve([a.Q2],ge.prototype,"appendSimpleCommand",1),ve([a.Q2],ge.prototype,"appendPostSimpleCommand",1),ve([a.Q2],ge.prototype,"applySimpleCommand",1),ve([a.Q2],ge.prototype,"applyPostSimpleCommand",1),ve([a.Q2],ge.prototype,"unapply",1),ve([a.Q2],ge.prototype,"reapply",1),ve([a.Q2],ge.prototype,"fallback",1);var fa=Object.defineProperty,Ca=Object.getOwnPropertyDescriptor,le=(r,e,t,o)=>{for(var n=o>1?void 0:o?Ca(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&fa(e,t,n),n};class ie{constructor(e){this.commandCompositor=e}setUndoable(e){this.commandCompositor.setUndoable(e)}isUndoable(){return this.commandCompositor.isUndoable()}getOldEventState(){return this.commandCompositor.getOldEventState()}setOldEventState(e){this.commandCompositor.setOldEventState(e)}getNewEventState(){return this.commandCompositor.getNewEventState()}setNewEventState(e){this.commandCompositor.setNewEventState(e)}getOldSelectionContainer(){return this.commandCompositor.getOldSelectionContainer()}setOldSelectionContainer(e){this.commandCompositor.setOldSelectionContainer(e)}getNewSelectionContainer(){return this.commandCompositor.getNewSelectionContainer()}setNewSelectionContainer(e){this.commandCompositor.setNewSelectionContainer(e)}isEmpty(){return this.commandCompositor.isEmpty()}appendSimpleCommand(e){this.commandCompositor.appendSimpleCommand(e)}appendPostSimpleCommand(e){this.commandCompositor.appendPostSimpleCommand(e)}preExecuteCommand(){this.commandCompositor.applySimpleCommand()}executeCommand(){this.commandCompositor.applySimpleCommand()}executePostCommand(){this.commandCompositor.applyPostSimpleCommand()}finishApplyProcess(e){if(this.commandCompositor.isUndoable()===!0&&this.isEmpty()===!1){const t=e.getEditableContext();t.getUndoStack().push(this.commandCompositor);const o=t.getCommandProps();if(o!==void 0)o.newEventState!==void 0&&this.commandCompositor.setNewEventState(o.newEventState),o.newSelectionContainer!==void 0&&this.commandCompositor.setNewSelectionContainer(o.newSelectionContainer);else throw Error}}unExecuteCommand(e){const t=e.getEditableContext(),o=t.getUndoStack();if(o.canUndo()===!1)return!1;const n=o.prev();if(n===void 0)return!1;this.commandCompositor=n,this.commandCompositor.unapply();const i=t.getCommandProps();if(i!==void 0)t.setCommandProps({...i,newEventState:this.commandCompositor.getOldEventState(),newSelectionContainer:this.commandCompositor.getOldSelectionContainer()});else throw Error;return!0}reExecuteCommand(e){const t=e.getEditableContext(),o=t.getUndoStack();if(o.canRedo()===!1)return!1;const n=o.next();if(!n)return!1;this.commandCompositor=n,this.commandCompositor.reapply();const i=t.getCommandProps();if(i!==void 0)t.setCommandProps({...i,newEventState:this.commandCompositor.getNewEventState(),newSelectionContainer:this.commandCompositor.getNewSelectionContainer()});else throw Error;return!0}fallback(){this.commandCompositor.fallback()}}le([a.Q2],ie.prototype,"setUndoable",1),le([a.Q2],ie.prototype,"isUndoable",1),le([a.Q2],ie.prototype,"getOldEventState",1),le([a.Q2],ie.prototype,"setOldEventState",1),le([a.Q2],ie.prototype,"getNewEventState",1),le([a.Q2],ie.prototype,"setNewEventState",1),le([a.Q2],ie.prototype,"getOldSelectionContainer",1),le([a.Q2],ie.prototype,"setOldSelectionContainer",1),le([a.Q2],ie.prototype,"getNewSelectionContainer",1),le([a.Q2],ie.prototype,"setNewSelectionContainer",1),le([a.Q2],ie.prototype,"isEmpty",1),le([a.Q2],ie.prototype,"appendSimpleCommand",1),le([a.Q2],ie.prototype,"appendPostSimpleCommand",1),le([a.Q2],ie.prototype,"preExecuteCommand",1),le([a.Q2],ie.prototype,"executeCommand",1),le([a.Q2],ie.prototype,"executePostCommand",1),le([a.Q2],ie.prototype,"finishApplyProcess",1),le([a.Q2],ie.prototype,"unExecuteCommand",1),le([a.Q2],ie.prototype,"reExecuteCommand",1),le([a.Q2],ie.prototype,"fallback",1);var Ea=Object.defineProperty,ya=Object.getOwnPropertyDescriptor,va=(r,e,t,o)=>{for(var n=o>1?void 0:o?ya(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Ea(e,t,n),n};class Br{constructor(){this.commandHandlerMap=new Map}getTargetCommandHandler(e){const t=ke(e);let o=this.commandHandlerMap.get(t);return o===void 0&&(o=new e,this.commandHandlerMap.set(t,o)),o}}va([a.Q2],Br.prototype,"getTargetCommandHandler",1);var w=p(3503);class Pa{}const St=class extends st(Pa){};var Ra=Object.defineProperty,Sa=Object.getOwnPropertyDescriptor,oe=(r,e,t,o)=>{for(var n=o>1?void 0:o?Sa(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Ra(e,t,n),n};const ee=class ls{constructor(){this.x=0,this.y=0,this.width=0,this.height=0,this.rotation=0,this.flipH=!1,this.flipV=!1,this.groupX=0,this.groupY=0,this.groupWidth=0,this.groupHeight=0}setX(e){this.x=e}getX(){return this.x}setY(e){this.y=e}getY(){return this.y}setWidth(e){this.width=e}getWidth(){return this.width}setHeight(e){this.height=e}getHeight(){return this.height}setRotation(e){this.rotation=e}getRotation(){return this.rotation}setFlipH(e){this.flipH=e}getFlipH(){return this.flipH}setFlipV(e){this.flipV=e}getFlipV(){return this.flipV}setGroupX(e){this.groupX=e}getGroupX(){return this.groupX}setGroupY(e){this.groupY=e}getGroupY(){return this.groupY}setGroupWidth(e){this.groupWidth=e}getGroupWidth(){return this.groupWidth}setGroupHeight(e){this.groupHeight=e}getGroupHeight(){return this.groupHeight}clone(){const e=new ls;return e.setX(this.x),e.setY(this.y),e.setWidth(this.width),e.setHeight(this.height),e.setRotation(this.rotation),e.setFlipH(this.flipH),e.setFlipV(this.flipV),e.setGroupX(this.groupX),e.setGroupY(this.groupY),e.setGroupWidth(this.groupWidth),e.setGroupHeight(this.groupHeight),e}};oe([a.Q2],ee.prototype,"setX",1),oe([a.Q2],ee.prototype,"getX",1),oe([a.Q2],ee.prototype,"setY",1),oe([a.Q2],ee.prototype,"getY",1),oe([a.Q2],ee.prototype,"setWidth",1),oe([a.Q2],ee.prototype,"getWidth",1),oe([a.Q2],ee.prototype,"setHeight",1),oe([a.Q2],ee.prototype,"getHeight",1),oe([a.Q2],ee.prototype,"setRotation",1),oe([a.Q2],ee.prototype,"getRotation",1),oe([a.Q2],ee.prototype,"setFlipH",1),oe([a.Q2],ee.prototype,"getFlipH",1),oe([a.Q2],ee.prototype,"setFlipV",1),oe([a.Q2],ee.prototype,"getFlipV",1),oe([a.Q2],ee.prototype,"setGroupX",1),oe([a.Q2],ee.prototype,"getGroupX",1),oe([a.Q2],ee.prototype,"setGroupY",1),oe([a.Q2],ee.prototype,"getGroupY",1),oe([a.Q2],ee.prototype,"setGroupWidth",1),oe([a.Q2],ee.prototype,"getGroupWidth",1),oe([a.Q2],ee.prototype,"setGroupHeight",1),oe([a.Q2],ee.prototype,"getGroupHeight",1),oe([a.Q2],ee.prototype,"clone",1);let on=ee;function Yt(r,e){return Math.abs(r-e)<1e-5}function bp(r,e){return Yt(r.x,e.x)&&Yt(r.y,e.y)}function Tp(r,e){return Yt(nn(r.from,r.to),nn(e.from,e.to))}function Ap(r,e){const t={x:r.from.x-r.to.x,y:r.from.y-r.to.y},o={x:e.from.x-e.to.x,y:e.from.y-e.to.y},n=Hr(t,o);return Yt(n,0)||Yt(n,360)}function Ip(r,e){return nn(r,e)**.5}function nn(r,e){return(r.x-e.x)**2+(r.y-e.y)**2}function wa(r){return ba(r/180*w.pi)}function Ma(r){return wt(r/w.pi*180)}function wt(r){return w.ziu(r,360)}function ba(r){return w.ziu(r,w.pi*2)}function Ta(r,e,t){return Hr({x:r.x-t.x,y:r.y-t.y},{x:e.x-t.x,y:e.y-t.y})}function Hr(r,e){return Ma(w.FPz(e.y,e.x)-w.FPz(r.y,r.x))}function Gp(r,e,t){let o=t;if(r!==e){if(o=wt(o),o>=0&&o<90){const n=90-o;o+=2*n}else if(o>=90&&o<=180){const n=o-90;o-=2*n}else if(o>180&&o<=270){const n=270-o;o+=2*n}else if(o>270&&o<=360){const n=o-270;o-=2*n}o+=180}return wt(o)}function Aa(r,e){const t=wa(e);return{x:w.gnS(t)*r.x-w.F8e(t)*r.y,y:w.F8e(t)*r.x+w.gnS(t)*r.y}}function ce(r,e,t){const o={x:r.x-e.x,y:r.y-e.y},n=Aa(o,t);return{x:n.x+e.x,y:n.y+e.y}}function Ia(r,e,t,o){return{x:t?2*e.x-r.x:r.x,y:o?2*e.y-r.y:e.y}}function De(r){const e=wt(r);return e>=45&&e<135||e>=225&&e<315}function xp(r,e){const{x:t,y:o,width:n,height:i}=r,s={x:t+n/2,y:o+i/2},c={x:t,y:o},d={x:t,y:o+i},u=ce(c,s,e),h=ce(d,s,e),C={x:s.x*2-h.x,y:s.y*2-h.y},f={x:s.x*2-u.x,y:s.y*2-u.y},E=math.min(u.x,C.x,h.x,f.x),y=math.min(u.y,C.y,h.y,f.y),P=math.max(u.x,C.x,h.x,f.x)-E,S=math.max(u.y,C.y,h.y,f.y)-y;return{x:E,y,width:P,height:S}}var Ga=Object.defineProperty,xa=Object.getOwnPropertyDescriptor,Ur=(r,e,t,o)=>{for(var n=o>1?void 0:o?xa(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Ga(e,t,n),n};const rn=class cs{constructor(){this.fill=void 0}setFill(e){this.fill=e}getFill(){return this.fill}getFillType(){return this.fill?.getType()}clone(){const e=new cs;return e.setFill(this.fill?.clone()),e}};Ur([a.Q2],rn.prototype,"setFill",1),Ur([a.Q2],rn.prototype,"getFill",1);let sn=rn;var Mt=p(2543),an=p(9827),Oa=Object.defineProperty,Da=Object.getOwnPropertyDescriptor,Xe=(r,e,t,o)=>{for(var n=o>1?void 0:o?Da(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Oa(e,t,n),n};const Ve=class ds{constructor(){this.prstGeom=void 0,this.custGeom=void 0,this.pathBuilder=void 0}setPrstGeom(e){this.prstGeom=e}getPrstGeom(){return this.prstGeom}setCustGeom(e){this.custGeom=e}getCustGeom(){return this.custGeom}setPathBuilder(e){this.pathBuilder=e}getPathBuilder(){return this.pathBuilder}getShapeType(){return this.prstGeom?.shapeType||an.B.CUSTOM}getPath(e){return this.pathBuilder?.build(e)||[]}clone(){const e=new ds;return this.prstGeom!==void 0?(e.setPrstGeom((0,Mt.cloneDeep)(this.prstGeom)),e.setPathBuilder(this.pathBuilder)):this.custGeom!==void 0&&(e.setCustGeom((0,Mt.cloneDeep)(this.custGeom)),e.setPathBuilder(this.pathBuilder)),e}};Xe([a.Q2],Ve.prototype,"setPrstGeom",1),Xe([a.Q2],Ve.prototype,"getPrstGeom",1),Xe([a.Q2],Ve.prototype,"setCustGeom",1),Xe([a.Q2],Ve.prototype,"getCustGeom",1),Xe([a.Q2],Ve.prototype,"setPathBuilder",1),Xe([a.Q2],Ve.prototype,"getPathBuilder",1),Xe([a.Q2],Ve.prototype,"getShapeType",1),Xe([a.Q2],Ve.prototype,"getPath",1),Xe([a.Q2],Ve.prototype,"clone",1);let Qr=Ve;var La=Object.defineProperty,Na=Object.getOwnPropertyDescriptor,bt=(r,e,t,o)=>{for(var n=o>1?void 0:o?Na(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&La(e,t,n),n};const dt=class ps{constructor(){this.fill=void 0,this.width=void 0}getFill(){return this.fill}setFill(e){this.fill=e}getFillType(){return this.fill?.getType()}getWidth(){return this.width}setWidth(e){this.width=e}clone(){const e=new ps;return e.setFill(this.fill?.clone()),e.setWidth(this.width),e}};bt([a.Q2],dt.prototype,"getFill",1),bt([a.Q2],dt.prototype,"setFill",1),bt([a.Q2],dt.prototype,"getFillType",1),bt([a.Q2],dt.prototype,"getWidth",1),bt([a.Q2],dt.prototype,"setWidth",1),bt([a.Q2],dt.prototype,"clone",1);let Fr=dt;var Ba=Object.defineProperty,Ha=Object.getOwnPropertyDescriptor,_e=(r,e,t,o)=>{for(var n=o>1?void 0:o?Ha(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Ba(e,t,n),n};const pe=class us extends io{constructor(e){super(e),this.graphicType=ct.SHAPE,this.coordinateInfo=new on,this.pathInfo=void 0,this.fillInfo=void 0,this.strokeInfo=void 0,this.isBeingEdited=!1,this.selected=!1}getTreeNodeType(){return Et.GRAPHIC_MODEL}initAsShape(){this.graphicType=ct.SHAPE,this.pathInfo=new Qr,this.fillInfo=new sn,this.strokeInfo=new Fr}initAsGroup(){this.graphicType=ct.GROUP,this.fillInfo=new sn}clone(){const e=new us(po.generateId());return e.setGraphicType(this.graphicType),e.setCoordinateInfo(this.coordinateInfo.clone()),e.setPathInfo(this.pathInfo?.clone()),e.setFillInfo(this.fillInfo?.clone()),e.setStrokeInfo(this.strokeInfo?.clone()),e}setGraphicType(e){this.graphicType=e}getGraphicType(){return this.graphicType}setCoordinateInfo(e){this.coordinateInfo=e}getCoordinateInfo(){return this.coordinateInfo}setPathInfo(e){this.pathInfo=e}getPathInfo(){return this.pathInfo}setFillInfo(e){this.fillInfo=e}getFillInfo(){return this.fillInfo}setStrokeInfo(e){this.strokeInfo=e}getStrokeInfo(){return this.strokeInfo}setIsBeingEdited(e){this.isBeingEdited=e}getIsBeingEdited(){return this.isBeingEdited}setSelected(e){this.selected=e}getSelected(){return this.selected}};_e([a.Q2],pe.prototype,"initAsShape",1),_e([a.Q2],pe.prototype,"initAsGroup",1),_e([a.Q2],pe.prototype,"clone",1),_e([a.Q2],pe.prototype,"setGraphicType",1),_e([a.Q2],pe.prototype,"getGraphicType",1),_e([a.Q2],pe.prototype,"setCoordinateInfo",1),_e([a.Q2],pe.prototype,"getCoordinateInfo",1),_e([a.Q2],pe.prototype,"setPathInfo",1),_e([a.Q2],pe.prototype,"getPathInfo",1),_e([a.Q2],pe.prototype,"setFillInfo",1),_e([a.Q2],pe.prototype,"getFillInfo",1),_e([a.Q2],pe.prototype,"setStrokeInfo",1),_e([a.Q2],pe.prototype,"getStrokeInfo",1),_e([a.Q2],pe.prototype,"setIsBeingEdited",1),_e([a.Q2],pe.prototype,"getIsBeingEdited",1),_e([a.Q2],pe.prototype,"setSelected",1),_e([a.Q2],pe.prototype,"getSelected",1);let ln=pe;function Op(){return"Z "}function Ua(r,e){return`M ${r} ${e} `}function Qa(r,e){return`L ${r} ${e} `}class cn{constructor(){this.pathList=[],this.curX=0,this.curY=0}makeMove(e,t){return this.curX=e,this.curY=t,Ua(e,t)}makeLine(e,t){return this.curX=e,this.curY=t,Qa(e,t)}}class Fa extends cn{build(e){const o=e.width/2,n=e.height/2,i=0;this.pathList=[];let s="",c="",d="";return c="default",d="default",s="",s+=this.makeMove(0,i),s+=this.makeLine(o,i),s+=this.makeLine(o,n),s+=this.makeLine(0,n),s+="Z",this.pathList.push({d:s,fill:c,stroke:d}),s="",s+=this.makeMove(o,n),s+=this.makeLine(o,2*n),s+=this.makeLine(2*o,2*n),s+=this.makeLine(2*o,n),s+="Z",this.pathList.push({d:s,fill:c,stroke:d}),this.pathList}}class Wr extends cn{build(e){const o=e.width,n=e.height,i=0;this.pathList=[];let s="",c="",d="";return c="default",d="default",s="",s+=this.makeMove(0,i),s+=this.makeLine(o,i),s+=this.makeLine(o,n),s+=this.makeLine(0,n),s+="Z",this.pathList.push({d:s,fill:c,stroke:d}),this.pathList}}var Wa=Object.defineProperty,Va=Object.getOwnPropertyDescriptor,Ka=(r,e,t,o)=>{for(var n=o>1?void 0:o?Va(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Wa(e,t,n),n};class Vr{constructor(){this.prstRectBuilder=void 0,this.prstDiagonalRectBuilder=void 0}createPathBuilder(e){switch(e){case an.B.RECT:return this.prstRectBuilder===void 0&&(this.prstRectBuilder=new Wr),this.prstRectBuilder;case an.B.DIAGONAL_RECT:return this.prstDiagonalRectBuilder===void 0&&(this.prstDiagonalRectBuilder=new Fa),this.prstDiagonalRectBuilder;default:return this.prstRectBuilder===void 0&&(this.prstRectBuilder=new Wr),this.prstRectBuilder}}}Ka([a.Q2],Vr.prototype,"createPathBuilder",1);const ja=new Vr;var za=p(7470),$t=(r=>(r[r.SRGB=0]="SRGB",r[r.PRESET=1]="PRESET",r))($t||{}),Xa=Object.defineProperty,Ya=Object.getOwnPropertyDescriptor,Kr=(r,e,t,o)=>{for(var n=o>1?void 0:o?Ya(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Xa(e,t,n),n};const dn=class hs{constructor(e,t){this.colorType=e,this.value=t}getColorString(){let e;switch(this.colorType){case $t.SRGB:e=`#${this.value}`;break;case $t.PRESET:e=za.PresetColorMap.get(this.value)??"#ffffff";break;default:e="#afafaf";break}return/^#[0-9a-fA-F]{6}$/.test(e)||(e="#cdcdcd"),e}clone(){return new hs(this.colorType,this.value)}};Kr([a.Q2],dn.prototype,"getColorString",1),Kr([a.Q2],dn.prototype,"clone",1);let jr=dn;class $a{}var zr=(r=>(r[r.NO_FILL=0]="NO_FILL",r[r.SOLID_FILL=1]="SOLID_FILL",r))(zr||{});class uo extends $a{constructor(e){super(),this.color=e}getType(){return zr.SOLID_FILL}getFillString(){return this.color.getColorString()}clone(){return new uo(this.color.clone())}setColor(e){this.color=e}getColor(){return this.color}}function ka(){const r=new jr($t.PRESET,"dodgerblue");return new uo(r)}function Za(){const r=new jr($t.PRESET,"darkslateblue");return new uo(r)}function qa(r){const e=new ln(po.generateId()),t=new Qr;t.setPrstGeom({shapeType:r}),t.setPathBuilder(ja.createPathBuilder(r)),e.setPathInfo(t);const o=new sn;o.setFill(ka()),e.setFillInfo(o);const n=new Fr;n.setFill(Za()),n.setWidth(3),e.setStrokeInfo(n);const i=e.getCoordinateInfo();return i.setWidth(100),i.setHeight(100),e.setIsBeingEdited(!0),e}function Ja(){const r=new ln(po.generateId());return r.setGraphicType(ct.GROUP),r}function el(r){return r.getGraphicModelSelectionContainer().getSelectedGraphicModels()}function tl(r,e,t,o){const n=e.getEventTargetGraphicModel(),s=t?el(r):n?[n]:[];return ol(s,o)}function pn(r,e,t,o){tl(r,e,t,o).forEach(i=>{e.appendEditingGraphicModel(i)})}function un(r){const e=new Set;r.getEditingGraphicModelList().forEach(t=>{e.add(t)}),e.forEach(t=>{r.appendEditingDependentGraphicModelEditRequest(t)})}function hn(r){const e=new Array;r.getEditingGraphicModelList().forEach(t=>{q(t)?qs(t).forEach(n=>{q(n)===!1&&e.push(n)}):e.push(t)}),e.forEach(t=>{r.appendEditPreviewLayerGraphicModel(t)})}function ho(r){const e=r.getEditableContext(),t=e.getGraphicEditInfoContainer(),o=e.getProxyLayerInfoContainer();e.setEventState(j.IDLE),t.setIsBeingEditedToAllEditingDependentGraphicModels(!1),t.clear(),t.requestRerenderEditPreviewLayer(r),o.disableAppAreaProxyLayer(),o.disableEditViewProxyLayer()}function Y(r,e){const t=r.getEditableContext(),o=t.getSelectionContainer(),n=e??o.getGraphicModelSelectionContainer().getSelectedGraphicModels(),i=t.createSelectionContainer();n.forEach(c=>{i.getGraphicModelSelectionContainer().appendTreeNode(c)});const s=t.getCommandProps()??{commandId:D.P.INVALID};t.setCommandProps({...s,newSelectionContainer:i})}function ol(r,e){return e===void 0?r:r.filter(e)}var V=(r=>(r[r.LEFT_TOP=0]="LEFT_TOP",r[r.TOP=1]="TOP",r[r.RIGHT_TOP=2]="RIGHT_TOP",r[r.LEFT=3]="LEFT",r[r.RIGHT=4]="RIGHT",r[r.LEFT_BOTTOM=5]="LEFT_BOTTOM",r[r.BOTTOM=6]="BOTTOM",r[r.RIGHT_BOTTOM=7]="RIGHT_BOTTOM",r[r.MOVE=8]="MOVE",r[r.ROTATE=9]="ROTATE",r))(V||{});function Dp(r,e){return e.getIsBeingEdited()===!1&&getRootGroup(e)?.getIsBeingEdited()===!1?e.getCoordinateInfo():Ye(r,e)}function Je(r,e){const t=r.getEditingDependentGraphicModelEditRequest(e);return t!==void 0?t.getInitialCoordinateInfo():e.getCoordinateInfo()}function Ye(r,e){const t=r.getEditingDependentGraphicModelEditRequest(e);return t!==void 0?t.getCurrentEditingCoordinateInfo():e.getCoordinateInfo()}function Tt(r){let e=[];return e=Jo(r,!1),e.map(t=>t.getCoordinateInfo())}function pt(r,e){return Jo(e,!1).map(o=>Je(r,o))}function ut(r,e){return Jo(e,!1).map(o=>Ye(r,o))}function Xr(r,e,t){return t===!0?Yr(r,e):kt(e)}function kt(r){const e=r.getCoordinateInfo(),t=Tt(r);return mn(e,t)}function mo(r,e){const t=Je(r,e),o=pt(r,e);return mn(t,o)}function Yr(r,e){const t=Ye(r,e),o=ut(r,e);return mn(t,o)}function mn(r,e){const t=r.getX()+r.getWidth()/2,o=r.getY()+r.getHeight()/2,n=w.UPj([[t],[o],[1]]),i=we(e),s=w.lwT(i,n);return{x:Number(s.get([0,0])),y:Number(s.get([1,0]))}}function nl(r,e,t){return t===!0?kr(r,e):go(e)}function go(r){const e=kt(r),t=et(r);return{x:e.x-t.width/2,y:e.y-t.height/2}}function $r(r,e){const t=mo(r,e),o=fo(r,e);return{x:t.x-o.width/2,y:t.y-o.height/2}}function kr(r,e){const t=Yr(r,e),o=gn(r,e);return{x:t.x-o.width/2,y:t.y-o.height/2}}function _o(r,e,t){return t===!0?gn(r,e):et(e)}function et(r){const e=r.getCoordinateInfo(),t=rl(r),o=e.getWidth()*t.widthRatio,n=e.getHeight()*t.heightRatio;return{width:o,height:n}}function fo(r,e){const t=Je(r,e),o=_n(r,e),n=t.getWidth()*o.widthRatio,i=t.getHeight()*o.heightRatio;return{width:n,height:i}}function gn(r,e){const t=Ye(r,e),o=qr(r,e),n=t.getWidth()*o.widthRatio,i=t.getHeight()*o.heightRatio;return{width:n,height:i}}function Zr(r,e,t,o){const n=mo(r,e);let i=ce(t,n,-ei(r,e));return o===!0&&(i=Ia(i,n,ni(r,e),ii(r,e))),{x:i.x-n.x,y:i.y-n.y}}function rl(r){const e=r.getCoordinateInfo(),t=Tt(r);return fn(e,t)}function _n(r,e){const t=Je(r,e),o=pt(r,e);return fn(t,o)}function qr(r,e){const t=Ye(r,e),o=ut(r,e);return fn(t,o)}function fn(r,e){let t=1,o=1,n=r.getRotation();return e.forEach(i=>{const s=i.getGroupWidth(),c=i.getGroupHeight();let d=s!==void 0?i.getWidth()/s:1,u=c!==void 0?i.getHeight()/c:1;if(De(n)===!0){const h=d;d=u,u=h}n=ti(n,i),t*=d,o*=u}),{widthRatio:t,heightRatio:o}}function Jr(r,e,t){return t===!0?il(r,e):At(e)}function At(r){const e=r.getCoordinateInfo(),t=Tt(r);return Cn(e,t)}function ei(r,e){const t=Je(r,e),o=pt(r,e);return Cn(t,o)}function il(r,e){const t=Ye(r,e),o=ut(r,e);return Cn(t,o)}function Cn(r,e){let t=r.getRotation();return e.forEach(o=>{t=ti(t,o)}),t}function ti(r,e){let t=r;return e.getFlipH()!==e.getFlipV()&&(t=360-t),t+=e.getRotation(),t}function oi(r,e,t){return t===!0?sl(r,e):Zt(e)}function Zt(r){const e=r.getCoordinateInfo(),t=Tt(r);return En(e,t)}function ni(r,e){const t=Je(r,e),o=pt(r,e);return En(t,o)}function sl(r,e){const t=Ye(r,e),o=ut(r,e);return En(t,o)}function ri(r,e,t){return t===!0?al(r,e):It(e)}function It(r){const e=r.getCoordinateInfo(),t=Tt(r);return yn(e,t)}function ii(r,e){const t=Je(r,e),o=pt(r,e);return yn(t,o)}function al(r,e){const t=Ye(r,e),o=ut(r,e);return yn(t,o)}function En(r,e){let t=r.getFlipH();return e.forEach(o=>{t=t!==o.getFlipH()}),t}function yn(r,e){let t=r.getFlipV();return e.forEach(o=>{t=t!==o.getFlipV()}),t}function Lp(r){const e=Tt(r);return we(e)}function si(r,e){const t=pt(r,e);return we(t)}function Np(r,e){const t=ut(r,e);return we(t)}function we(r){let e=w.D_O(3,3);const t=new Array,o=new Array,n=new Array,i=new Array,s=new Array,c=r.length;for(let d=0;d<c;d+=1){const u=r[c-1-d],h=u.getRotation(),C=u.getWidth(),f=u.getHeight(),E=u.getGroupWidth(),y=u.getGroupHeight(),P=E?C/E:1,S=y?f/y:1,T=u.getFlipH(),I=u.getFlipV(),G=u.getX()+C/2,M=u.getY()+f/2,b=w.lwT(e,w.UPj([[G],[M],[1]]));let x=C,H=f,B=T,U=I,L=h;const F=t.length;for(let z=0;z<F;z+=1){const Ce=t[F-1-z],xe=o[F-1-z],Re=n[F-1-z],be=i[F-1-z],it=s[F-1-z];De(L)===!0?(x*=Re,H*=xe):(x*=xe,H*=Re),B=B!==be,U=U!==it,be!==it&&(L=360-L),L+=Ce}const de=Number(b.get([0,0]))-x/2,ue=Number(b.get([1,0]))-H/2;e=qt(u,de,ue,x,H,B,U,L),t.push(h),o.push(P),n.push(S),i.push(T),s.push(I)}return e}function qt(r,e,t,o,n,i,s,c){return w.lwT(ll(e,t,o,n,i,s,c),cl(e,t,o,n,r.getGroupX()??0,r.getGroupY()??0,r.getGroupWidth()??1,r.getGroupHeight()??1))}function ll(r,e,t,o,n,i,s){const c=n===!0?-1:1,d=i===!0?-1:1,u=w.gnS(w.zAA(s,"deg")),h=w.F8e(w.zAA(s,"deg")),C=w.UPj([[1,0,-(r+t/2)],[0,1,-(e+o/2)],[0,0,1]]),f=w.WCD(C);return w.lwT(w.lwT(w.lwT(f,w.UPj([[u,-h,0],[h,u,0],[0,0,1]])),w.UPj([[c,0,0],[0,d,0],[0,0,1]])),C)}function cl(r,e,t,o,n,i,s,c){return w.UPj([[t/s,0,r-t/s*n],[0,o/c,e-o/c*i],[0,0,1]])}function dl(r,e,t,o){const n=r.getGraphicEditingHandle(),i=fo(r,e);switch(n){case V.LEFT_TOP:return Co(o,{width:i.width,height:i.height},{width:i.width-t.x,height:i.height-t.y});case V.TOP:return{widthRatio:1,heightRatio:(i.height-t.y)/i.height};case V.RIGHT_TOP:return Co(o,{width:i.width,height:i.height},{width:i.width+t.x,height:i.height-t.y});case V.LEFT:return{widthRatio:(i.width-t.x)/i.width,heightRatio:1};case V.RIGHT:return{widthRatio:i.width?(i.width+t.x)/i.width:1,heightRatio:1};case V.LEFT_BOTTOM:return Co(o,{width:i.width,height:i.height},{width:i.width-t.x,height:i.height+t.y});case V.BOTTOM:return{widthRatio:1,heightRatio:(i.height+t.y)/i.height};case V.RIGHT_BOTTOM:return Co(o,{width:i.width,height:i.height},{width:i.width+t.x,height:i.height+t.y});default:break}return{widthRatio:1,heightRatio:1}}function Co(r,e,t){let o=1,n=1;if(o=t.width/e.width,n=t.height/e.height,r===!1)return{widthRatio:o,heightRatio:n};const i=w.T9B(w.tnl(o),w.tnl(n));return o=w._SZ(o)*i,n=w._SZ(n)*i,{widthRatio:o,heightRatio:n}}function pl(r,e,t){const o=r.getEditingDependentGraphicModelEditRequest(e);if(o!==void 0){const n=o.getInitialCoordinateInfo(),i=o.getCurrentEditingCoordinateInfo(),s=$r(r,e);let c=s.x+t.x,d=s.y+t.y;if(Rt(e)===!0){const u=fo(r,e),h=w.UPj([[c+u.width/2],[d+u.height/2],[1]]),C=si(r,e),f=w.lwT(w.WCD(C),h);c=Number(f.get([0,0]))-n.getWidth()/2,d=Number(f.get([1,0]))-n.getHeight()/2}i.setX(c),i.setY(d)}}function ul(r,e,t,o,n){if(r.getEditingDependentGraphicModelEditRequest(e)===void 0)return;const s=n??r.getGraphicEditingHandle(),c=mo(r,e),d=ei(r,e),u=fo(r,e),h=u.width,C=u.height,f=$r(r,e);let E=f.x,y=f.y,P=h*t.widthRatio,S=C*t.heightRatio;w.tnl(P)<5&&(P=5),w.tnl(S)<5&&(S=5);const T=t.widthRatio<0,I=t.heightRatio<0;let G={x:0,y:0};switch(s){case V.LEFT_TOP:case V.TOP:case V.LEFT:{let M={x:c.x+h/2,y:c.y+C/2};M=ce(M,c,d);let b={x:c.x+h/2-P,y:c.y+C/2-S};b=ce(b,c,d),G={x:(b.x+M.x)/2,y:(b.y+M.y)/2};const x=ce(b,G,-d),H=ce(M,G,-d);E=w.jkA(x.x,H.x),y=w.jkA(x.y,H.y);break}case V.RIGHT:case V.BOTTOM:case V.RIGHT_BOTTOM:{let M={x:c.x-h/2,y:c.y-C/2};M=ce(M,c,d);let b={x:c.x-h/2+P,y:c.y-C/2+S};b=ce(b,c,d),G={x:(M.x+b.x)/2,y:(M.y+b.y)/2};const x=ce(M,G,-d),H=ce(b,G,-d);E=w.jkA(x.x,H.x),y=w.jkA(x.y,H.y);break}case V.RIGHT_TOP:{let M={x:c.x-h/2,y:c.y+C/2};M=ce(M,c,d);let b={x:c.x-h/2+P,y:c.y+C/2-S};b=ce(b,c,d),G={x:(b.x+M.x)/2,y:(b.y+M.y)/2};const x=ce(b,G,-d),H=ce(M,G,-d);E=w.jkA(x.x,H.x),y=w.jkA(x.y,H.y);break}case V.LEFT_BOTTOM:{let M={x:c.x+h/2,y:c.y-C/2};M=ce(M,c,d);let b={x:c.x+h/2-P,y:c.y-C/2+S};b=ce(b,c,d),G={x:(M.x+b.x)/2,y:(M.y+b.y)/2};const x=ce(M,G,-d),H=ce(b,G,-d);E=w.jkA(x.x,H.x),y=w.jkA(x.y,H.y);break}default:break}P=w.tnl(P),S=w.tnl(S),hl(r,e,{x:E,y,centerX:G.x,centerY:G.y,width:P,height:S,flipH:T,flipV:I},o)}function hl(r,e,t,o){const n=r.getEditingDependentGraphicModelEditRequest(e);if(n===void 0)return;let i=t.x,s=t.y,c=t.width,d=t.height;if(Rt(e)===!0){const C=_n(r,e);c/=C.widthRatio,d/=C.heightRatio;const f=si(r,e),E=w.UPj([[t.centerX],[t.centerY],[1]]),y=w.lwT(w.WCD(f),E);i=Number(y.get([0,0]))-c/2,s=Number(y.get([1,0]))-d/2}const u=n.getInitialCoordinateInfo(),h=n.getCurrentEditingCoordinateInfo();h.setX(i),h.setY(s),h.setWidth(c),h.setHeight(d),o&&(h.setFlipH(u.getFlipH()!==t.flipH),h.setFlipV(u.getFlipV()!==t.flipV))}function ml(r,e,t,o){const n=r.getEditingDependentGraphicModelEditRequest(e);if(n!==void 0){const i=n.getInitialCoordinateInfo(),s=n.getCurrentEditingCoordinateInfo();let c=wt(i.getRotation()+t);o===!0&&(c=Math.floor(c/15)*15),s.setRotation(c);const d=_n(r,e),u=qr(r,e);s.setWidth(i.getWidth()*d.widthRatio/u.widthRatio),s.setHeight(i.getHeight()*d.heightRatio/u.heightRatio),s.setX(i.getX()+i.getWidth()/2-s.getWidth()/2),s.setY(i.getY()+i.getHeight()/2-s.getHeight()/2)}}function vn(r){gl(r)}function gl(r){const e=r.getEditingDependentGraphicModelEditRequestMap(),t=new Map;e.forEach((n,i)=>{let s=0,c=i.getParent();for(;ae(c)&&q(c);){s+=1;const d=t.get(c);(d===void 0||d<s)&&t.set(c,s),c=c.getParent()}});const o=Array.from(t);o.sort((n,i)=>i[1]-n[1]),o.forEach(n=>{_l(r,n[0])})}function Bp(r){}function _l(r,e){let t=1/0,o=1/0,n=-1/0,i=-1/0;e.mapChild(c=>{const d=c,h=r.getEditingDependentGraphicModelEditRequest(d)?.getCurrentEditingCoordinateInfo()??d.getCoordinateInfo();if(h!==void 0){let C,f,E,y;if(De(h.getRotation())===!0){const P=h.getX()+h.getWidth()/2,S=h.getY()+h.getHeight()/2;C=P-h.getHeight()/2,f=S-h.getWidth()/2,E=P+h.getHeight()/2,y=S+h.getWidth()/2}else C=h.getX(),f=h.getY(),E=h.getX()+h.getWidth(),y=h.getY()+h.getHeight();t=w.jkA(t,C),o=w.jkA(o,f),n=w.T9B(n,E),i=w.T9B(i,y)}}),r.appendEditingDependentGraphicModelEditRequest(e);const s=r.getEditingDependentGraphicModelEditRequest(e);if(s!==void 0){const c=s.getCurrentEditingCoordinateInfo(),d=s.getInitialCoordinateInfo();c.setGroupX(t),c.setGroupY(o),c.setGroupWidth(n-t),c.setGroupHeight(i-o),c.setWidth((c.getGroupWidth()??1)*d.getWidth()/(d.getGroupWidth()??1)),c.setHeight((c.getGroupHeight()??1)*d.getHeight()/(d.getGroupHeight()??1));const u=fl(r,e);c.setX(u.x),c.setY(u.y)}}function fl(r,e){const t=pt(r,e),o=we([Je(r,e),...t]),n=ut(r,e),i=Ye(r,e),s=we(n),c=we([i,...n]),d=kr(r,e),u=gn(r,e),h=w.WCD(w.UPj([[1,0,d.x],[0,1,d.y],[0,0,1]])),C=w.lwT(h,c),f=w.lwT(o,w.WCD(C)),E=w.UPj([[1,0,Number(f.get([0,2]))+u.width/2],[0,1,Number(f.get([1,2]))+u.height/2],[0,0,1]]),y=w.lwT(w.WCD(s),E);return{x:Number(y.get([0,2])-i.getWidth()/2),y:Number(y.get([1,2])-i.getHeight()/2)}}class Cl{}const Jt=Cl;var El=Object.defineProperty,yl=Object.getOwnPropertyDescriptor,Pn=(r,e,t,o)=>{for(var n=o>1?void 0:o?yl(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&El(e,t,n),n};class Eo extends Jt{constructor(e,t,o,n){super(),this.targetModel=e,this.oldValue=t,this.newValue=o,this.setterFunction=n}apply(){this.setterFunction(this.newValue)}unapply(){this.setterFunction(this.oldValue)}reapply(){this.apply()}}Pn([a.Q2],Eo.prototype,"apply",1),Pn([a.Q2],Eo.prototype,"unapply",1),Pn([a.Q2],Eo.prototype,"reapply",1);const ht=Eo;var vl=Object.defineProperty,Pl=Object.getOwnPropertyDescriptor,Rn=(r,e,t,o)=>{for(var n=o>1?void 0:o?Pl(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&vl(e,t,n),n};class Gt extends Jt{constructor(e,t,o){super(),this.target=e,this.parent=t,this.nextSibling=o}apply(){this.target.append(this.parent,this.nextSibling)}unapply(){this.target.remove(this.parent)}reapply(){this.apply()}}Rn([a.Q2],Gt.prototype,"apply",1),Rn([a.Q2],Gt.prototype,"unapply",1),Rn([a.Q2],Gt.prototype,"reapply",1);var Rl=Object.defineProperty,Sl=Object.getOwnPropertyDescriptor,Sn=(r,e,t,o)=>{for(var n=o>1?void 0:o?Sl(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Rl(e,t,n),n};class yo extends Jt{constructor(e,t,o,n){super(),this.ctx=e,this.targetModel=t,this.onApply=o,this.onUnapply=n}apply(){this.onApply===!0&&this.targetModel.requestRerender(this.ctx)}unapply(){this.onUnapply===!0&&this.targetModel.requestRerender(this.ctx)}reapply(){this.apply()}}Sn([a.Q2],yo.prototype,"apply",1),Sn([a.Q2],yo.prototype,"unapply",1),Sn([a.Q2],yo.prototype,"reapply",1);const Ke=yo;class wn extends St{processCommand(e,t){switch(t.commandId){case D.P.GRAPHIC_INSERT_SET_UP:{this.setUpGraphicModelInsertContext(e,t);break}case D.P.GRAPHIC_INSERT:{this.insertGraphicModel(e,t);break}case D.P.GRAPHIC_INSERT_DUPLICATE:{this.insertGraphicModelByDuplicate(e,t);break}case D.P.GRAPHIC_INSERT_ABORT:{this.clearGraphicModelInsertContext(e);break}default:break}return{isValid:!0,terminate:!0}}setUpGraphicModelInsertContext(e,t){const o=qa(t.shapeType);this.clearGraphicModelInsertContext(e);const n=e.getEditableContext(),i=n.getGraphicEditInfoContainer();n.setEventState(j.GRAPHIC_INSERT),i.setEventTargetGraphicModel(o),i.appendEditPreviewLayerGraphicModel(o),i.setGraphicEditEventSubState(N.READY),e.getEditableContext().getProxyLayerInfoContainer().enableEditViewProxyLayer(o,{cursorType:"crosshair"},!0)}insertGraphicModel(e,t){const o=e.getEditableContext(),n=o.getTreeNodeRoot(),i=o.getGraphicEditInfoContainer(),s=o.getCommandController(),c=i.getEventTargetGraphicModel();c!==void 0&&s!==void 0&&(s?.appendSimpleCommand(new Gt(c,n)),s?.appendPostSimpleCommand(new Ke(e,n,!0,!0)),Y(e,[c])),this.clearGraphicModelInsertContext(e)}insertGraphicModelByDuplicate(e,t){const o=e.getEditableContext(),n=o.getTreeNodeRoot(),i=o.getGraphicEditInfoContainer();i.setIsBeingEditedToAllEditingDependentGraphicModels(!1);const s=i.getEditingGraphicModelList(),c=o.getCommandController();c!==void 0&&(s.forEach(d=>{const u=i.getEditingDependentGraphicModelEditRequest(d);if(u!==void 0){const h=d.getCoordinateInfo(),C=u.getCurrentEditingCoordinateInfo();h.setX(C.getX()),h.setY(C.getY()),c.appendSimpleCommand(new Gt(d,d.getParent()??n))}}),c.preExecuteCommand(),this.updateParentGroupCoordinate(e,i),Y(e,s)),this.clearGraphicModelInsertContext(e)}updateParentGroupCoordinate(e,t){const o=t.getEditingGraphicModelList(),n=t.getEditingDependentGraphicModelEditRequestMap(),i=new Set;o.forEach(s=>{const c=We(s);c&&i.add(c)}),i.forEach(s=>{this.updateGroupCoordinate(s,o,n)}),this.applyEditRequest(e,n)}getChildGraphicModelList(e,t){const o=new Array;return t.forEach(n=>{n.getParent()===e&&o.push(n)}),e.forEachChild(n=>{ae(n)&&o.push(n)}),o}updateGroupCoordinate(e,t,o){const n=this.getChildGraphicModelList(e,t);n.forEach(i=>{q(i)===!0&&this.updateGroupCoordinate(i,t,o)}),q(e)===!0&&this.updateGroupCoordinateCore(e,n,o)}updateGroupCoordinateCore(e,t,o){let n=1/0,i=1/0,s=-1/0,c=-1/0;t.forEach(I=>{const G=o.get(I)?.getCurrentEditingCoordinateInfo()??I.getCoordinateInfo(),M=G.getX(),b=G.getY(),x=G.getWidth(),H=G.getHeight(),B=G.getRotation();let U,L,F,de;if(De(B)===!0){const ue=M+x/2,z=b+H/2;U=ue-H/2,L=z-x/2,F=ue+H/2,de=z+x/2}else U=M,L=b,F=M+x,de=b+H;n=Math.min(n,U),i=Math.min(i,L),s=Math.max(s,F),c=Math.max(c,de)});const d=o.get(e)??new at(e);o.has(e)===!1&&o.set(e,d);const u=d.getCurrentEditingCoordinateInfo(),h=n,C=i,f=s-n,E=c-i,y=f*u.getWidth()/(u.getGroupWidth()??1),P=E*u.getHeight()/(u.getGroupHeight()??1),S=new on;S.setX(u.getX()),S.setY(u.getY()),S.setWidth(y),S.setHeight(P),S.setFlipH(u.getFlipH()),S.setFlipV(u.getFlipV()),S.setRotation(u.getRotation()),S.setGroupX(h),S.setGroupY(C),S.setGroupWidth(f),S.setGroupHeight(E);const T=this.getNewGroupPosition(e,S,o);u.setX(T.x),u.setY(T.y),u.setWidth(y),u.setHeight(P),u.setGroupX(h),u.setGroupY(C),u.setGroupWidth(f),u.setGroupHeight(E)}getNewGroupPosition(e,t,o){const n=o.get(e)??new at(e);o.has(e)===!1&&o.set(e,n);const i=this.getParentCoordinateInfoList(e,o),s=n.getCurrentEditingCoordinateInfo(),c=we([s,...i]),d=we(i),u=we([t,...i]),{currentPosition:h,currentSize:C}=this.getCurrentTransform(t,i,d),f=w.WCD(w.UPj([[1,0,h.x],[0,1,h.y],[0,0,1]])),E=w.lwT(f,u),y=w.lwT(c,w.WCD(E)),P=w.UPj([[1,0,Number(y.get([0,2]))+C.width/2],[0,1,Number(y.get([1,2]))+C.height/2],[0,0,1]]),S=w.lwT(w.WCD(d),P);return{x:Number(S.get([0,2])-t.getWidth()/2),y:Number(S.get([1,2])-t.getHeight()/2)}}getParentCoordinateInfoList(e,t){const o=new Array;let n=e.getParent();for(;ae(n)&&q(n)===!0;){const i=n,s=t.get(i);o.push(s?.getCurrentEditingCoordinateInfo()??i.getCoordinateInfo()),n=n.getParent()}return o}getCurrentTransform(e,t,o){const n={width:e.getWidth(),height:e.getHeight()};let i=e.getRotation();t.forEach(d=>{const u=d.getGroupWidth(),h=d.getGroupHeight(),C=u?d.getWidth()/u:1,f=h?d.getHeight()/h:1;De(i)===!0?(n.width*=f,n.height*=C):(n.width*=C,n.height*=f);const E=d.getFlipH(),y=d.getFlipV();E!==y&&(i=360-i),i+=d.getRotation()});const s=w.UPj([[1,0,e.getX()+e.getWidth()/2],[0,1,e.getY()+e.getHeight()/2],[0,0,1]]),c=w.lwT(o,s);return{currentPosition:{x:Number(c.get([0,2]))-n.width/2,y:Number(c.get([1,2]))-n.height/2},currentSize:n}}applyEditRequest(e,t){t.forEach((o,n)=>{const i=n.getCoordinateInfo(),s=o.getCurrentEditingCoordinateInfo().clone(),c=new ht(n,i,s,n.setCoordinateInfo);e.getEditableContext().getCommandController()?.appendSimpleCommand(c)})}clearGraphicModelInsertContext(e){ho(e)}}var wl=Object.defineProperty,Ml=Object.getOwnPropertyDescriptor,bl=(r,e,t,o)=>{for(var n=o>1?void 0:o?Ml(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&wl(e,t,n),n};class ai{get(e){return this.getCommandMap().has(e)===!1&&this.getCommandCreatorMap().get(e)?.(),this.getCommandMap().get(e)}}bl([a.Q2],ai.prototype,"get",1);var Tl=Object.defineProperty,Al=Object.getOwnPropertyDescriptor,li=(r,e,t,o)=>{for(var n=o>1?void 0:o?Al(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Tl(e,t,n),n};class vo extends St{processCommand(e,t){switch(t.commandId){case D.P.GRAPHIC_MOVE:{this.moveGraphicModelByEditContext(e,t);break}case D.P.GRAPHIC_MOVE_ABORT:{this.clearGraphicModelEditContext(e);break}default:break}return{isValid:!0,terminate:!0}}moveGraphicModelByEditContext(e,t){const o=e.getEditableContext(),n=o.getGraphicEditInfoContainer(),i=o.getCommandController();if(i!==void 0){n.getEditingDependentGraphicModelEditRequestMap().forEach(c=>{const d=c.getGraphicModel(),u=c.getCurrentEditingCoordinateInfo(),h=d.getCoordinateInfo(),C=u.clone(),f=new ht(d,h,C,d.setCoordinateInfo);i.appendSimpleCommand(f);const E=new Ke(e,d,!0,!0);i.appendPostSimpleCommand(E)});const s=n.getEditingGraphicModelList();Y(e,s)}this.clearGraphicModelEditContext(e)}clearGraphicModelEditContext(e){e.getEditableContext().getGraphicEditInfoContainer().getEditingGraphicModelList().forEach(n=>{n.requestRerender(e)}),ho(e)}}li([a.Q2],vo.prototype,"moveGraphicModelByEditContext",1),li([a.Q2],vo.prototype,"clearGraphicModelEditContext",1);var Il=Object.defineProperty,Gl=Object.getOwnPropertyDescriptor,ci=(r,e,t,o)=>{for(var n=o>1?void 0:o?Gl(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Il(e,t,n),n};class Po extends St{processCommand(e,t){switch(t.commandId){case D.P.GRAPHIC_ROTATE:{this.rotateGraphicModelByEditContext(e);break}case D.P.GRAPHIC_ROTATE_ABORT:{this.clearGraphicModelEditContext(e);break}default:break}return{isValid:!0,terminate:!0}}rotateGraphicModelByEditContext(e){const t=e.getEditableContext(),o=t.getGraphicEditInfoContainer(),n=t.getCommandController();if(n!==void 0){o.getEditingDependentGraphicModelEditRequestMap().forEach(s=>{const c=s.getGraphicModel(),d=s.getCurrentEditingCoordinateInfo(),u=c.getCoordinateInfo(),h=d.clone(),C=new ht(c,u,h,c.setCoordinateInfo);n.appendSimpleCommand(C);const f=new Ke(e,c,!0,!0);n.appendPostSimpleCommand(f)});const i=o.getEditingGraphicModelList();Y(e,i)}this.clearGraphicModelEditContext(e)}clearGraphicModelEditContext(e){e.getEditableContext().getGraphicEditInfoContainer().getEditingGraphicModelList().forEach(n=>{n.requestRerender(e)}),ho(e)}}ci([a.Q2],Po.prototype,"rotateGraphicModelByEditContext",1),ci([a.Q2],Po.prototype,"clearGraphicModelEditContext",1);var xl=Object.defineProperty,Ol=Object.getOwnPropertyDescriptor,di=(r,e,t,o)=>{for(var n=o>1?void 0:o?Ol(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&xl(e,t,n),n};class Ro extends St{processCommand(e,t){switch(t.commandId){case D.P.GRAPHIC_RESIZE:{this.resizeGraphicModelByEditContext(e);break}case D.P.GRAPHIC_RESIZE_ABORT:{this.clearGraphicModelEditContext(e);break}default:break}return{isValid:!0,terminate:!0}}resizeGraphicModelByEditContext(e){const t=e.getEditableContext(),o=t.getGraphicEditInfoContainer(),n=t.getCommandController();if(n!==void 0){o.getEditingDependentGraphicModelEditRequestMap().forEach(s=>{const c=s.getGraphicModel(),d=s.getCurrentEditingCoordinateInfo(),u=c.getCoordinateInfo(),h=d.clone(),C=new ht(c,u,h,c.setCoordinateInfo);n.appendSimpleCommand(C);const f=new Ke(e,c,!0,!0);n.appendPostSimpleCommand(f)});const i=o.getEditingGraphicModelList();Y(e,i)}this.clearGraphicModelEditContext(e)}clearGraphicModelEditContext(e){e.getEditableContext().getGraphicEditInfoContainer().getEditingGraphicModelList().forEach(n=>{n.requestRerender(e)}),ho(e)}}di([a.Q2],Ro.prototype,"resizeGraphicModelByEditContext",1),di([a.Q2],Ro.prototype,"clearGraphicModelEditContext",1);var Dl=Object.defineProperty,Ll=Object.getOwnPropertyDescriptor,So=(r,e,t,o)=>{for(var n=o>1?void 0:o?Ll(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Dl(e,t,n),n};class xt extends Jt{constructor(e){super(),this.target=e,this.parent=void 0,this.nextSibling=void 0}apply(){this.parent===void 0&&(this.parent=this.target.getParent(),this.nextSibling=this.target.getNextSibling()),this.removeTreeNode()}unapply(){this.parent!==void 0&&this.target.append(this.parent,this.nextSibling)}reapply(){this.removeTreeNode()}removeTreeNode(){this.parent!==void 0&&this.target.remove(this.parent)}}So([a.Q2],xt.prototype,"apply",1),So([a.Q2],xt.prototype,"unapply",1),So([a.Q2],xt.prototype,"reapply",1),So([a.Q2],xt.prototype,"removeTreeNode",1);var Nl=Object.defineProperty,Bl=Object.getOwnPropertyDescriptor,Mn=(r,e,t,o)=>{for(var n=o>1?void 0:o?Bl(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Nl(e,t,n),n};class Ot extends Jt{constructor(e,t,o){super(),this.target=e,this.newParent=t,this.newNextSibling=o}apply(){this.oldParent=this.target.getParent(),this.oldNextSibling=this.target.getNextSibling(),this.oldParent!==void 0&&this.target.remove(this.oldParent),this.target.append(this.newParent,this.newNextSibling)}unapply(){this.target.remove(this.newParent),this.oldParent!==void 0&&this.target.append(this.oldParent,this.oldNextSibling)}reapply(){this.oldParent!==void 0&&this.target.remove(this.oldParent),this.target.append(this.newParent,this.newNextSibling)}}Mn([a.Q2],Ot.prototype,"apply",1),Mn([a.Q2],Ot.prototype,"unapply",1),Mn([a.Q2],Ot.prototype,"reapply",1);class Hl extends St{processCommand(e,t){switch(t.commandId){case D.P.DELETE_GRAPHIC:{this.deleteGraphic(e);break}default:break}return{isValid:!0,terminate:!0}}deleteGraphic(e){const n=e.getEditableContext().getSelectionContainer().getGraphicModelSelectionContainer().getSelectedGraphicModels(),i=new Array;n?.reverse().forEach(s=>{s.getParent()!==void 0&&(this.removeNodeAndAllChild(e,s),Rt(s)===!0&&i.push(s))}),this.updateParentGroup(e,i),Y(e,[])}updateParentGroup(e,t){const o=new Set(t),n=new Map,i=new Set;t.forEach(s=>{const c=s.getParent();if(ae(c)&&q(c)===!0){this.unGroupChild(e,c,o,n);const d=We(c);d!==void 0&&i.add(d)}}),i.forEach(s=>{this.updateGroupCoordinate(s,o,n)}),this.applyEditRequest(e,n)}updateGroupCoordinate(e,t,o){const n=this.getChildGraphicModelList(e,t);n.forEach(i=>{q(i)===!0&&this.updateGroupCoordinate(i,t,o)}),q(e)===!0&&t.has(e)===!1&&this.updateGroupCoordinateCore(e,n,t,o)}updateGroupCoordinateCore(e,t,o,n){let i=1/0,s=1/0,c=-1/0,d=-1/0;t.forEach(G=>{const M=n.get(G)?.getCurrentEditingCoordinateInfo()??G.getCoordinateInfo();if(M!==void 0){let b,x,H,B;if(De(M.getRotation())===!0){const U=M.getX()+M.getWidth()/2,L=M.getY()+M.getHeight()/2;b=U-M.getHeight()/2,x=L-M.getWidth()/2,H=U+M.getHeight()/2,B=L+M.getWidth()/2}else b=M.getX(),x=M.getY(),H=M.getX()+M.getWidth(),B=M.getY()+M.getHeight();i=w.jkA(i,b),s=w.jkA(s,x),c=w.T9B(c,H),d=w.T9B(d,B)}});const u=n.get(e)??new at(e);n.has(e)===!1&&n.set(e,u);const h=u.getCurrentEditingCoordinateInfo(),C=i,f=s,E=c-i,y=d-s,P=E*h.getWidth()/(h.getGroupWidth()??1),S=y*h.getHeight()/(h.getGroupHeight()??1),T=new on;T.setX(h.getX()),T.setY(h.getY()),T.setWidth(P),T.setHeight(S),T.setFlipH(h.getFlipH()),T.setFlipV(h.getFlipV()),T.setRotation(h.getRotation()),T.setGroupX(C),T.setGroupY(f),T.setGroupWidth(E),T.setGroupHeight(y);const I=this.getNewGroupPosition(e,T,o,n);h.setX(I.x),h.setY(I.y),h.setWidth(P),h.setHeight(S),h.setGroupX(C),h.setGroupY(f),h.setGroupWidth(E),h.setGroupHeight(y)}getNewGroupPosition(e,t,o,n){const i=n.get(e)??new at(e);n.has(e)===!1&&n.set(e,i);const s=this.getParentCoordinateInfoList(e,o,n),c=i.getCurrentEditingCoordinateInfo(),d=we([c,...s]),u=we(s),h=we([t,...s]),{currentPosition:C,currentSize:f}=this.getCurrentTransform(t,s,u),E=w.WCD(w.UPj([[1,0,C.x],[0,1,C.y],[0,0,1]])),y=w.lwT(E,h),P=w.lwT(d,w.WCD(y)),S=w.UPj([[1,0,Number(P.get([0,2]))+f.width/2],[0,1,Number(P.get([1,2]))+f.height/2],[0,0,1]]),T=w.lwT(w.WCD(u),S);return{x:Number(T.get([0,2])-t.getWidth()/2),y:Number(T.get([1,2])-t.getHeight()/2)}}unGroupChild(e,t,o,n){if(q(t)===!0&&o.has(t)===!1){const i=this.getChildGraphicModelList(t,o);if(i.length<2){const s=this.getNewParent(t,o);s!==void 0&&(o.add(t),i.forEach(c=>{this.moveNode(e,c,s,this.getNewNextSibling(t,o))}),this.removeNode(e,t),this.applyUnGroupTransform(t,s,i,o,n),n.delete(t),ae(s)&&q(s)&&this.unGroupChild(e,s,o,n))}}}applyUnGroupTransform(e,t,o,n,i){let s=w.D_O(3,3);if(ae(t)&&q(t)===!0){const E=t,y=this.getParentCoordinateInfoList(E,n,i);s=we([i.get(E)?.getCurrentEditingCoordinateInfo()??E.getCoordinateInfo(),...y])}const c=new Array,d=new Array,u=new Array,h=new Array,C=new Array;let f=t;for(;ae(f)&&q(f)===!0;){const E=f;if(E!==void 0){const y=i.get(E)?.getCurrentEditingCoordinateInfo()??E.getCoordinateInfo();c.push(y.getFlipH()),d.push(y.getFlipV()),u.push(y.getRotation()),h.push(y.getWidth()/(y.getGroupWidth()??1)),C.push(y.getHeight()/(y.getGroupHeight()??1))}f=this.getNewParent(f,n)}c.reverse(),d.reverse(),u.reverse(),h.reverse(),C.reverse(),o.forEach(E=>{if(this.applyUnGroupTransformOneDepthChild(E,e,s,c,d,u,h,C,i),q(E)===!0){const y=i.get(E)?.getCurrentEditingCoordinateInfo()??E.getCoordinateInfo();c.push(y.getFlipH()),d.push(y.getFlipV()),u.push(y.getRotation()),h.push(y.getWidth()/(y.getGroupWidth()??1)),C.push(y.getHeight()/(y.getGroupHeight()??1));const P=go(E),S=et(E),T=qt(y,P.x,P.y,S.width,S.height,Zt(E),It(E),At(E));this.applyUnGroupTransformRecursively(E,T,c,d,u,h,C,n,i),c.pop(),d.pop(),u.pop(),h.pop(),C.pop()}})}applyUnGroupTransformOneDepthChild(e,t,o,n,i,s,c,d,u){const h=u.get(e)??new at(e);u.has(e)===!1&&u.set(e,h);const C=u.get(t)?.getCurrentEditingCoordinateInfo()??t.getCoordinateInfo(),f=h.getCurrentEditingCoordinateInfo();let E=f.getRotation();C.getFlipH()!==C.getFlipV()&&(E=360-E),E+=C.getRotation();let y=1,P=1,S=E;const T=n.length;for(let F=0;F<T;F+=1){const de=n[T-1-F],ue=i[T-1-F],z=s[T-1-F],Ce=c[T-1-F],xe=d[T-1-F];De(S)===!0?(y*=xe,P*=Ce):(y*=Ce,P*=xe),de!==ue&&(S=360-S),S+=z}const I=et(e),G=I.width/y,M=I.height/P,b=kt(e),x=w.lwT(w.WCD(o),w.UPj([[b.x],[b.y],[1]])),H=Number(x.get([0,0]))-G/2,B=Number(x.get([1,0]))-M/2,U=f.getFlipH()!==C.getFlipH(),L=f.getFlipV()!==C.getFlipV();f.setX(H),f.setY(B),f.setWidth(G),f.setHeight(M),f.setRotation(E),f.setFlipH(U),f.setFlipV(L)}applyUnGroupTransformRecursively(e,t,o,n,i,s,c,d,u){q(e)===!0&&this.getChildGraphicModelList(e,d).forEach(C=>{if(ae(C)){const f=C,E=u.get(f)??new at(f);u.has(f)===!1&&u.set(f,E);const y=E.getCurrentEditingCoordinateInfo();let P=1,S=1,T=y.getRotation();const I=o.length;for(let L=0;L<I;L+=1){const F=o[I-1-L],de=n[I-1-L],ue=i[I-1-L],z=s[I-1-L],Ce=c[I-1-L];De(T)===!0?(P*=Ce,S*=z):(P*=z,S*=Ce),F!==de&&(T=360-T),T+=ue}const G=et(f),M=G.width/P,b=G.height/S,x=kt(f),H=w.lwT(w.WCD(t),w.UPj([[x.x],[x.y],[1]])),B=Number(H.get([0,0]))-M/2,U=Number(H.get([1,0]))-b/2;if(y.setX(B),y.setY(U),y.setWidth(M),y.setHeight(b),q(f)===!0){const L={x:x.x-G.width/2,y:x.y-G.height/2},F=qt(y,L.x,L.y,G.width,G.height,Zt(f),It(f),At(f));o.push(y.getFlipH()),n.push(y.getFlipV()),i.push(y.getRotation()),s.push(M/(y.getGroupWidth()??1)),c.push(b/(y.getGroupHeight()??1)),this.applyUnGroupTransformRecursively(f,F,o,n,i,s,c,d,u),o.pop(),n.pop(),i.pop(),s.pop(),c.pop()}}})}getCurrentTransform(e,t,o){const n={width:e.getWidth(),height:e.getHeight()};let i=e.getRotation();t.forEach(d=>{De(i)===!0?(n.width*=d.getHeight()/(d.getGroupHeight()??1),n.height*=d.getWidth()/(d.getGroupWidth()??1)):(n.width*=d.getWidth()/(d.getGroupWidth()??1),n.height*=d.getHeight()/(d.getGroupHeight()??1));const u=d.getFlipH(),h=d.getFlipV();u!==h&&(i=360-i),i+=d.getRotation()});const s=w.UPj([[1,0,e.getX()+e.getWidth()/2],[0,1,e.getY()+e.getHeight()/2],[0,0,1]]),c=w.lwT(o,s);return{currentPosition:{x:Number(c.get([0,2]))-n.width/2,y:Number(c.get([1,2]))-n.height/2},currentSize:n}}applyEditRequest(e,t){const o=e.getEditableContext().getCommandController();o!==void 0&&t.forEach((n,i)=>{const s=i.getCoordinateInfo(),c=n.getCurrentEditingCoordinateInfo().clone(),d=new ht(i,s,c,i.setCoordinateInfo);o.appendSimpleCommand(d);const u=new Ke(e,i,!0,!0);o.appendPostSimpleCommand(u)})}removeNodeAndAllChild(e,t){t.getParent()!==void 0&&(this.removeChildNode(e,t),this.removeNode(e,t))}removeChildNode(e,t){for(let o=t.getLastChild();o!==void 0;o=o.getPrevSibling())o.getFirstChild()!==void 0&&this.removeChildNode(e,o),this.removeNode(e,o)}removeNode(e,t){const o=t.getParent();if(o===void 0)return!1;const n=e.getEditableContext().getCommandController(),i=new xt(t);n?.appendSimpleCommand(i);const s=new Ke(e,o,!0,!0);return n?.appendSimpleCommand(s),!0}moveNode(e,t,o,n){const i=e.getEditableContext().getCommandController(),s=new Ot(t,o,n);i?.appendSimpleCommand(s);const c=t.getParent();if(c!==void 0){const u=new Ke(e,c,!0,!0);i?.appendSimpleCommand(u)}const d=new Ke(e,o,!0,!0);i?.appendSimpleCommand(d)}getChildGraphicModelList(e,t){const o=new Array;return e.forEachChild(n=>{if(ae(n)){const i=n;t.has(i)===!1?o.push(i):q(i)===!0&&o.push(...this.getChildGraphicModelList(i,t))}}),o}getNewParent(e,t){let o=e.getParent();for(;o!==void 0&&(ae(o)&&t.has(o)===!0);)o=o.getParent();return o}getNewNextSibling(e,t){let o=e.getNextSibling();for(;o!==void 0&&(ae(o)&&t.has(o)===!0);)o=o.getNextSibling();return o}getParentCoordinateInfoList(e,t,o){const n=new Array;if(t.has(e)===!1){let i=e.getParent();for(;ae(i)&&q(i)===!0;){const s=i,c=o.get(s);t.has(s)===!1&&n.push(c?.getCurrentEditingCoordinateInfo()??s.getCoordinateInfo()),i=i.getParent()}}return n}}class pi extends St{processCommand(e,t){switch(t.commandId){case D.P.GROUP_OBJECTS:{this.groupObjects(e);break}case D.P.UNGROUP:{this.unGroup(e);break}default:break}return{isValid:!0,terminate:!0}}groupObjects(e){const t=e.getEditableContext(),n=t.getSelectionContainer().getGraphicModelSelectionContainer().getSelectedGraphicModels(),i=n.some(u=>Rt(u));if(n.length<2||i===!0)return;const s=t.getTreeNodeRoot(),c=s.mapChild(u=>u);n.sort((u,h)=>c.indexOf(u)<c.indexOf(h)?-1:c.indexOf(u)>c.indexOf(h)?1:0);const d=n[n.length-1].getNextSibling();this.createNewGroup(e,s,n,d)}unGroup(e){const t=e.getEditableContext(),o=t.getSelectionContainer(),n=t.getTreeNodeRoot(),i=t.getCommandController();if(i!==void 0){const s=new Set;if(o.getGraphicModelSelectionContainer().getSelectedGraphicModels().forEach(c=>{const d=We(c);d!==void 0&&s.add(d)}),s.size>0){const c=[];s.forEach(u=>{u.forEachChild(h=>{ae(h)&&c.push(h)}),this.unGroupChild(e,i,u,n)});const d=new Ke(e,n,!0,!0);i.appendPostSimpleCommand(d),Y(e,c)}}}createNewGroup(e,t,o,n){const i=e.getEditableContext().getCommandController();if(i!==void 0){const s=Ja();let c=1/0,d=1/0,u=-1/0,h=-1/0;o.forEach(y=>{const P=y.getCoordinateInfo(),S=P.getX(),T=P.getY(),I=P.getWidth(),G=P.getHeight(),M=P.getRotation();let b,x,H,B;if(De(M)===!0){const U=S+I/2,L=T+G/2;b=U-G/2,x=L-I/2,H=U+G/2,B=L+I/2}else b=S,x=T,H=S+I,B=T+G;c=Math.min(c,b),d=Math.min(d,x),u=Math.max(u,H),h=Math.max(h,B)});const C=s.getCoordinateInfo();C.setX(c),C.setY(d),C.setWidth(u-c),C.setHeight(h-d),C.setGroupX(c),C.setGroupY(d),C.setGroupWidth(u-c),C.setGroupHeight(h-d);const f=new Gt(s,t,n);i.appendSimpleCommand(f),o.forEach(y=>{const P=new Ot(y,s,void 0);i.appendSimpleCommand(P)});const E=new Ke(e,t,!0,!0);i.appendPostSimpleCommand(E),Y(e,[s])}}unGroupChild(e,t,o,n){let i=o.getLastChild();for(;ae(i);){const c=i,d=i===o.getLastChild()?o.getNextSibling():i.getNextSibling();this.moveNode(e,c,n,d);const u=c.getCoordinateInfo(),h=u.clone(),C=go(c);h.setX(C.x),h.setY(C.y);const f=et(c);h.setWidth(f.width),h.setHeight(f.height);const E=At(c);h.setRotation(E);const y=Zt(c),P=It(c);h.setFlipH(y),h.setFlipV(P);const S=new ht(c,u,h,c.setCoordinateInfo);t.appendSimpleCommand(S);const T=qt(u,C.x,C.y,f.width,f.height,y,P,E),I=new Array,G=new Array,M=new Array,b=new Array,x=new Array;I.push(y),G.push(P),M.push(E),b.push(f.width/(u.getGroupWidth()??1)),x.push(f.height/(u.getGroupHeight()??1)),q(c)===!0&&this.applyChildTransformRecursively(e,t,c,T,I,G,M,b,x),i=i.getPrevSibling()}const s=new xt(o);t?.appendSimpleCommand(s)}applyChildTransformRecursively(e,t,o,n,i,s,c,d,u){o.forEachChild(h=>{if(ae(h)){const C=h,f=C.getCoordinateInfo(),E=f.clone();let y=1,P=1,S=f.getRotation();const T=i.length;for(let L=0;L<T;L+=1){const F=i[T-1-L],de=s[T-1-L],ue=c[T-1-L],z=d[T-1-L],Ce=u[T-1-L];De(S)===!0?(y*=Ce,P*=z):(y*=z,P*=Ce),F!==de&&(S=360-S),S+=ue}const I=et(C),G=I.width/y,M=I.height/P;E.setWidth(G),E.setHeight(M);const b=kt(C),x=w.lwT(w.WCD(n),w.UPj([[b.x],[b.y],[1]])),H=Number(x.get([0,0]))-G/2,B=Number(x.get([1,0]))-M/2;E.setX(H),E.setY(B);const U=new ht(C,f,E,C.setCoordinateInfo);if(t.appendSimpleCommand(U),q(C)===!0){const L={x:b.x-I.width/2,y:b.y-I.height/2},F=qt(f,L.x,L.y,I.width,I.height,Zt(C),It(C),At(C));i.push(f.getFlipH()),s.push(f.getFlipV()),c.push(f.getRotation()),d.push(G/(f.getGroupWidth()??1)),u.push(M/(f.getGroupHeight()??1)),this.applyChildTransformRecursively(e,t,C,F,i,s,c,d,u),i.pop(),s.pop(),c.pop(),d.pop(),u.pop()}}})}moveNode(e,t,o,n){const i=e.getEditableContext().getCommandController(),s=new Ot(t,o,n);i?.appendSimpleCommand(s)}}var Ul=Object.defineProperty,Ql=Object.getOwnPropertyDescriptor,ui=(r,e,t,o)=>{for(var n=o>1?void 0:o?Ql(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Ul(e,t,n),n};class bn extends ai{constructor(e){super(),this.commandMap=new Map,this.commandCreatorMap=new Map,this.init(e)}getCommandMap(){return this.commandMap}getCommandCreatorMap(){return this.commandCreatorMap}init(e){this.getCommandCreatorMap().set(D.P.GRAPHIC_INSERT_SET_UP,()=>{const t=e.getTargetCommandHandler(wn);this.getCommandMap().set(D.P.GRAPHIC_INSERT_SET_UP,[t])}),this.getCommandCreatorMap().set(D.P.GRAPHIC_INSERT,()=>{const t=e.getTargetCommandHandler(wn);this.getCommandMap().set(D.P.GRAPHIC_INSERT,[t])}),this.getCommandCreatorMap().set(D.P.GRAPHIC_INSERT_ABORT,()=>{const t=e.getTargetCommandHandler(wn);this.getCommandMap().set(D.P.GRAPHIC_INSERT_ABORT,[t])}),this.getCommandCreatorMap().set(D.P.GRAPHIC_MOVE,()=>{const t=e.getTargetCommandHandler(vo);this.getCommandMap().set(D.P.GRAPHIC_MOVE,[t])}),this.getCommandCreatorMap().set(D.P.GRAPHIC_MOVE_ABORT,()=>{const t=e.getTargetCommandHandler(vo);this.getCommandMap().set(D.P.GRAPHIC_MOVE_ABORT,[t])}),this.getCommandCreatorMap().set(D.P.GRAPHIC_ROTATE,()=>{const t=e.getTargetCommandHandler(Po);this.getCommandMap().set(D.P.GRAPHIC_ROTATE,[t])}),this.getCommandCreatorMap().set(D.P.GRAPHIC_ROTATE_ABORT,()=>{const t=e.getTargetCommandHandler(Po);this.getCommandMap().set(D.P.GRAPHIC_ROTATE_ABORT,[t])}),this.getCommandCreatorMap().set(D.P.GRAPHIC_RESIZE,()=>{const t=e.getTargetCommandHandler(Ro);this.getCommandMap().set(D.P.GRAPHIC_RESIZE,[t])}),this.getCommandCreatorMap().set(D.P.GRAPHIC_RESIZE_ABORT,()=>{const t=e.getTargetCommandHandler(Ro);this.getCommandMap().set(D.P.GRAPHIC_RESIZE_ABORT,[t])}),this.getCommandCreatorMap().set(D.P.DELETE_GRAPHIC,()=>{const t=e.getTargetCommandHandler(Hl);this.getCommandMap().set(D.P.DELETE_GRAPHIC,[t])}),this.getCommandCreatorMap().set(D.P.GROUP_OBJECTS,()=>{const t=e.getTargetCommandHandler(pi);this.getCommandMap().set(D.P.GROUP_OBJECTS,[t])}),this.getCommandCreatorMap().set(D.P.UNGROUP,()=>{const t=e.getTargetCommandHandler(pi);this.getCommandMap().set(D.P.UNGROUP,[t])})}}ui([a.Q2],bn.prototype,"getCommandMap",1),ui([a.Q2],bn.prototype,"init",1);const Fl=bn;var Wl=Object.defineProperty,Vl=Object.getOwnPropertyDescriptor,hi=(r,e,t,o)=>{for(var n=o>1?void 0:o?Vl(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Wl(e,t,n),n};class Tn{constructor(){this.commandModeMap=new Map,this.commandHandlerFactory=new Br,this.init()}get(e){return this.commandModeMap.get(e)}init(){this.commandModeMap.set(en.EDIT,new Fl(this.commandHandlerFactory))}}hi([a.Q2],Tn.prototype,"get",1),hi([a.Q2],Tn.prototype,"init",1);var Kl=Object.defineProperty,jl=Object.getOwnPropertyDescriptor,eo=(r,e,t,o)=>{for(var n=o>1?void 0:o?jl(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Kl(e,t,n),n};class Dt{constructor(){this.commandModeMapper=new Tn}getCommandMapper(e){return this.commandModeMapper.get(e.getEditableContext().getCommandMode())}createCommandCompositor(e){return new ge(e)}createCommandController(e){return new ie(e)}execute(e){const o=e.getEditableContext().getCommandProps();if(o===void 0)return!1;const{commandId:n}=o;return n===D.P.UNDO?this.executeUndo(e,o):n===D.P.REDO?this.executeRedo(e,o):this.executeCurrentCommand(e,o)}executeCurrentCommand(e,t){const o=e.getEditableContext(),n=this.createCommandController(this.createCommandCompositor(e));o.setCommandController(n);let i=!0;return this.getCommandMapper(e)?.get(t.commandId)?.some(s=>{if(i===!1)return!0;const c=s.processCommand(e,t);return c.isValid===!1?(i=!1,n.fallback(),!0):c.terminate}),i===!0?(n.executeCommand(),n.executePostCommand(),n.finishApplyProcess(e),!0):!1}executeUndo(e,t){const o=e.getEditableContext();return this.createCommandController(this.createCommandCompositor(e)).unExecuteCommand(e),!0}executeRedo(e,t){const o=e.getEditableContext();return this.createCommandController(this.createCommandCompositor(e)).reExecuteCommand(e),!0}}eo([a.Q2],Dt.prototype,"getCommandMapper",1),eo([a.Q2],Dt.prototype,"execute",1),eo([a.Q2],Dt.prototype,"executeCurrentCommand",1),eo([a.Q2],Dt.prototype,"executeUndo",1),eo([a.Q2],Dt.prototype,"executeRedo",1);var zl=Object.defineProperty,Xl=Object.getOwnPropertyDescriptor,Yl=(r,e,t,o)=>{for(var n=o>1?void 0:o?Xl(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&zl(e,t,n),n};class mi{constructor(){this.eventHandlerMap=new Map}getTargetEventHandler(e){const t=ke(e);let o=this.eventHandlerMap.get(t);return o===void 0&&(o=new e,this.eventHandlerMap.set(t,o)),o}}Yl([a.Q2],mi.prototype,"getTargetEventHandler",1);const gi="MouseEventCoordinateReference",Me=10,wo=16;function $e(r,e){const o=document.getElementById(gi)?.getBoundingClientRect();return{x:(r.x-o.left)/e,y:(r.y-o.top)/e}}function Hp(r,e,t,o){const n=e.getEditableContext(),i=n.getViewModeContainer(),s=n.getGraphicEditInfoContainer(),c=i.getZoomRatio(),d=s.getEditingStartedRenderCoordinate(),u=$e({x:r.getClientX(),y:r.getClientY()},c),h=applyGraphicModelTransformToRenderCoordinate(s,t,d,o),C=applyGraphicModelTransformToRenderCoordinate(s,t,u,o);return{x:C.x-h.x,y:C.y-h.y}}class $l{onMouseDown(e,t){return!1}onMouseUp(e,t){return!1}onMouseMove(e,t){return!1}onDrag(e,t){return!1}onWheel(e,t){return!1}onKeyDown(e,t){return!1}onKeyUp(e,t){return!1}onAppAreaMouseDown(e,t){return!1}onAppAreaMouseUp(e,t){return!1}onAppAreaMouseMove(e,t){return!1}onAppAreaDrag(e,t){return!1}}const Lt=class extends st($l){};var kl=Object.defineProperty,Zl=Object.getOwnPropertyDescriptor,mt=(r,e,t,o)=>{for(var n=o>1?void 0:o?Zl(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&kl(e,t,n),n};class tt extends Lt{onMouseDown(e,t){e.stopPropagation(),e.preventDefault();const o=t.getEditableContext(),n=o.getGraphicEditInfoContainer(),i=o.getViewModeContainer(),s=o.getEventState(),c=n.getGraphicEditEventSubState(),d=i.getZoomRatio();if(this.isMouseDownValid(s,n)===!1)return c!==N.ABORT&&n.abortCurrentEditingState(),!0;n.setGraphicEditEventSubState(N.PRESSED);const u=$e({x:e.getClientX(),y:e.getClientY()},d);return n.setEditingStartedRenderCoordinate(u),!0}onDrag(e,t){e.stopPropagation();const o=t.getEditableContext(),n=o.getGraphicEditInfoContainer(),i=o.getViewModeContainer(),s=o.getProxyLayerInfoContainer(),c=o.getEventState(),d=n.getGraphicEditEventSubState(),u=i.getZoomRatio(),h=n.getEventTargetGraphicModel();if(d===N.PRESSED&&(n.setGraphicEditEventSubState(N.DRAG),n.setIsBeingEditedToAllEditingDependentGraphicModels(!0),s.disableEditViewProxyLayer(),s.enableAppAreaProxyLayer(h,{cursorType:"crosshair"},!0,!1),n.requestRerenderSelectionLayer(t)),this.isMouseMoveValid(c,n)===!1||h===void 0)return d!==N.ABORT&&n.abortCurrentEditingState(),!0;const C=n.getEditingStartedRenderCoordinate(),f=$e({x:e.getClientX(),y:e.getClientY()},u),E={x:f.x-C.x,y:f.y-C.y},y={width:E.x,height:E.y};if(e.isShiftDown()){const S=Math.max(Math.abs(E.x),Math.abs(E.y),5);y.width=Math.sign(E.x)*S,y.height=Math.sign(E.y)*S}else E.x>=0&&E.x<=5?y.width=5:E.x>=-5&&E.x<0&&(y.width=-5),E.y>=0&&E.y<=5?y.height=5:E.y>=-5&&E.y<0&&(y.height=-5);const P=h.getCoordinateInfo();return E.x>=0?(P.setX(C.x),P.setWidth(y.width)):(P.setX(f.x+y.width-E.x),P.setWidth(-y.width)),E.y>=0?(P.setY(C.y),P.setHeight(y.height)):(P.setY(f.y+y.height-E.y),P.setHeight(-y.height)),n.requestRerenderEditPreviewLayer(t),!0}onMouseUp(e,t){e.stopPropagation();const o=t.getEditableContext(),n=o.getGraphicEditInfoContainer(),i=o.getProxyLayerInfoContainer(),s=o.getEventState(),c=n.getGraphicEditEventSubState();if(i.disableAppAreaProxyLayer(),(c===N.PRESSED||c===N.DRAG)&&n.setGraphicEditEventSubState(N.RELEASED),this.isMouseUpValid(s,n)===!1){const u={commandId:D.P.GRAPHIC_INSERT_ABORT};return o.setCommandProps(u),!0}c===N.PRESSED&&this.setXYWithoutMove(n);const d={commandId:D.P.GRAPHIC_INSERT};return o.setCommandProps(d),!0}onAppAreaDrag(e,t){return this.onDrag(e,t)}onAppAreaMouseUp(e,t){return this.onMouseUp(e,t)}onKeyDown(e,t){switch(!0){case/^Escape$/.test(e.getKey()):{const o=t.getEditableContext();o.getGraphicEditInfoContainer().abortCurrentEditingState();const i={commandId:D.P.GRAPHIC_INSERT_ABORT};o.setCommandProps(i);break}default:break}return e.stopPropagation(),!0}onKeyUp(e,t){return e.stopPropagation(),!0}setXYWithoutMove(e){const t=e.getEventTargetGraphicModel();if(t!==void 0){const o=t.getCoordinateInfo(),n=e.getEditingStartedRenderCoordinate();o.setX(n.x),o.setY(n.y)}}isMouseDownValid(e,t){const o=t.getGraphicEditEventSubState(),n=t.getEventTargetGraphicModel();return!(e!==j.GRAPHIC_INSERT||o!==N.READY||n===void 0)}isMouseMoveValid(e,t){const o=t.getGraphicEditEventSubState();return!(e!==j.GRAPHIC_INSERT||o!==N.DRAG)}isMouseUpValid(e,t){const o=t.getGraphicEditEventSubState(),n=t.getEventTargetGraphicModel();return!(e!==j.GRAPHIC_INSERT||o!==N.RELEASED||n===void 0)}}mt([a.Q2],tt.prototype,"onMouseDown",1),mt([a.Q2],tt.prototype,"onDrag",1),mt([a.Q2],tt.prototype,"onMouseUp",1),mt([a.Q2],tt.prototype,"onAppAreaDrag",1),mt([a.Q2],tt.prototype,"onAppAreaMouseUp",1),mt([a.Q2],tt.prototype,"onKeyDown",1),mt([a.Q2],tt.prototype,"onKeyUp",1);var ql=Object.defineProperty,Jl=Object.getOwnPropertyDescriptor,Mo=(r,e,t,o)=>{for(var n=o>1?void 0:o?Jl(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&ql(e,t,n),n};class to extends Lt{onKeyDown(e,t){const o=t.getEditableContext();switch(!0){case/^Backspace$/.test(e.getKey()):case/^Delete$/.test(e.getKey()):return o.setCommandProps({commandId:D.P.DELETE_GRAPHIC}),e.preventDefault(),!0;case/^Escape$/.test(e.getKey()):{const n=o.createSelectionContainer();return o.setCommandProps({commandId:D.P.INVALID,newSelectionContainer:n}),!0}default:break}return!1}onMouseDown(e,t){const o=t.getEditableContext(),n=o.createSelectionContainer();o.setCommandProps({commandId:D.P.INVALID,newSelectionContainer:n});const i=o.getGraphicEditInfoContainer();return i.setRangeSelectionStartPosition({x:e.getClientX(),y:e.getClientY()}),i.setRangeSelectionEndPosition({x:e.getClientX(),y:e.getClientY()}),i.setGraphicEditEventSubState(N.PRESSED),!0}onDrag(e,t){const n=t.getEditableContext().getGraphicEditInfoContainer();return n.setRangeSelectionEndPosition({x:e.getClientX(),y:e.getClientY()}),n.setGraphicEditEventSubState(N.DRAG),!0}onMouseUp(e,t){const n=t.getEditableContext().getGraphicEditInfoContainer();if(n.getGraphicEditEventSubState()===N.DRAG){const i=n.getRangeSelectionStartPosition(),s=n.getRangeSelectionEndPosition()}return n.setGraphicEditEventSubState(N.NONE),!1}}Mo([a.Q2],to.prototype,"onKeyDown",1),Mo([a.Q2],to.prototype,"onMouseDown",1),Mo([a.Q2],to.prototype,"onDrag",1),Mo([a.Q2],to.prototype,"onMouseUp",1);var ec=Object.defineProperty,tc=Object.getOwnPropertyDescriptor,_i=(r,e,t,o)=>{for(var n=o>1?void 0:o?tc(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&ec(e,t,n),n};class An extends Lt{onMouseDown(e,t){e.stopPropagation();const o=t.getEditableContext(),n=o.getGraphicEditInfoContainer(),i=e.getEventTargetModel();if(ae(i)){n.setGraphicEditEventSubState(N.READY),n.setEventTargetGraphicModel(i);const s=o.getEventState(),c=n.getGraphicEditEventSubState(),d=o.getViewModeContainer().getZoomRatio();if(this.isMouseDownValid(s,n)===!1)return c!==N.ABORT&&n.abortCurrentEditingState(),!0;n.setGraphicEditEventSubState(N.PRESSED);const u=$e({x:e.getClientX(),y:e.getClientY()},d);n.setEditingStartedRenderCoordinate(u),n.setIsMultiSelectionEvent(e.isCtrlDown()||e.isShiftDown()),this.updateSelectionOnMouseDown(e,t)}return!0}onMouseUp(e,t){e.stopPropagation();const o=t.getEditableContext(),n=o.getEventState(),s=o.getSelectionContainer().getGraphicModelSelectionContainer(),c=o.getGraphicEditInfoContainer();if(this.isMouseUpValid(n,c)!==!1&&s!==void 0)return!1;const d={commandId:D.P.GRAPHIC_MOVE_ABORT};return o.setCommandProps(d),this.updateSelectionOnMouseUp(e,t),!0}isMouseDownValid(e,t){const o=t.getGraphicEditEventSubState(),n=t.getEventTargetGraphicModel();return!(e!==j.GRAPHIC_MOVE||o!==N.READY||n===void 0)}isMouseUpValid(e,t){const o=t.getGraphicEditEventSubState(),n=t.getEventTargetGraphicModel();return e===j.GRAPHIC_MOVE&&o===N.DRAG&&n!==void 0}updateSelectionOnMouseDown(e,t){const o=t.getEditableContext(),i=o.getSelectionContainer().getGraphicModelSelectionContainer(),s=o.getGraphicEditInfoContainer(),c=s.getEventTargetGraphicModel(),d=new Array;if(c===void 0)return;const u=i.getSize(),h=i.hasGraphicModelSelection(c),C=s.getIsMultiSelectionEvent(),f=We(c),E=f?i.hasGraphicModelSelection(f):!1,y=f?i.hasTargetRootGroupMember(f):!1;let P=!1;if(C===!0){if(f!==void 0){if(c===f)E===!0||(d.push(f),Y(t,d),P=!0);else if(E!==!0){if(h!==!0)if(y===!0)i.getGraphicModelSelections().forEach(S=>{d.push(S.getModel())}),d.push(c),Y(t,d),P=!0;else{const S=new Set;i.getGraphicModelSelections().forEach(T=>{const I=T.getModel(),G=We(I);G!==void 0?S.add(G):S.add(I)}),S.add(f),S.forEach(T=>{d.push(T)}),Y(t,d),P=!0}}}else if(h!==!0){const S=new Set;i.getGraphicModelSelections().forEach(T=>{const I=T.getModel(),G=We(I);G!==void 0?S.add(G):S.add(I)}),S.add(c),S.forEach(T=>{d.push(T)}),Y(t,d),P=!0}}else f!==void 0?c===f?E===!0||(d.push(f),Y(t,d),P=!0):E===!0||h===!0||(y===!0?(d.push(c),Y(t,d),P=!0):(d.push(f),Y(t,d),P=!0)):h===!0||(d.push(c),Y(t,d),P=!0);s.setIsSelectionRecentlyUpdated(P),P===!1&&(i.getGraphicModelSelections().forEach(T=>{d.push(T.getModel())}),Y(t,d))}updateSelectionOnMouseUp(e,t){const o=t.getEditableContext(),i=o.getSelectionContainer().getGraphicModelSelectionContainer(),s=o.getGraphicEditInfoContainer(),c=s.getEventTargetGraphicModel(),d=new Array;if(c===void 0||s.getIsSelectionRecentlyUpdated()===!0)return;const u=i.getSize(),h=i.hasGraphicModelSelection(c),C=s.getIsMultiSelectionEvent(),f=We(c),E=f?i.hasGraphicModelSelection(f):!1,y=f?i.hasTargetRootGroupMember(f):!1;let P=!1;C===!0?f!==void 0?c===f?E===!0&&(i.getGraphicModelSelections().forEach(S=>{S.getModel()!==f&&d.push(S.getModel())}),Y(t,d),P=!0):E===!0?u===1?(d.push(c),Y(t,d),P=!0):(i.getGraphicModelSelections().forEach(S=>{S.getModel()!==f&&d.push(S.getModel())}),Y(t,d),P=!0):h===!0&&(u===1?(d.push(f),Y(t,d),P=!0):(i.getGraphicModelSelections().forEach(S=>{S.getModel()!==c&&d.push(S.getModel())}),Y(t,d),P=!0)):h===!0&&(i.getGraphicModelSelections().forEach(S=>{S.getModel()!==c&&d.push(S.getModel())}),Y(t,d),P=!0):f!==void 0&&(c===f||E===!0&&u===1&&e.isRButton()===!1&&(d.push(c),Y(t,d),P=!0)),P===!1&&(i.getGraphicModelSelections().forEach(S=>{d.push(S.getModel())}),Y(t,d))}}_i([a.Q2],An.prototype,"onMouseDown",1),_i([a.Q2],An.prototype,"onMouseUp",1);var oc=Object.defineProperty,nc=Object.getOwnPropertyDescriptor,Nt=(r,e,t,o)=>{for(var n=o>1?void 0:o?nc(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&oc(e,t,n),n};class gt extends Lt{onDrag(e,t){e.stopPropagation();const o=t.getEditableContext(),n=o.getEventState(),i=o.getSelectionContainer(),s=o.getGraphicEditInfoContainer();s.getGraphicEditEventSubState()===N.PRESSED&&(s.setGraphicEditEventSubState(N.DRAG),this.setUpGraphicModelMoveContext(t,i,s));const c=s.getGraphicEditEventSubState();if(this.isMouseMoveValid(n,s)===!1)return c!==N.ABORT&&s.abortCurrentEditingState(),!0;const d=this.calculateMouseDelta(t,s,e),u=s.getEditingGraphicModelList();return this.applyMoveDelta(s,u,d),s.requestRerenderEditPreviewLayer(t),!0}onMouseUp(e,t){e.stopPropagation();const o=t.getEditableContext(),n=o.getEventState(),i=o.getSelectionContainer(),s=o.getGraphicEditInfoContainer();if(s.getGraphicEditEventSubState()===N.DRAG&&s.setGraphicEditEventSubState(N.RELEASED),s.getEventTargetGraphicModel()===void 0)return!0;if(this.isMouseUpValid(n,s,i)===!1){const C={commandId:D.P.GRAPHIC_MOVE_ABORT};return o.setCommandProps(C),!0}const d=this.calculateMouseDelta(t,s,e),u=s.getEditingGraphicModelList();this.applyMoveDelta(s,u,d),vn(s);const h={commandId:D.P.GRAPHIC_MOVE};return o.setCommandProps(h),!0}onAppAreaDrag(e,t){return this.onDrag(e,t)}onAppAreaMouseUp(e,t){return this.onMouseUp(e,t)}onKeyDown(e,t){switch(!0){case/^Escape$/.test(e.getKey()):{const o=t.getEditableContext();o.getGraphicEditInfoContainer().abortCurrentEditingState();const i={commandId:D.P.GRAPHIC_MOVE_ABORT};o.setCommandProps(i);break}default:break}return e.stopPropagation(),!0}onKeyUp(e,t){return e.stopPropagation(),!0}calculateMouseDelta(e,t,o){const n=e.getEditableContext().getViewModeContainer().getZoomRatio(),i=t.getEditingStartedRenderCoordinate(),s=$e({x:o.getClientX(),y:o.getClientY()},n);let c=s.x-i.x,d=s.y-i.y;return o.isShiftDown()===!0&&(w.tnl(c)>=w.tnl(d)?d=0:c=0),{x:c,y:d}}applyMoveDelta(e,t,o){t.forEach(n=>{pl(e,n,o)})}isMouseMoveValid(e,t){const o=t.getGraphicEditEventSubState(),n=t.getEventTargetGraphicModel();return!(e!==j.GRAPHIC_MOVE||o!==N.DRAG||n===void 0)}isMouseUpValid(e,t,o){const n=t.getGraphicEditEventSubState(),i=t.getEventTargetGraphicModel();return!(e!==j.GRAPHIC_MOVE||n!==N.RELEASED||i===void 0||o===void 0||o.getGraphicModelSelectionContainer()===void 0)}setUpGraphicModelMoveContext(e,t,o){pn(t,o,!0,void 0),un(o),hn(o),o.setIsBeingEditedToAllEditingDependentGraphicModels(!0);const n=o.getEventTargetGraphicModel();e.getEditableContext().getProxyLayerInfoContainer().enableAppAreaProxyLayer(n,{cursorType:"move"},!0,!1),o.getEditPreviewLayerGraphicModelList().forEach(i=>{i.requestRerender(e)}),o.requestRerenderSelectionLayer(e)}}Nt([a.Q2],gt.prototype,"onDrag",1),Nt([a.Q2],gt.prototype,"onMouseUp",1),Nt([a.Q2],gt.prototype,"onAppAreaDrag",1),Nt([a.Q2],gt.prototype,"onAppAreaMouseUp",1),Nt([a.Q2],gt.prototype,"onKeyDown",1),Nt([a.Q2],gt.prototype,"onKeyUp",1);var rc=Object.defineProperty,ic=Object.getOwnPropertyDescriptor,Bt=(r,e,t,o)=>{for(var n=o>1?void 0:o?ic(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&rc(e,t,n),n};class _t extends Lt{onMouseDown(e,t){e.stopPropagation();const o=t.getEditableContext(),n=o.getEventState(),i=o.getSelectionContainer(),s=i.getGraphicModelSelectionContainer(),c=o.getGraphicEditInfoContainer(),d=o.getViewModeContainer().getZoomRatio(),u=c.getGraphicEditEventSubState(),h=c.getEventTargetGraphicModel();if(this.isMouseDownValid(n,u)===!1||c.getGraphicEditingHandle()!==V.ROTATE||h===void 0)return u!==N.ABORT&&c.abortCurrentEditingState(),!0;const C=s.hasGraphicModelSelection(h);C===!1&&Y(t,[h]),c.setGraphicEditEventSubState(N.PRESSED);const f=$e({x:e.getClientX(),y:e.getClientY()},d);return c.setEditingStartedRenderCoordinate(f),this.setUpGraphicModelRotateContext(t,i,c,C),!0}onDrag(e,t){e.stopPropagation();const o=t.getEditableContext(),n=o.getEventState(),i=o.getSelectionContainer(),s=o.getGraphicEditInfoContainer(),c=o.getViewModeContainer().getZoomRatio();s.getGraphicEditEventSubState()===N.PRESSED&&(s.setGraphicEditEventSubState(N.DRAG),s.setIsBeingEditedToAllEditingDependentGraphicModels(!0),s.getEditPreviewLayerGraphicModelList().forEach(P=>{P.requestRerender(t)}),s.requestRerenderSelectionLayer(t));const d=s.getGraphicEditEventSubState(),u=s.getEventTargetGraphicModel();if(this.isMouseMoveValid(n,d,i)===!1||u===void 0)return d!==N.ABORT&&s.abortCurrentEditingState(),!0;const h=s.getEditingStartedRenderCoordinate(),C=$e({x:e.getClientX(),y:e.getClientY()},c),f=mo(s,u),E=Ta(h,C,f);return s.getEditingGraphicModelList().forEach(P=>{const S=s.getEditingDependentGraphicModelEditRequest(P);let T=1;if(S!==void 0){const I=S.getInitialCoordinateInfo(),G=ni(s,P)!==I.getFlipH(),M=ii(s,P)!==I.getFlipV();G!==M&&(T=-1)}ml(s,P,E*T,e.isShiftDown())}),s.requestRerenderEditPreviewLayer(t),!0}onMouseUp(e,t){e.stopPropagation();const o=t.getEditableContext(),n=o.getEventState(),i=o.getGraphicEditInfoContainer();if(i.getGraphicEditEventSubState()===N.DRAG&&i.setGraphicEditEventSubState(N.RELEASED),this.isMouseUpValid(n,i)===!1){const c={commandId:D.P.GRAPHIC_ROTATE_ABORT};return o.setCommandProps(c),!0}vn(i);const s={commandId:D.P.GRAPHIC_ROTATE};return o.setCommandProps(s),!0}onAppAreaDrag(e,t){return this.onDrag(e,t)}onAppAreaMouseUp(e,t){return this.onMouseUp(e,t)}onKeyDown(e,t){switch(!0){case/^Escape$/.test(e.getKey()):{const o=t.getEditableContext();o.getGraphicEditInfoContainer().abortCurrentEditingState();const i={commandId:D.P.GRAPHIC_ROTATE_ABORT};o.setCommandProps(i);break}default:break}return e.stopPropagation(),!0}onKeyUp(e,t){return e.stopPropagation(),!0}isMouseDownValid(e,t){return!(e!==j.GRAPHIC_ROTATE||t!==N.READY)}isMouseMoveValid(e,t,o){return!(e!==j.GRAPHIC_ROTATE||t!==N.DRAG||o===void 0||o.getGraphicModelSelectionContainer()===void 0)}isMouseUpValid(e,t){const o=t.getGraphicEditEventSubState(),n=t.getEventTargetGraphicModel();return!(e!==j.GRAPHIC_ROTATE||o!==N.RELEASED||n===void 0)}setUpGraphicModelRotateContext(e,t,o,n){pn(t,o,n,void 0),un(o),hn(o);const i=o.getEventTargetGraphicModel();e.getEditableContext().getProxyLayerInfoContainer().enableAppAreaProxyLayer(i,{cursorType:"img",img:ze.u.IMG_CURSOR_ROTATE,position:{x:15,y:15}},!0,!1)}}Bt([a.Q2],_t.prototype,"onMouseDown",1),Bt([a.Q2],_t.prototype,"onDrag",1),Bt([a.Q2],_t.prototype,"onMouseUp",1),Bt([a.Q2],_t.prototype,"onAppAreaMouseUp",1),Bt([a.Q2],_t.prototype,"onKeyDown",1),Bt([a.Q2],_t.prototype,"onKeyUp",1);var sc=Object.defineProperty,ac=Object.getOwnPropertyDescriptor,Ht=(r,e,t,o)=>{for(var n=o>1?void 0:o?ac(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&sc(e,t,n),n};class ft extends Lt{onMouseDown(e,t){e.stopPropagation();const o=t.getEditableContext(),n=o.getEventState(),i=o.getSelectionContainer(),s=i.getGraphicModelSelectionContainer(),c=o.getGraphicEditInfoContainer(),d=o.getViewModeContainer().getZoomRatio(),u=c.getGraphicEditEventSubState(),h=c.getEventTargetGraphicModel();if(this.isMouseDownValid(n,u)===!1||h===void 0)return u!==N.ABORT&&c.abortCurrentEditingState(),!0;const C=s.hasGraphicModelSelection(h);C===!1&&Y(t,[h]),c.setGraphicEditEventSubState(N.PRESSED);const f=$e({x:e.getClientX(),y:e.getClientY()},d);return c.setEditingStartedRenderCoordinate(f),this.setUpGraphicModelResizeContext(t,i,c,C),!0}onDrag(e,t){e.stopPropagation();const o=t.getEditableContext(),n=o.getEventState(),i=o.getSelectionContainer(),s=o.getGraphicEditInfoContainer(),c=o.getViewModeContainer().getZoomRatio();s.getGraphicEditEventSubState()===N.PRESSED&&(s.setGraphicEditEventSubState(N.DRAG),s.setIsBeingEditedToAllEditingDependentGraphicModels(!0),s.getEditPreviewLayerGraphicModelList().forEach(E=>{E.requestRerender(t)}),s.requestRerenderSelectionLayer(t));const d=s.getGraphicEditEventSubState(),u=s.getEventTargetGraphicModel();if(this.isMouseMoveValid(n,d,i)===!1||u===void 0)return d!==N.ABORT&&s.abortCurrentEditingState(),!0;const h=this.calculateAppliableMouseDelta(e,s,u,c),C=dl(s,u,h,e.isShiftDown());return s.getEditingGraphicModelList().forEach(E=>{ul(s,E,C,!0)}),s.requestRerenderEditPreviewLayer(t),!0}onMouseUp(e,t){e.stopPropagation();const o=t.getEditableContext(),n=o.getEventState(),i=o.getGraphicEditInfoContainer();if(i.getGraphicEditEventSubState()===N.DRAG&&i.setGraphicEditEventSubState(N.RELEASED),this.isMouseUpValid(n,i)===!1){const c={commandId:D.P.GRAPHIC_RESIZE_ABORT};return o.setCommandProps(c),!0}vn(i);const s={commandId:D.P.GRAPHIC_RESIZE};return o.setCommandProps(s),!0}onAppAreaDrag(e,t){return this.onDrag(e,t)}onAppAreaMouseUp(e,t){return this.onMouseUp(e,t)}onKeyDown(e,t){switch(!0){case/^Escape$/.test(e.getKey()):{const o=t.getEditableContext();o.getGraphicEditInfoContainer().abortCurrentEditingState();const i={commandId:D.P.GRAPHIC_RESIZE_ABORT};o.setCommandProps(i);break}default:break}return e.stopPropagation(),!0}onKeyUp(e,t){return e.stopPropagation(),!0}isMouseDownValid(e,t){return!(e!==j.GRAPHIC_RESIZE||t!==N.READY)}isMouseMoveValid(e,t,o){return!(e!==j.GRAPHIC_RESIZE||t!==N.DRAG||o?.getGraphicModelSelectionContainer()===void 0)}isMouseUpValid(e,t){const o=t.getGraphicEditEventSubState(),n=t.getEventTargetGraphicModel();return!(e!==j.GRAPHIC_RESIZE||o!==N.RELEASED||n===void 0)}setUpGraphicModelResizeContext(e,t,o,n){pn(t,o,n,void 0),un(o),hn(o),o.setIsBeingEditedToAllEditingDependentGraphicModels(!0);const i=o.getEventTargetGraphicModel();e.getEditableContext().getProxyLayerInfoContainer().enableAppAreaProxyLayer(i,{cursorType:"move"},!0,!1)}calculateAppliableMouseDelta(e,t,o,n){const i=t.getEditingStartedRenderCoordinate(),s=$e({x:e.getClientX(),y:e.getClientY()},n),c=Zr(t,o,i,!1),d=Zr(t,o,s,!1);return{x:d.x-c.x,y:d.y-c.y}}}Ht([a.Q2],ft.prototype,"onMouseDown",1),Ht([a.Q2],ft.prototype,"onDrag",1),Ht([a.Q2],ft.prototype,"onMouseUp",1),Ht([a.Q2],ft.prototype,"onAppAreaMouseUp",1),Ht([a.Q2],ft.prototype,"onKeyDown",1),Ht([a.Q2],ft.prototype,"onKeyUp",1);var lc=Object.defineProperty,cc=Object.getOwnPropertyDescriptor,fi=(r,e,t,o)=>{for(var n=o>1?void 0:o?cc(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&lc(e,t,n),n};class In{constructor(){this.eventHandlerFactory=new mi,this.eventMap=new Map,this.init()}init(){this.createEventConstructorMap().forEach((t,o)=>{this.eventMap.set(o,t.map(n=>this.eventHandlerFactory.getTargetEventHandler(n)))})}createEventConstructorMap(){return new Map([[j.IDLE,[to]],[j.GRAPHIC_INSERT,[tt]],[j.GRAPHIC_MOVE,[An,gt]],[j.GRAPHIC_RESIZE,[ft]],[j.GRAPHIC_ROTATE,[_t]]])}get(e){return this.eventMap.get(e)}}fi([a.Q2],In.prototype,"init",1),fi([a.Q2],In.prototype,"get",1);var dc=Object.defineProperty,pc=Object.getOwnPropertyDescriptor,Le=(r,e,t,o)=>{for(var n=o>1?void 0:o?pc(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&dc(e,t,n),n};class Ge{constructor(){this.eventMap=new In}onMouseDown(e,t){this.eventMap.get(t.getEditableContext().getEventState())?.some(o=>o.onMouseDown(e,t))}onMouseUp(e,t){this.eventMap.get(t.getEditableContext().getEventState())?.some(o=>o.onMouseUp(e,t))}onMouseMove(e,t){this.eventMap.get(t.getEditableContext().getEventState())?.some(o=>o.onMouseMove(e,t))}onDrag(e,t){this.eventMap.get(t.getEditableContext().getEventState())?.some(o=>o.onDrag(e,t))}onWheel(e,t){this.eventMap.get(t.getEditableContext().getEventState())?.some(o=>o.onWheel(e,t))}onKeyDown(e,t){this.eventMap.get(t.getEditableContext().getEventState())?.some(o=>o.onKeyDown(e,t))}onKeyUp(e,t){this.eventMap.get(t.getEditableContext().getEventState())?.some(o=>o.onKeyUp(e,t))}onAppAreaMouseDown(e,t){this.eventMap.get(t.getEditableContext().getEventState())?.some(o=>o.onAppAreaMouseDown(e,t))}onAppAreaMouseUp(e,t){this.eventMap.get(t.getEditableContext().getEventState())?.some(o=>o.onAppAreaMouseUp(e,t))}onAppAreaMouseMove(e,t){this.eventMap.get(t.getEditableContext().getEventState())?.some(o=>o.onAppAreaMouseMove(e,t))}onAppAreaDrag(e,t){this.eventMap.get(t.getEditableContext().getEventState())?.some(o=>o.onAppAreaDrag(e,t))}}Le([a.Q2],Ge.prototype,"onMouseDown",1),Le([a.Q2],Ge.prototype,"onMouseUp",1),Le([a.Q2],Ge.prototype,"onMouseMove",1),Le([a.Q2],Ge.prototype,"onDrag",1),Le([a.Q2],Ge.prototype,"onWheel",1),Le([a.Q2],Ge.prototype,"onKeyDown",1),Le([a.Q2],Ge.prototype,"onKeyUp",1),Le([a.Q2],Ge.prototype,"onAppAreaMouseDown",1),Le([a.Q2],Ge.prototype,"onAppAreaMouseUp",1),Le([a.Q2],Ge.prototype,"onAppAreaMouseMove",1),Le([a.Q2],Ge.prototype,"onAppAreaDrag",1);class uc{constructor(){}updateSelection(e){const t=e.getEditableContext(),o=t.getCommandProps();if(o!==void 0){const{newEventState:n,newSelectionContainer:i}=o;n!==void 0&&t.setEventState(n),i!==void 0&&t.setSelectionContainer(i),t.getGraphicEditInfoContainer().requestRerenderSelectionLayer(e)}}}var hc=Object.defineProperty,mc=Object.getOwnPropertyDescriptor,Pe=(r,e,t,o)=>{for(var n=o>1?void 0:o?mc(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&hc(e,t,n),n};class fe{constructor(){this.ctx=new tn({readOnlyContextInitProp:{handleCommandEventFunction:this.handleCommandEvent},editableContextInitProp:{}}),this.commandManager=new Dt,this.eventManager=new Ge,this.selectionManager=new uc}getAppContext(){return this.ctx}initExecutionProps(e){const t=this.ctx.getEditableContext();t.setCommandProps(e),t.setCommandController(void 0)}executeAllManagers({eventType:e,event:t,commandProps:o}){if(this.initExecutionProps(o),e&&t){const n=this.eventManager[e];typeof n=="function"&&n(t,this.ctx)}this.commandManager.execute(this.ctx),this.selectionManager.updateSelection(this.ctx),this.getAppContext().getEditableContext().flushRerenderTriggerList()}handleCommandEvent(e){this.executeAllManagers({commandProps:e})}handleMouseDown(e){this.executeAllManagers({event:e,eventType:"onMouseDown"})}handleMouseUp(e){this.executeAllManagers({event:e,eventType:"onMouseUp"})}handleMouseMove(e){this.executeAllManagers({event:e,eventType:"onMouseMove"})}handleDrag(e){this.executeAllManagers({event:e,eventType:"onDrag"})}handleWheel(e){this.executeAllManagers({event:e,eventType:"onWheel"})}handleKeyDown(e){this.executeAllManagers({event:e,eventType:"onKeyDown"})}handleKeyUp(e){this.executeAllManagers({event:e,eventType:"onKeyUp"})}handleAppAreaMouseDown(e){this.executeAllManagers({event:e,eventType:"onAppAreaMouseDown"})}handleAppAreaMouseUp(e){this.executeAllManagers({event:e,eventType:"onAppAreaMouseUp"})}handleAppAreaMouseMove(e){this.executeAllManagers({event:e,eventType:"onAppAreaMouseMove"})}handleAppAreaDrag(e){this.executeAllManagers({event:e,eventType:"onAppAreaDrag"})}}Pe([a.Q2],fe.prototype,"getAppContext",1),Pe([a.Q2],fe.prototype,"initExecutionProps",1),Pe([a.Q2],fe.prototype,"executeAllManagers",1),Pe([a.Q2],fe.prototype,"handleCommandEvent",1),Pe([a.Q2],fe.prototype,"handleMouseDown",1),Pe([a.Q2],fe.prototype,"handleMouseUp",1),Pe([a.Q2],fe.prototype,"handleMouseMove",1),Pe([a.Q2],fe.prototype,"handleDrag",1),Pe([a.Q2],fe.prototype,"handleWheel",1),Pe([a.Q2],fe.prototype,"handleKeyDown",1),Pe([a.Q2],fe.prototype,"handleKeyUp",1),Pe([a.Q2],fe.prototype,"handleAppAreaMouseDown",1),Pe([a.Q2],fe.prototype,"handleAppAreaMouseUp",1),Pe([a.Q2],fe.prototype,"handleAppAreaMouseMove",1),Pe([a.Q2],fe.prototype,"handleAppAreaDrag",1);const Ci=(0,l.createContext)(new fe),gc=Ci.Provider,$=()=>(0,l.useContext)(Ci),_c=()=>{const r=$(),e=r.getAppContext().getEditableContext().getShortcutContainer();return{shortcutHandler:n=>{const i=e.getCombinationString(n);if(i==="")return;const s=e.getShortCutAction(i);s!==void 0&&(n.preventDefault(),n.stopPropagation(),s(r,n))},clearKeyHandler:n=>{!n.ctrlKey&&!n.shiftKey&&!n.altKey&&!n.metaKey&&e.clearKeyList();const i=e.getConvertedKey(n.code);e.clearKey(i)}}};var bo=p(2635),fc=p(1235),Cc=p(3283);const Ec=()=>(bo.Ay.isInitialized===!0||bo.Ay.use((0,fc.A)((r,e)=>p(9800)(`./${r}/${e}`))).use(Cc.A).use(Vt.r9).init({fallbackLng:"ko",load:"languageOnly",keySeparator:!1,nsSeparator:!1,interpolation:{escapeValue:!1},defaultNS:"ResourceData.json",ns:["ResourceData.json"],fallbackNS:["ResourceData.json"],react:{useSuspense:!0,nsMode:"fallback"}}),bo.Ay),Ei=16,yc=10,vc=()=>{const[r,e]=(0,l.useState)(!1),t=(0,l.useRef)(null),o=(0,l.useRef)(null),n=(0,l.useCallback)(d=>{const u=d.target;u instanceof Element&&o.current?.contains(u)||u instanceof HTMLInputElement&&t.current?.contains(u)||(d.stopPropagation(),e(!1))},[]);(0,l.useEffect)(()=>(r?document.addEventListener("click",n,!0):document.removeEventListener("click",n,!0),()=>{document.removeEventListener("click",n,!0)}),[r]);const i=(0,l.useCallback)(()=>{e(!0)},[]),s=(0,l.useCallback)(()=>{e(!1)},[]),c=(0,l.useCallback)(()=>{r?s():i()},[r]);return(0,l.useLayoutEffect)(()=>{if(!t.current||!o.current)return;o.current.style.height="auto";const{left:d,bottom:u,width:h}=t.current.getBoundingClientRect(),{width:C,height:f}=o.current.getBoundingClientRect(),E=u;let y=d;const P=E+f;let S=y+C,T,I;const G=window.innerHeight||document.documentElement.clientHeight,M=window.innerWidth||document.documentElement.clientWidth;if(P>G){const b=P-G;I=f-b-yc,S+=Ei,T=C+Ei}S>=M&&(y=y-C+h),o.current.style.top=`${E}px`,o.current.style.left=`${y}px`,o.current.style.height=`${I}px`,o.current.style.width=`${T}px`},[r,t.current]),(0,l.useEffect)(()=>{if(!r)return;function d(){e(!1)}return window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[r]),{targetRef:t,menuRef:o,isOpen:r,openMenu:i,toggleMenu:c,closeMenu:s}},yi=({controlInfo:r})=>{const e=$(),n=e.getAppContext().getEditableContext().getUIContainer().getControlHandlerContainer(),i=xi(r.type),s=r.attr.commandId?n.getHandledControlProps(r,e):void 0,c=s?.subControlInfos??r.subControlInfos,d=s?.children,u={...s?.eventhandler??r.eventhandler};return l.createElement(i,{attr:{...r.attr,...s?.attr},subControlInfos:c,eventhandler:u},d)};var vi=p(3466),Gn={};Gn.insert="head",Gn.singleton=!1;var jp=m()(vi.A,Gn);const Ut=vi.A.locals||{},Pc=({attr:r,eventhandler:e})=>l.createElement(jo,{img:ze.u.IMG_ARROW_DOWN,width:r?.width,height:r?.height,className:O()({[Ut.container]:!0,[Ut[r?.arrowType??""]]:r?.arrowType,[Ut.disabled]:r?.disabled,[`${r?.className}`]:r?.className}),disabled:r?.disabled,onClick:e?.onClick,onMouseEnter:e?.onMouseEnter,onMouseLeave:e?.onMouseLeave}),Pi=l.memo(Pc),Rc=({attr:r,eventhandler:e})=>l.createElement(jo,{className:O()({[Ut.container]:!0,[Ut.more]:!0,[Ut.disabled]:r?.disabled,[`${r?.className}`]:r?.className}),img:ze.u.IMG_RIBBON_GALLERY_MORE_BUTTON,width:"7px",height:"9px",disabled:r.disabled,onClick:e?.onClick,onMouseEnter:e?.onMouseEnter,onMouseLeave:e?.onMouseLeave}),Sc=({dropdownMenuItemGroupInfo:r,closeAllMenu:e})=>{const{className:t,subType:o,dropdownMenuSubItemInfos:n,onMouseLeave:i,onClick:s,closeOnClick:c}=r;return l.createElement("div",{className:O()({[Wo.container]:!0,[Wo[o??""]]:o,[`${t}`]:t}),onMouseLeave:i,onClick:()=>{c&&e(),s&&s()},"aria-hidden":!0},n.map((d,u)=>l.createElement(Ti,{dropdownMenuSubItemInfo:d,closeAllMenu:e,key:`menu_${d.type}_${u}`})))};var oo=p(7007),Ri=p(2909),xn={};xn.insert="head",xn.singleton=!1;var Yp=m()(Ri.A,xn);const no=Ri.A.locals||{},wc=({dropdownMenuItemInfo:r,closeAllMenu:e})=>{switch(r.subType){case"a1":return l.createElement(_r,{attr:{reactKey:oo.c.INVALID,className:no.content,img:r.img,width:r.imgWidth,height:r.imgHeight}},[r.children]);default:return l.createElement(l.Fragment,null,r.children)}},Mc=({dropdownMenuItemInfo:r,closeAllMenu:e})=>{const t=l.useRef(null);return l.createElement("div",{role:"menuitem",tabIndex:-1,className:O()({[no.container]:!0,[no.disabled]:r.disabled,[no.selected]:r.selected,[no[r.subType]]:!0,[`${r.className}`]:r.className}),ref:t,style:r.style,onClick:()=>{e(),r.onClick?.()},onKeyDown:o=>{o.key==="Enter"&&t.current?.click()}},l.createElement(wc,{dropdownMenuItemInfo:r,closeAllMenu:e}))};var Si=p(6533),On={};On.insert="head",On.singleton=!1;var kp=m()(Si.A,On);const wi=Si.A.locals||{},bc=({dropdownMenuSeparatorInfo:r})=>l.createElement("div",null,l.createElement("div",{className:O()({[wi.line]:!0,[wi[r.subType??""]]:r.subType})})),Tc=({attr:r,eventhandler:e,children:t})=>{const o=zo(r?.label);return l.createElement("label",{className:O()({[`${r?.className}`]:r?.className}),onMouseEnter:e?.onMouseEnter,htmlFor:r?.htmlFor},o,t)};var Mi=p(3722),Dn={};Dn.insert="head",Dn.singleton=!1;var Jp=m()(Mi.A,Dn);const bi=Mi.A.locals||{},Ac=({dropdownMenuTitleInfo:r})=>l.createElement("div",{className:O()({[bi.container]:!0,[`${r.className}`]:r.className})},l.createElement(Tc,{attr:{reactKey:oo.c.INVALID,label:r.label,className:O()(bi.content)}})),Ti=({dropdownMenuSubItemInfo:r,closeAllMenu:e})=>{switch(r.type){case"title":return l.createElement(Ac,{dropdownMenuTitleInfo:r});case"group":return l.createElement(Sc,{dropdownMenuItemGroupInfo:r,closeAllMenu:e});case"separator":return l.createElement(bc,{dropdownMenuSeparatorInfo:r});default:return l.createElement(Mc,{dropdownMenuItemInfo:r,closeAllMenu:e})}},Ic=(0,l.forwardRef)(({dropdownMenuInfo:r,closeAllMenu:e},t)=>l.createElement("div",{ref:t,tabIndex:-1,className:O()({[Qo.container]:!0,[Qo[r.subType??""]]:r.subType,[`${r.className}`]:r.className}),role:"menu"},r.dropdownMenuSubItemInfos.map((o,n)=>l.createElement(Ti,{dropdownMenuSubItemInfo:o,closeAllMenu:e,key:`menu_${o.type}_${n}`}))));var Ai=p(6585),Ln={};Ln.insert="head",Ln.singleton=!1;var nu=m()(Ai.A,Ln);const Ne=Ai.A.locals||{},Gc=({attr:r,subControlInfos:e,children:t,eventhandler:o})=>{const{isOpen:n,targetRef:i,menuRef:s,toggleMenu:c,closeMenu:d}=vc();return l.createElement(l.Fragment,null,l.createElement("div",{role:"group",className:O()({[Ne.container]:!0,[Ne[r?.subType??""]]:r?.subType,[`${r?.className}`]:r?.className}),ref:i},t,l.createElement("div",{className:O()({[Ne.content]:!0,[Ne[r?.subType??""]]:r?.subType})},e!==void 0&&e.map(u=>l.createElement(yi,{controlInfo:u,key:u.attr.reactKey}))),l.createElement("div",{className:O()({[Ne["arrow-container"]]:!0})},l.createElement(Pi,{attr:{reactKey:oo.c.INVALID,className:O()({[Ne.arrow]:!0,[Ne.up]:!0}),arrowType:"up",width:"8px",height:"8px",disabled:r?.disableUpButton},eventhandler:{onClick:o?.onArrowUpButtonClick,onMouseLeave:o?.onMouseLeave}}),l.createElement(Pi,{attr:{reactKey:oo.c.INVALID,className:O()({[Ne.arrow]:!0,[Ne.down]:!0}),arrowType:"down",width:"8px",height:"8px",disabled:r?.disableDownButton},eventhandler:{onClick:o?.onArrowDownButtonClick,onMouseLeave:o?.onMouseLeave}}),l.createElement(Rc,{attr:{reactKey:oo.c.INVALID,className:O()({[Ne.arrow]:!0,[Ne.more]:!0}),disabled:r?.disableMoreButton},eventhandler:{onClick:u=>{c(),o?.onClick&&o?.onClick(u)},onMouseLeave:o?.onMouseLeave}}))),n&&r?.dropdownMenuInfo&&l.createElement(Ic,{closeAllMenu:d,dropdownMenuInfo:r?.dropdownMenuInfo,ref:s}))};var Ii=p(8175),Nn={};Nn.insert="head",Nn.singleton=!1;var iu=m()(Ii.A,Nn);const xc=Ii.A.locals||{},Oc=({attr:r})=>l.createElement("div",{className:xc.container},l.createElement("span",null,zo(r?.label)));var Gi=p(8198),Bn={};Bn.insert="head",Bn.singleton=!1;var au=m()(Gi.A,Bn);const To=Gi.A.locals||{},Dc=({attr:r,subControlInfos:e})=>l.createElement("div",{className:To.container},l.createElement("div",{className:O()({[To[r?.subType??""]]:r?.subType,[`${r?.className}`]:r?.className})},e!==void 0&&e.map(t=>l.createElement("div",{key:r.reactKey,className:O()({[To.item]:!0,[To[t.attr.subType??""]]:t.attr.subType})},l.createElement(yi,{controlInfo:t})))),l.createElement(Oc,{attr:r})),Lc=new Map([[Kt.l.RIBBON_GROUP,Dc],[Kt.l.RIBBON_GALLERY,Gc],[Kt.l.RIBBON_GALLERY_ITEM,Pr],[Kt.l.RIBBON_LABEL,yr]]),xi=r=>Lc.get(r);var Oi=p(6395),Hn={};Hn.insert="head",Hn.singleton=!1;var du=m()(Oi.A,Hn);const Nc=Oi.A.locals||{},Bc=()=>l.createElement("div",{className:Nc.container},Rr.RibbonData.map(r=>{const e=xi(r.type);return l.createElement(e,{key:r.attr.reactKey,attr:r.attr,subControlInfos:r.subControlInfos})})),Hc=()=>{const r=$();return l.createElement("div",{id:"ribbon",role:"toolbar",onMouseDown:()=>{r.getAppContext().getEditableContext().setMouseLButtonPressed(!1)}},l.createElement(Bc,null))};var Di=p(169),Un={};Un.insert="head",Un.singleton=!1;var hu=m()(Di.A,Un);const Uc=Di.A.locals||{};var Li=p(9666),Qn={};Qn.insert="head",Qn.singleton=!1;var mu=m()(Li.A,Qn);const Fn=Li.A.locals||{},Ct=()=>{const[,r]=(0,l.useState)(0);return{triggerRerender:()=>{r(e=>e+1)}}},Wn="EditViewSizeTracker",Vn=({targetRef:r,callback:e})=>{const t=(0,l.useRef)();(0,l.useEffect)(()=>(t.current=new ResizeObserver(o=>{o.some(n=>r!==void 0&&n.target===r.current?(e(n),!0):!1)}),r!==void 0&&r.current&&t.current.observe(r.current),()=>{t.current&&t.current.disconnect()}),[])},Qc=r=>{const t=$().getAppContext().getEditableContext().getViewModeContainer().getIsFitZoom(),{model:o}=r,n=o,i=(0,l.useRef)(0);(0,l.useEffect)(()=>(n.setCalculateContentsSizeRef(i),()=>{n.setCalculateContentsSizeRef(void 0)}),[]);const s=(0,l.useRef)(null),c=(0,l.useRef)(null),d=(0,l.useRef)(null),u=(0,l.useRef)(null),h=(0,l.useRef)({left:Number.MAX_SAFE_INTEGER,top:Number.MAX_SAFE_INTEGER,right:Number.MIN_SAFE_INTEGER,bottom:Number.MIN_SAFE_INTEGER,width:0,height:0}),C=(0,l.useRef)({left:Number.MAX_SAFE_INTEGER,top:Number.MAX_SAFE_INTEGER,right:Number.MIN_SAFE_INTEGER,bottom:Number.MIN_SAFE_INTEGER,width:0,height:0}),f=(0,l.useRef)({left:Number.MAX_SAFE_INTEGER,top:Number.MAX_SAFE_INTEGER,right:Number.MIN_SAFE_INTEGER,bottom:Number.MIN_SAFE_INTEGER,width:0,height:0}),E=(0,l.useRef)(0),y=(0,l.useRef)(0),P=(0,l.useCallback)((I,G)=>{const M=I.current;M.left=G.left,M.top=G.top,M.right=G.right,M.bottom=G.bottom,M.width=G.width,M.height=G.height},[]);(0,l.useLayoutEffect)(()=>{const I=document.getElementById(Wn);I!==null&&(s.current=I,P(h,I.getBoundingClientRect()))},[]);const S=(0,l.useCallback)(I=>{const{children:G}=I;for(let x=0;x<G.length;x+=1){const H=G.item(x);H!==null&&S(H)}const M=I.getBoundingClientRect(),b=C.current;b.left=Math.min(b.left,M.left),b.top=Math.min(b.top,M.top),b.right=Math.max(b.right,M.right),b.bottom=Math.max(b.bottom,M.bottom)},[]);(0,l.useLayoutEffect)(()=>{if(d.current!==null&&u.current!==null){const I=C.current;I.top=Number.MAX_SAFE_INTEGER,I.left=Number.MAX_SAFE_INTEGER,I.bottom=Number.MIN_SAFE_INTEGER,I.right=Number.MIN_SAFE_INTEGER,I.width=0,I.height=0,S(d.current),I.width=I.right-I.left,I.height=I.bottom-I.top,P(f,u.current.getBoundingClientRect())}},[i.current]);const T=(0,l.useCallback)(I=>{if(c.current!==null&&d.current!==null){const M={...h.current},b=C.current,x=f.current;let H=0,B=0,U=0,L=0,F=0,de=0;const ue=x.top-b.top,z=x.left-b.left,Ce=b.bottom-x.bottom,xe=b.right-x.right;M.width-=2*Me,M.height-=2*Me,M.width<b.width?(M.height-=wo,M.height<b.height&&(M.width-=wo)):M.height<b.height&&(M.width-=wo,M.width<b.width&&(M.height-=wo));const Re=(M.width-x.width)/2,be=(M.height-x.height)/2;let it=!1;M.width<b.width?(H=b.width+Me*2,L=z+Me,z<=Re||(xe<=Re?(it=!0,de=H):(it=!0,de=L+x.width/2-M.width/2))):(H=Math.max(M.width,b.width+Me*2),z<=Re&&xe<=Re?L=Me+Re:z<=Re?L=Me+Re-(xe-Re):xe<=Re&&(L=Me+z)),M.height<b.height?(B=b.height+Me*2,U=ue+Me,ue<=be||(Ce<=be?(it=!0,F=B):(it=!0,F=U+x.height/2-M.height/2))):(B=Math.max(M.height,b.height+Me*2),ue<=be&&Ce<=be?U=Me+be:ue<=be?U=Me+be-(Ce-be):Ce<=be&&(U=Me+ue));const Ao=U-E.current,Io=L-y.current;if(x.top+=Ao,x.left+=Io,x.bottom+=Ao,x.right+=Io,b.top+=Ao,b.left+=Io,b.bottom+=Ao,b.right+=Io,c.current.style.cssText=`width:${H}px; height:${B}px;`,d.current.style.cssText=`top:${U}px; left:${L}px;`,E.current=U,y.current=L,I===!0&&it===!0){const rs=document.getElementById(Wn);rs!==null&&setTimeout(()=>{rs.scrollTo({top:F,left:de,behavior:"smooth"})},0)}}},[]);return Vn({targetRef:s,callback:I=>{s.current!==null&&(P(h,I.target.getBoundingClientRect()),T(!1))}}),(0,l.useLayoutEffect)(()=>{T(!0)},[i.current]),{contentsWrapperRef:c,contentsRef:d,slideBackgroundRef:u}},Ni=r=>{const e=(0,l.useRef)(0),{model:t,zoomRatio:o}=r;return(0,l.useEffect)(()=>(t.setRerenderChildrenRef(e),()=>{t.setRerenderChildrenRef(void 0)}),[]),{renderedChildren:l.createElement(l.Fragment,null,t.mapChild(i=>l.createElement(Zn,{key:`tree_node_${i.getId()}`,...r,model:i})))}};var Bi=p(2260),Kn={};Kn.insert="head",Kn.singleton=!1;var Eu=m()(Bi.A,Kn);const ro=Bi.A.locals||{},Hi=r=>{const{triggerRerender:e}=Ct(),{model:t,isEditPreviewLayer:o}=r;(0,l.useEffect)(()=>(o===!1&&t.setRerenderTrigger(e),()=>{o===!1&&t.setRerenderTrigger(void 0)}),[])},Fc=l.forwardRef((r,e)=>{const{model:t,zoomRatio:o}=r,n=t,i=n.getSize(),s=i.width*o,c=i.height*o,d=n.getFillInfo(),u=d===void 0?"#FFFFFF":d.getFill()?.getFillString();return l.createElement("div",{"aria-hidden":!0,className:O()(ro.slide_background)},l.createElement("svg",{ref:e,style:{width:s,height:c}},l.createElement("rect",{style:{fill:u,width:s,height:c,strokeWidth:1,stroke:"#000"}})))});var Wc=Object.defineProperty,Vc=Object.getOwnPropertyDescriptor,Qt=(r,e,t,o)=>{for(var n=o>1?void 0:o?Vc(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Wc(e,t,n),n};class ot{constructor(e){this.eventTargetModel=e}preventDefault(){this.getEvent().preventDefault()}stopPropagation(){this.getEvent().stopPropagation()}getTarget(){return this.getEvent().target}getCurrentTarget(){return this.getEvent().currentTarget}getNativeEvent(){return this.getEvent().nativeEvent}getEventTargetModel(){return this.eventTargetModel}}Qt([a.Q2],ot.prototype,"preventDefault",1),Qt([a.Q2],ot.prototype,"stopPropagation",1),Qt([a.Q2],ot.prototype,"getTarget",1),Qt([a.Q2],ot.prototype,"getCurrentTarget",1),Qt([a.Q2],ot.prototype,"getNativeEvent",1),Qt([a.Q2],ot.prototype,"getEventTargetModel",1);var Kc=Object.defineProperty,jc=Object.getOwnPropertyDescriptor,Be=(r,e,t,o)=>{for(var n=o>1?void 0:o?jc(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&Kc(e,t,n),n};class J extends ot{constructor(e,t){super(t),this.event=e}getScreenX(){return this.event.screenX}getScreenY(){return this.event.screenY}getClientX(){return this.event.clientX}getClientY(){return this.event.clientY}isLButton(){return this.event.button===0}isRButton(){return this.event.button===2}isAltDown(){return this.event.altKey}isCtrlDown(){return this.event.ctrlKey}isShiftDown(){return this.event.shiftKey}isMetaDown(){return this.event.metaKey}getEvent(){return this.event}}Be([a.Q2],J.prototype,"getScreenX",1),Be([a.Q2],J.prototype,"getScreenY",1),Be([a.Q2],J.prototype,"getClientX",1),Be([a.Q2],J.prototype,"getClientY",1),Be([a.Q2],J.prototype,"isLButton",1),Be([a.Q2],J.prototype,"isRButton",1),Be([a.Q2],J.prototype,"isAltDown",1),Be([a.Q2],J.prototype,"isCtrlDown",1),Be([a.Q2],J.prototype,"isShiftDown",1),Be([a.Q2],J.prototype,"isMetaDown",1),Be([a.Q2],J.prototype,"getEvent",1);var zc=Object.defineProperty,Xc=Object.getOwnPropertyDescriptor,Ui=(r,e,t,o)=>{for(var n=o>1?void 0:o?Xc(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&zc(e,t,n),n};class jn extends J{constructor(e,t){super(e,t)}getXOffset(){return this.getEvent().deltaX}getYOffset(){return this.getEvent().deltaY}}Ui([a.Q2],jn.prototype,"getXOffset",1),Ui([a.Q2],jn.prototype,"getYOffset",1);function Yc(){return navigator.platform.toUpperCase().indexOf("MAC")>=0}var $c=Object.defineProperty,kc=Object.getOwnPropertyDescriptor,He=(r,e,t,o)=>{for(var n=o>1?void 0:o?kc(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(n=(o?s(e,t,n):s(n))||n);return o&&n&&$c(e,t,n),n};class Ae extends ot{constructor(e,t){super(t),this.event=e}isAltDown(){return this.event.altKey}isCtrlDown(){return this.event.ctrlKey}isShiftDown(){return this.event.shiftKey}isMetaDown(){return this.event.metaKey}isModifierDown(){return Yc()?this.event.metaKey&&!this.event.altKey:this.event.ctrlKey&&!this.event.altKey}isCapsLockDown(){return this.event.getModifierState("CapsLock")}isScrollLockDown(){return this.event.getModifierState("ScrollLock")}isNumLockDown(){return this.event.getModifierState("NumLock")}getKey(){return this.event.key}getCode(){return this.event.nativeEvent.code}getEvent(){return this.event}getIsComposing(){return this.getNativeEvent().isComposing}}He([a.Q2],Ae.prototype,"isAltDown",1),He([a.Q2],Ae.prototype,"isCtrlDown",1),He([a.Q2],Ae.prototype,"isShiftDown",1),He([a.Q2],Ae.prototype,"isMetaDown",1),He([a.Q2],Ae.prototype,"isModifierDown",1),He([a.Q2],Ae.prototype,"isCapsLockDown",1),He([a.Q2],Ae.prototype,"isScrollLockDown",1),He([a.Q2],Ae.prototype,"isNumLockDown",1),He([a.Q2],Ae.prototype,"getKey",1),He([a.Q2],Ae.prototype,"getCode",1),He([a.Q2],Ae.prototype,"getEvent",1);const Qi=(r,e)=>{const t=e?.eventDelay||0,o=e?.useDrag!==!1,n=$(),i=(0,l.useCallback)(f=>{const E=new J(f,r);n.handleMouseDown(E)},[r]),s=(0,l.useCallback)(f=>{const E=new J(f,r);n.handleMouseUp(E),f.button},[r]),c=(0,l.useMemo)(()=>{const f=(0,Mt.throttle)((E,y)=>{const P=new J(E,r);y?n.handleDrag(P):n.handleMouseMove(P)},t);return E=>(E.persist(),f(E,o&&n.getAppContext().getEditableContext().isMouseLButtonPressed()))},[r]),d=(0,l.useMemo)(()=>{const f=(0,Mt.throttle)((E,y)=>{if(!y)return;const P=new J(E,r);n.handleDrag(P)},t);return E=>(E.persist(),f(E,o&&n.getAppContext().getEditableContext().isMouseLButtonPressed()))},[r]),u=(0,l.useCallback)(f=>{const E=new jn(f,r);n.handleWheel(E)},[r]),h=(0,l.useCallback)(f=>{const E=new Ae(f,r);n.handleKeyDown(E)},[r]),C=(0,l.useCallback)(f=>{const E=new Ae(f,r);n.handleKeyUp(E)},[r]);return{handleMouseDown:i,handleMouseUp:s,handleMouseMove:c,handleDrag:d,handleWheel:u,handleKeyDown:h,handleKeyUp:C}},Zc=r=>{const e=(0,l.useRef)(null),{model:t,children:o}=r,{handleMouseDown:n,handleMouseUp:i,handleMouseMove:s,handleWheel:c,handleKeyDown:d,handleKeyUp:u}=Qi(t);return(0,l.useEffect)(()=>{e.current?.focus()},[]),l.createElement("div",{ref:e,role:"none",tabIndex:0,className:O()(ro.event),onMouseDown:n,onMouseUp:i,onMouseMove:s,onWheel:c,onKeyDown:d,onKeyUp:u,onBlur:()=>{e.current?.focus()}},o)},qc=r=>{const t=$().getAppContext().getEditableContext(),o=t.getGraphicEditInfoContainer(),{handleMouseDown:n,handleMouseUp:i}=Qi(r);return{handleMouseDownForMove:u=>{t.getEventState()===j.IDLE&&(t.setEventState(j.GRAPHIC_MOVE),o.setEventTargetGraphicModel(r),o.setGraphicEditEventSubState(N.READY),o.setCursorInfo({cursorType:"move"})),n(u)},handleMouseDownForResize:(u,h,C)=>{t.getEventState()===j.IDLE&&(t.setEventState(j.GRAPHIC_RESIZE),o.setEventTargetGraphicModel(r),o.setGraphicEditingHandle(h),o.setGraphicEditEventSubState(N.READY),o.setCursorInfo({cursorType:C})),n(u)},handleMouseDownForRotation:u=>{t.getEventState()===j.IDLE&&(t.setEventState(j.GRAPHIC_ROTATE),o.setEventTargetGraphicModel(r),o.setGraphicEditingHandle(V.ROTATE),o.setGraphicEditEventSubState(N.READY),o.setCursorInfo({cursorType:"img",img:ze.u.IMG_CURSOR_ROTATE,position:{x:15,y:15}})),n(u)},handleMouseUp:i}},Jc=30,nt=6,ed=5,td=15,od=10,nd=7;class rd extends cn{build(e){const t=e.x,o=e.x+e.width,n=e.y+e.height,i=e.y;this.pathList=[];let s="";const c="",d="";return s+=this.makeMove(t,i),s+=this.makeLine(o,i),s+=this.makeLine(o,n),s+=this.makeLine(t,n),s+="Z",this.pathList.push({d:s,fill:c,stroke:d}),this.pathList}}const id=rd,sd=(r,e)=>{const t=new id,o=go(r),n=et(r),i=At(r),s=t.build({x:0-e,y:0-e,width:n.width+2*e,height:n.height+2*e}),c=`rotate(${i}deg)`,d=It(r)===!0?"scale(1, -1)":"",u=[V.LEFT_TOP,V.TOP,V.RIGHT_TOP,V.LEFT,V.RIGHT,V.LEFT_BOTTOM,V.BOTTOM,V.RIGHT_BOTTOM];return{position:o,size:n,rotation:i,rotationTransform:c,flipTransform:d,editingHandleList:u,pathList:s}};var Fi=p(7145),zn={};zn.insert="head",zn.singleton=!1;var Mu=m()(Fi.A,zn);const Ie=Fi.A.locals||{};var rt=p(1685);function ad(r){const{margin:e}=r,{handle:t}=r,o=r.objectWidth,n=r.objectHeight,i=r.objectRotation;let s=e?-e+1:0,c=e?-e+1:0,d=0;return t===V.LEFT_TOP?d=315:t===V.TOP?(d=0,c=(o+e)/2):t===V.RIGHT_TOP?(d=45,c=o+e):t===V.LEFT?(d=270,s=(n+e)/2):t===V.RIGHT?(d=90,c=o+e,s=(n+e)/2):t===V.LEFT_BOTTOM?(d=225,s=n+e):t===V.BOTTOM?(d=180,s=n+e,c=(o+e)/2):t===V.RIGHT_BOTTOM&&(d=135,s=n+e,c=o+e),d+=i,d=wt(d),{cursor:ld(d),position:{left:c,top:s}}}function ld(r){let e="";return r>=22.5&&r<67.5?e="nesw":r>=67.5&&r<112.5?e="ew":r>=112.5&&r<157.5?e="nwse":r>=157.5&&r<202.5?e="ns":r>=202.5&&r<247.5?e="nesw":r>=247.5&&r<292.5?e="ew":r>=292.5&&r<337.5?e="nwse":e="ns",`${e}-resize`}const Wi=r=>{const{graphicModel:e,isDirectlySelected:t}=r,o=e.getGraphicType()===ct.GROUP,n=o===!0?nt:0,{position:i,size:s,rotation:c,rotationTransform:d,flipTransform:u,editingHandleList:h,pathList:C}=sd(e,n),{handleMouseDownForMove:f,handleMouseDownForResize:E,handleMouseDownForRotation:y,handleMouseUp:P}=qc(e),S=t===!0?"1,0":"1,1",T=nd,I=-T/2,G=ed,M=td,b=od;let x=Jc;const H={x:s.width/2-G/2,y:-(M+G)},B={x:s.width/2-b/2,y:-(M+G/2+b/2)},U={x:s.width/2,y:-M};o&&(x+=nt+1,H.x+=nt/2,H.y-=nt,B.x+=nt/2,B.y-=nt,U.x+=nt/2,U.y-=nt);const L=C.at(0)?.d??"",F={};return F.left=`${i.x}px`,F.top=`${i.y}px`,l.createElement("div",{className:O()(Ie.container),style:{top:`${i.y}px`,left:`${i.x}px`}},l.createElement("svg",{className:O()(Ie.rotate_handle_svg),style:{left:`${-x}px`,top:`${-x}px`,width:`${s.width+x*2}px`,height:`${s.height+x*2}px`,transform:`${d} ${u}`}},l.createElement("g",{className:O()(Ie.rotate_handle_event_g),transform:`matrix(1,0,0,1,${x},${x})`,onMouseDown:y,onMouseUp:P},l.createElement("rect",{className:O()(rt.fr,Ie.rotate_handle_event_rect),width:`${b}px`,height:`${b}px`,transform:`matrix(1,0,0,1,${B.x},${B.y})`})),l.createElement("g",{className:O()(Ie.rotate_handle_g),transform:`matrix(1,0,0,1,${x},${x})`},l.createElement("rect",{className:O()(Ie.rotate_handle_rect),width:`${G}px`,height:`${G}px`,transform:`matrix(1,0,0,1,${H.x},${H.y})`}),l.createElement("line",{className:O()(Ie.rotate_handle_line),x1:`${U.x}`,y1:`${U.y}`,x2:`${U.x}`,y2:`${U.y+M}`}))),l.createElement("svg",{className:O()(Ie.resize_handle_svg),style:{left:`${-x}px`,top:`${-x}px`,width:`${s.width+x*2}px`,height:`${s.height+x*2}px`,transform:`${d}`}},l.createElement("g",{className:O()(Ie.resize_handle_outline_g),transform:`matrix(1,0,0,1,${x},${x})`},l.createElement("path",{className:O()(Ie.resize_handle_outline),d:L,strokeDasharray:S}),l.createElement("path",{className:O()(rt.nc,Ie.resize_handle_outline_event),d:L,onMouseDown:f}),h.map(de=>{const ue={handle:de,margin:n,objectWidth:s.width,objectHeight:s.height,objectRotation:c},z=ad(ue),{left:Ce}=z.position,{top:xe}=z.position,{cursor:Re}=z;return l.createElement("g",{key:de,className:O()(Ie.resize_handle_g),transform:`matrix(1,0,0,1,${Ce},${xe})`,style:{cursor:Re},onMouseDown:be=>{E?.(be,de,Re)}},l.createElement("rect",{className:O()(Ie.resize_handle_rect),style:{height:`${T}px`,width:`${T}px`},transform:`matrix(1,0,0,1,${I},${I})`}))}))))},cd=()=>{const{triggerRerender:r}=Ct(),e=$(),t=e.getAppContext().getEditableContext().getGraphicEditInfoContainer();if((0,l.useLayoutEffect)(()=>(t.setSelectionLayerRerenderTrigger(r),()=>{t.setSelectionLayerRerenderTrigger(void 0)})),t.isEditingActivated()===!0)return l.createElement(l.Fragment,null);const n=e.getAppContext().getEditableContext().getSelectionContainer().getGraphicModelSelectionContainer().getSelectedGraphicModels();let i;return n.some(s=>(Rt(s)===!0&&(i=We(s)),!0)),l.createElement(l.Fragment,null,i!==void 0&&l.createElement(Wi,{graphicModel:i,isDirectlySelected:!1}),n.map(s=>l.createElement(Wi,{key:s.getId(),graphicModel:s,isDirectlySelected:!0})))};var Vi=p(7962),Xn={};Xn.insert="head",Xn.singleton=!1;var Au=m()(Vi.A,Xn);const dd=Vi.A.locals||{},pd=()=>{const{triggerRerender:r}=Ct(),e=$(),t=e.getAppContext().getEditableContext().getGraphicEditInfoContainer();(0,l.useLayoutEffect)(()=>(t.setEditPreviewLayerRerenderTrigger(r),()=>{t.setEditPreviewLayerRerenderTrigger(void 0)}));const n=e.getAppContext().getEditableContext().getViewModeContainer().getZoomRatio(),i=t.isEditingActivated();return l.createElement("div",{className:O()(dd.conatiner)},i&&t.getEditPreviewLayerGraphicModelList().map(s=>l.createElement(Zn,{key:s.getId(),model:s,zoomRatio:n,isEditPreviewLayer:!0})))},ud=r=>{Hi(r);const{renderedChildren:e}=Ni(r),{contentsWrapperRef:t,contentsRef:o,slideBackgroundRef:n}=Qc(r);return l.createElement("div",{className:O()(ro.container)},l.createElement("div",{ref:t,className:O()(ro.contents_wrapper)},l.createElement(Zc,{...r},l.createElement("div",{id:gi,ref:o,className:O()(ro.slide_background_wrapper)},l.createElement(Fc,{ref:n,...r}),e,l.createElement(pd,null),l.createElement(cd,null)))))};function hd(r,e,t){const o={},{size:n,transformMatrix:i}=md(r,e,t);return o.transform=gd(i),o.left="0px",o.top="0px",o.width=`${n.width}px`,o.height=`${n.height}px`,o}function md(r,e,t){let o;const n=nl(r,e,t),i=_o(r,e,t),s=oi(r,e,t),c=ri(r,e,t),d={widthRatio:s?-1:1,heightRatio:c?-1:1},u=Jr(r,e,t);if(t===!0)o=Yn(n,d,u);else{const h=lo(e);if(h===void 0)o=Yn(n,d,u);else{const C=_o(r,h,t),f=oi(r,h,t),E=ri(r,h,t),y={widthRatio:f?-1:1,heightRatio:E?-1:1},P=Jr(r,h,t),S=Xr(r,h,t),T=Xr(r,e,t),I=ce(T,S,-P),G={x:I.x-S.x,y:I.y-S.y},M={widthRatio:e.getCoordinateInfo().getFlipH()===!0?-1:1,heightRatio:e.getCoordinateInfo().getFlipV()===!0?-1:1},b={x:C.width/2-i.width/2+G.x*y.widthRatio,y:C.height/2-i.height/2+G.y*y.heightRatio};o=Yn(b,M,e.getCoordinateInfo().getRotation())}}return{size:i,transformMatrix:o}}function Yn(r,e,t){const o=w.gnS(w.zAA(t,"deg")),n=w.F8e(w.zAA(t,"deg")),i=w.UPj([[o,-n,0],[n,o,0],[0,0,1]]),s=w.UPj([[1,0,r.x],[0,1,r.y],[0,0,1]]),c=w.UPj([[e.widthRatio,0,0],[0,e.heightRatio,0],[0,0,1]]);return w.lwT(s,w.lwT(i,c))}function gd(r){const e=r.get([0,0]),t=r.get([1,0]),o=r.get([0,1]),n=r.get([1,1]),i=r.get([0,2]),s=r.get([1,2]);return`matrix(${e}, ${t}, ${o}, ${n}, ${i}, ${s})`}var Ki=p(2845),$n={};$n.insert="head",$n.singleton=!1;var xu=m()(Ki.A,$n);const _d=Ki.A.locals||{},fd=r=>{const e=$(),t=e.getAppContext().getEditableContext(),o=t.getGraphicEditInfoContainer();return{handleMouseDown:i=>{t.getEventState()===j.IDLE&&(t.setEventState(j.GRAPHIC_MOVE),o.setEventTargetGraphicModel(r));const s=new J(i,r);e.handleMouseDown(s)}}};function Cd(r,e){return o=>{let n="none";return o!=="none"&&(n=e),n}}function Ed(r,e){return o=>{let n="none";return o==="default"&&(n=e),n}}function yd(r,e,t,o,n,i,s){const c=(t<1?1:t)+o;return l.createElement("svg",{style:{pointerEvents:"none",position:"absolute",overflow:"visible",top:0,left:0,width:`${r.width}`,height:`${r.height}`}},l.createElement("g",null,e.map((d,u)=>l.createElement("path",{key:`event_path_${u}`,visibility:"hidden",pointerEvents:n,style:{stroke:"transparent",cursor:i},d:d.d,strokeWidth:c,onMouseDown:s}))))}function vd(r,e,t,o,n,i){const s=d=>{const u=o(d.fill);return u===""?"transparent":u},c=e.map((d,u)=>l.createElement("path",{key:`clippath_path_${u.toString()}`,style:{fill:s(d),stroke:n(d.stroke),strokeWidth:`${t}`,strokeDasharray:""},d:d.d}));return l.createElement("svg",{style:{pointerEvents:"none",top:0,left:0,width:r.width>1?r.width:1,height:r.height>1?r.height:1,overflow:"visible",position:"absolute",opacity:i?.6:void 0}},l.createElement("g",null,c))}const Pd=r=>{const{model:e,zoomRatio:t,isEditPreviewLayer:o}=r,n=e,s=$().getAppContext().getEditableContext().getGraphicEditInfoContainer(),c=_o(s,n,o),d=n.getPathInfo(),u=d!==void 0?d.getPath({x:0,y:0,width:c.width,height:c.height}):[],{handleMouseDown:h}=fd(n),f=n.getFillInfo()?.getFill()?.getFillString()!=="transparent"?"all":"stroke",P=yd(c,u,n.getStrokeInfo()?.getWidth()??1,15,f,"move",h),S=n.getFillInfo()?.getFillType(),T=n.getFillInfo()?.getFill()?.getFillString()??"",I=Cd(S,T),G=n.getStrokeInfo()?.getFill()?.getType(),M=n.getStrokeInfo()?.getFill()?.getFillString()??"",b=Ed(G,M),x=vd(c,u,n.getStrokeInfo()?.getWidth(),I,b,o);return l.createElement(l.Fragment,null,x,P)};var ji=p(5723),kn={};kn.insert="head",kn.singleton=!1;var Lu=m()(ji.A,kn);const Rd=ji.A.locals||{},Sd=r=>{const{model:e,zoomRatio:t,isEditPreviewLayer:o}=r,n=e,{renderedChildren:i}=Ni(r),c=$().getAppContext().getEditableContext().getGraphicEditInfoContainer(),d=_o(c,n,o);return l.createElement("div",{className:O()(Rd.container),style:{width:`${d.width}px`,height:`${d.height}px`}},i)},wd=r=>{Hi(r);const{model:e,zoomRatio:t,isEditPreviewLayer:o}=r,n=e,i=n.getIsBeingEdited(),c=$().getAppContext().getEditableContext().getGraphicEditInfoContainer();if((o===!0||i===!1)===!1)return l.createElement(l.Fragment,null);const u=hd(c,n,o);return l.createElement("div",{className:O()(_d.container),style:{...u,pointerEvents:"none"}},l.createElement(Pd,{...r}),l.createElement(Sd,{...r}))},Md=new Map([[Ze.getUniqueKey(),ud],[ln.getUniqueKey(),wd]]),Zn=r=>{const{model:e}=r,t=Md.get(ke(e.constructor));return l.createElement(l.Fragment,null,t&&l.createElement(t,{...r}))};var zi=p(115),qn={};qn.insert="head",qn.singleton=!1;var Uu=m()(zi.A,qn);const Jn=zi.A.locals||{},bd=()=>{const{triggerRerender:r}=Ct(),e=(0,l.useRef)(null),t=$(),o=t.getAppContext().getEditableContext().getViewModeContainer(),n=o.getZoomRatio();(0,l.useLayoutEffect)(()=>{e.current!==null&&(o.setEditViewSizeTrackerRef(e),o.setRerenderEditViewFunction(r))},[]);const i=t.getAppContext().getEditableContext().getTreeNodeRoot();return l.createElement("div",{className:O()(Jn.container)},l.createElement("div",{id:Wn,className:O()(Jn.size_tracker)}),l.createElement("div",{ref:e,className:O()(Jn.contents)},l.createElement(Zn,{model:i,zoomRatio:n,isEditPreviewLayer:!1})))},Td=({compositeViewRef:r,firstChildRef:e,dividerViewRef:t,dividerControllerRef:o,ratio:n,flexDirection:i})=>{const c=$().getAppContext().getEditableContext().getProxyLayerInfoContainer(),d=(0,l.useRef)(0),u=(0,l.useRef)(0),h=(0,l.useRef)(0),C=i==="row"?{width:`${n}%`}:{height:`${n}%`},f=i==="row"?B=>{const U=e.current;U!==null&&(U.style.width=`${B}%`)}:B=>{const U=e.current;U!==null&&(U.style.height=`${B}%`)};Vn({targetRef:e,callback:i==="row"?()=>{if(t.current!==null&&o.current!==null){const B=o.current,U=10/window.devicePixelRatio,L=t.current.getBoundingClientRect(),F=`left:${L.left-(U-L.width)/2}px; width:${U}px; height:${L.height}px;`;B.style.cssText=F}}:()=>{if(t.current!==null&&o.current!==null){const B=o.current,U=10/window.devicePixelRatio,L=t.current.getBoundingClientRect(),F=`top:${L.top-(U-L.height)/2}px; width:${L.width}px; height:${U}px;`;B.style.cssText=F}}});const y=i==="row"?B=>B.clientX:B=>B.clientY,P=i==="row"?B=>{d.current=B.clientX}:B=>{d.current=B.clientY},S=i==="row"?()=>e.current?.getBoundingClientRect().width??0:()=>e.current?.getBoundingClientRect().height??0,T=i==="row"?()=>{u.current=S()}:()=>{u.current=S()},I=i==="row"?()=>r.current?.getBoundingClientRect().width??0:()=>r.current?.getBoundingClientRect().height??0,G=i==="row"?()=>{h.current=I()}:()=>{h.current=I()},M=i==="row"?{cursorType:rt.x1.ew_resize}:{cursorType:rt.x1.ns_resize},b=B=>{const U=y(B),L=Math.max(u.current-d.current+U,100),F=Math.min(L/h.current*100,100);f(F),B.preventDefault(),B.stopImmediatePropagation()};function x(B){c.enableAppAreaProxyLayer(void 0,M,!1,!1),d.current=y(B),P(B),T(),G(),window.addEventListener("mousemove",b,!0),window.addEventListener("mouseup",H,!0),B.preventDefault(),B.stopPropagation(),B.nativeEvent.stopImmediatePropagation()}function H(B){c.disableAppAreaProxyLayer(),window.removeEventListener("mousemove",b,!0),window.removeEventListener("mouseup",H,!0),B.preventDefault(),B.stopImmediatePropagation()}return{firstChildCssStyle:C,handleMouseDownCapture:x}};var Xi=p(6565),er={};er.insert="head",er.singleton=!1;var Wu=m()(Xi.A,er);const Ue=Xi.A.locals||{},Yi=({firstChild:r,secondChild:e,ratio:t,flexDirection:o})=>{const n=(0,l.useRef)(null),i=(0,l.useRef)(null),s=(0,l.useRef)(null),c=(0,l.useRef)(null),{firstChildCssStyle:d,handleMouseDownCapture:u}=Td({compositeViewRef:n,firstChildRef:i,dividerViewRef:s,dividerControllerRef:c,ratio:t,flexDirection:o});return l.createElement("div",{ref:n,className:O()({[Ue.container]:!0},{[Ue[o]]:!0})},l.createElement("div",{className:O()({[Ue.child]:!0},{[Ue[o]]:!0}),ref:i,style:d},r),l.createElement("div",{role:"grid",tabIndex:-1,ref:s,className:O()({[Ue.divider_view]:!0},{[Ue[o]]:!0})}),l.createElement("div",{role:"grid",tabIndex:-1,ref:c,className:O()({[Ue.divider_controller]:!0},{[Ue[o]]:!0}),onMouseDownCapture:u}),l.createElement("div",{className:O()({[Ue.child]:!0},{[Ue.second]:!0},{[Ue[o]]:!0})},e))},Ad=()=>l.createElement("span",null,"this is list view"),Id=()=>l.createElement("span",null,"this is note view"),Gd=()=>{const r=l.createElement("div",{className:O()(Fn.edit)},l.createElement(Yi,{firstChild:l.createElement(bd,null),secondChild:l.createElement(Id,null),ratio:85,flexDirection:"column"})),e=l.createElement("div",{className:O()(Fn.list)},l.createElement(Yi,{firstChild:l.createElement(Ad,null),secondChild:r,ratio:10,flexDirection:"row"}));return l.createElement("div",{className:O()(Fn.container)},e)},xd=l.memo(Gd);var $i=p(8081),tr={};tr.insert="head",tr.singleton=!1;var zu=m()($i.A,tr);const Od=$i.A.locals||{};var ki=p(8669),or={};or.insert="head",or.singleton=!1;var Xu=m()(ki.A,or);const Dd=ki.A.locals||{};var Zi=p(4173),nr={};nr.insert="head",nr.singleton=!1;var Yu=m()(Zi.A,nr);const Ld=Zi.A.locals||{},Nd=({img:r,selected:e,disabled:t,onClick:o})=>l.createElement(br,{className:Ld.button,selected:e,disabled:t,onClick:o},l.createElement(Tr,{img:r,width:"24px",height:"24px"})),Bd=()=>{const e=$().getAppContext().getEditableContext().getUIContainer().getToolPaneContainer(),t=e.getIsToolPaneOpened(),o=e.getToolPaneInfoList(),n=e.getSelectedToolPaneId(),i=s=>o?.filter(([,c])=>c?.type===s).map(([c,d])=>{if(d===void 0)return l.createElement(l.Fragment,null);const u=c===n&&t;return l.createElement(Nd,{img:d.img,disabled:d.disabled,selected:u,onClick:()=>{e.onToolPaneDockButtonClicked(c)},key:`TOOLPANE_DOCK_BUTTON_${c}`})});return l.createElement("div",{className:Dd.container,role:"toolbar"},i($o))},Hd=(0,l.forwardRef)((r,e)=>{const{triggerRerender:t}=Ct(),o=$(),n=o.getAppContext().getEditableContext().getUIContainer().getToolPaneContainer();(0,l.useEffect)(()=>{n.setRerenderToolPaneWrapperFunction(t)},[]);const i=n.getSelectedToolPaneId(),s=n.getToolPaneInfo(i),c=n.getIsToolPaneOpened();return l.createElement("div",{className:Od.container,ref:e,role:"toolbar",onMouseDownCapture:()=>{o.getAppContext().getEditableContext().setMouseLButtonPressed(!1)}},l.createElement(Bd,null),c&&s?.content&&s?.content())}),Ud=()=>l.createElement("div",{className:O()(Uc.container)},l.createElement(xd,null),l.createElement(Hd,null));var qi=p(8189),rr={};rr.insert="head",rr.singleton=!1;var Ju=m()(qi.A,rr);const Qd=qi.A.locals||{},Ji=({eventType:r,eventHandler:e,capture:t,allowRegister:o,targetElement:n})=>{(0,l.useEffect)(()=>{const i=n||document.getElementById("app_root");return o===!0?i?.addEventListener(r,e,t):i?.removeEventListener(r,e,t),()=>{i?.removeEventListener(r,e,t)}},[o])},Fd=()=>{const e=$().getAppContext().getEditableContext();function t(n){n.buttons===1?e.setMouseLButtonPressed(!0):e.setMouseLButtonPressed(!1)}function o(){e.setMouseLButtonPressed(!1)}Ji({eventType:"mousedown",eventHandler:t,allowRegister:!0}),Ji({eventType:"mouseup",eventHandler:o,allowRegister:!0,capture:!0})},Wd=r=>{const e=(0,l.useRef)(null),t=$(),n=t.getAppContext().getEditableContext().getProxyLayerInfoContainer().getEventTarget(),i=y=>{if(n!==void 0){const P=new J(y,n);t.handleAppAreaMouseDown(P)}},s=y=>{if(n!==void 0){const P=new J(y,n);t.handleAppAreaMouseUp(P)}},c=(0,l.useMemo)(()=>{const y=(0,Mt.throttle)((P,S)=>{if(n!==void 0)if(S){const T=new J(P,n);t.handleAppAreaDrag(T)}else{const T=new J(P,n);t.handleAppAreaMouseMove(T)}},r?.eventDelay||0);return P=>y(P,t.getAppContext().getEditableContext().isMouseLButtonPressed())},[]),d=y=>{window.removeEventListener("mouseup",f,!0),window.removeEventListener("mousemove",E,!0)},u=y=>{window.addEventListener("mouseup",f,!0),window.addEventListener("mousemove",E,!0)},h=y=>{c.cancel?.()},C=y=>{y.stopPropagation(),y.preventDefault()};function f(y){window.removeEventListener("mouseup",f,!0),window.removeEventListener("mousemove",E,!0),e.current!==null&&e.current.dispatchEvent(y)}function E(y){e.current!==null&&e.current.dispatchEvent(y)}return{appAreaProxyLayerRef:e,handleMouseDown:i,handleMouseUp:s,handleMouseMove:c,handleMouseEnter:d,handleMouseLeave:u,handleMouseOut:h,handleBlur:C}};var es=p(7679),ir={};ir.insert="head",ir.singleton=!1;var nh=m()(es.A,ir);const sr=es.A.locals||{},ts=r=>{const e=ur({img:r?.img}),t=r!==void 0&&r.cursorType===rt.x1.img&&r.position!==void 0?`${r.position.x} ${r.position.y}`:"";return{cursorStyle:r!==void 0&&r.cursorType===rt.x1.img?`${e} ${t}, ${r.fallbackCursor??rt.x1.auto}`:r?.cursorType}},os=()=>{const t=$().getAppContext().getEditableContext().getProxyLayerInfoContainer().getAppAreaCursorInfo();return{appAreaCursorStyle:ts(t).cursorStyle}},Vd=()=>{const t=$().getAppContext().getEditableContext().getProxyLayerInfoContainer().getIsAppAreaEventProxyEnabled(),{appAreaProxyLayerRef:o,handleMouseDown:n,handleMouseUp:i,handleMouseMove:s,handleMouseEnter:c,handleMouseLeave:d,handleMouseOut:u,handleBlur:h}=Wd(),{appAreaCursorStyle:C}=os();return l.createElement("div",{"aria-hidden":!0,ref:o,className:O()(sr.container),style:{cursor:C},onMouseDown:t?n:void 0,onMouseUp:t?i:void 0,onMouseMove:t?s:void 0,onMouseEnter:t?c:void 0,onMouseLeave:t?d:void 0,onMouseOut:t?u:void 0,onBlur:t?h:void 0})},Kd=()=>{const{appAreaCursorStyle:r}=os();return l.createElement("div",{"aria-hidden":!0,className:O()(sr.container,sr.block_event),style:{cursor:r}})},jd=()=>{const r=$(),{triggerRerender:e}=Ct(),t=r.getAppContext().getEditableContext().getProxyLayerInfoContainer();(0,l.useLayoutEffect)(()=>{t.setRerenderAppAreaProxyLayerFunction(e)},[]);const o=t.getIsAppAreaProxyLayerEnabled(),n=t.getIsAppAreaEventBlocked();return l.createElement(l.Fragment,null,o&&l.createElement(l.Fragment,null,n?l.createElement(Kd,null):l.createElement(Vd,null)))},zd=()=>{const t=$().getAppContext().getEditableContext().getViewModeContainer().getEditViewSizeTrackerRef(),o=t?.current?.getBoundingClientRect(),n=(0,l.useRef)(null);Vn({targetRef:t,callback:()=>{if(t!==void 0&&t.current!==null&&n.current!==null){const c=t.current.getBoundingClientRect(),d=n.current;d.style.cssText=`${d.style.cssText}top:${c.top}px;left:${c.left}px;width:${c.width}px;height:${c.height}px;`}}});const s=o?{left:o.left,top:o.top,right:o.right,bottom:o.bottom,height:o.height,width:o.width}:{left:0,top:0,right:0,bottom:0,height:0,width:0};return{editViewProxyLayerRef:n,editViewRectInfo:s}},Xd=r=>{const e=$(),o=e.getAppContext().getEditableContext().getProxyLayerInfoContainer().getEventTarget(),n=d=>{if(o!==void 0){const u=new J(d,o);e.handleMouseDown(u)}},i=d=>{if(o!==void 0){const u=new J(d,o);e.handleMouseUp(u)}},s=(0,l.useMemo)(()=>{const d=(0,Mt.throttle)((u,h)=>{if(o!==void 0)if(h){const C=new J(u,o);e.handleDrag(C)}else{const C=new J(u,o);e.handleMouseMove(C)}},r?.eventDelay||0);return u=>(u.stopPropagation(),d(u,e.getAppContext().getEditableContext().isMouseLButtonPressed()))},[]);return{handleMouseDown:n,handleMouseUp:i,handleMouseMove:s,handleMouseLeave:d=>{s.cancel?.()}}},Yd=()=>{const t=$().getAppContext().getEditableContext().getProxyLayerInfoContainer().getEditViewCursorInfo();return{editViewCursorStyle:ts(t).cursorStyle}};var ns=p(5491),ar={};ar.insert="head",ar.singleton=!1;var uh=m()(ns.A,ar);const $d=ns.A.locals||{},kd=()=>{const t=$().getAppContext().getEditableContext().getProxyLayerInfoContainer().getIsEditViewEventProxyEnabled(),{editViewProxyLayerRef:o,editViewRectInfo:n}=zd(),{handleMouseDown:i,handleMouseUp:s,handleMouseMove:c,handleMouseLeave:d}=Xd(),{editViewCursorStyle:u}=Yd();return l.createElement("div",{"aria-hidden":!0,ref:o,className:O()($d.container),style:{left:`${n.left}px`,top:`${n.top}px`,width:`${n.width}px`,height:`${n.height}px`,cursor:u},onMouseDown:t?i:void 0,onMouseUp:t?s:void 0,onMouseMove:t?c:void 0,onMouseLeave:t?d:void 0})},Zd=()=>{const r=$(),{triggerRerender:e}=Ct(),t=r.getAppContext().getEditableContext().getProxyLayerInfoContainer();(0,l.useLayoutEffect)(()=>{t.setRerenderEditViewProxyLayerFunction(e)},[]);const o=t.getIsEditViewProxyLayerEnabled();return l.createElement(l.Fragment,null,o&&l.createElement(kd,null))},qd=()=>{Fd();const r=Ec();return l.createElement(Vt.xC,{i18n:r},l.createElement("div",{className:O()(Qd.container)},l.createElement(Hc,null),l.createElement(Ud,null)),l.createElement(jd,null),l.createElement(Zd,null))};var Jd=p(6523);const ep=r=>{const e=ur({img:r?.img}),t=r.cursorType==="img"&&r.position!==void 0?`${r.position.x} ${r.position.y}`:"",o=r.cursorType===rt.x1.img?`${e} ${t}, auto`:r.cursorType;return{cursorStyleString:o!==void 0?`.${r.className} { cursor: ${o}}`:void 0}},tp=({cursorInfo:r})=>{const{cursorStyleString:e}=ep(r);return e?l.createElement("style",null,e):l.createElement(l.Fragment,null)},op=()=>l.createElement(l.Fragment,null,Jd.PresetCursorInfoList.map(r=>l.createElement(tp,{key:r.className,cursorInfo:r}))),np=()=>{const{shortcutHandler:r,clearKeyHandler:e}=_c();return l.createElement("div",{id:"app_root",role:"none",className:O()(se.container),onKeyDownCapture:r,onKeyUp:e},l.createElement(op,null),l.createElement(qd,null))};var rp=p(5338);rp.createRoot(document.getElementById("root")).render(l.createElement(gc,{value:new fe},l.createElement(np,null)))},7470:(_,v,p)=>{"use strict";p.r(v),p.d(v,{PresetColorMap:()=>l});const l=new Map([["aliceblue","#f0f8ff"],["antiquewhite","#faebd7"],["aqua","#00ffff"],["aquamarine","#7fffd4"],["azure","#f0ffff"],["beige","#f5f5dc"],["bisque","#ffe4c4"],["black","#000000"],["blanchedalmond","#ffebcd"],["blue","#0000ff"],["blueviolet","#8a2be2"],["brown","#a52a2a"],["burlywood","#deb887"],["cadetblue","#5f9ea0"],["chartreuse","#7fff00"],["chocolate","#d2691e"],["coral","#ff7f50"],["cornflowerblue","#6495ed"],["cornsilk","#fff8dc"],["crimson","#dc143c"],["cyan","#00ffff"],["darkblue","#00008b"],["darkcyan","#008b8b"],["darkgoldenrod","#b8860b"],["darkgray","#a9a9a9"],["darkgreen","#006400"],["darkgrey","#a9a9a9"],["darkkhaki","#bdb76b"],["darkmagenta","#8b008b"],["darkolivegreen","#556b2f"],["darkorange","#ff8c00"],["darkorchid","#9932cc"],["darkred","#8b0000"],["darksalmon","#e9967a"],["darkseagreen","#8fbc8f"],["darkslateblue","#483d8b"],["darkslategray","#2f4f4f"],["darkslategrey","#2f4f4f"],["darkturquoise","#00ced1"],["darkviolet","#9400d3"],["deeppink","#ff1493"],["deepskyblue","#00bfff"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1e90ff"],["firebrick","#b22222"],["floralwhite","#fffaf0"],["forestgreen","#228b22"],["fuchsia","#ff00ff"],["gainsboro","#dcdcdc"],["ghostwhite","#f8f8ff"],["gold","#ffd700"],["goldenrod","#daa520"],["gray","#808080"],["green","#008000"],["greenyellow","#adff2f"],["grey","#808080"],["honeydew","#f0fff0"],["hotpink","#ff69b4"],["indianred","#cd5c5c"],["indigo","#4b0082"],["ivory","#fffff0"],["khaki","#f0e68c"],["lavender","#e6e6fa"],["lavenderblush","#fff0f5"],["lawngreen","#7cfc00"],["lemonchiffon","#fffacd"],["lightblue","#add8e6"],["lightcoral","#f08080"],["lightcyan","#e0ffff"],["lightgoldenrodyellow","#fafad2"],["lightgray","#d3d3d3"],["lightgreen","#90ee90"],["lightgrey","#d3d3d3"],["lightpink","#ffb6c1"],["lightsalmon","#ffa07a"],["lightseagreen","#20b2aa"],["lightskyblue","#87cefa"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#b0c4de"],["lightyellow","#ffffe0"],["lime","#00ff00"],["limegreen","#32cd32"],["linen","#faf0e6"],["magenta","#ff00ff"],["maroon","#800000"],["mediumaquamarine","#66cdaa"],["mediumblue","#0000cd"],["mediumorchid","#ba55d3"],["mediumpurple","#9370db"],["mediumseagreen","#3cb371"],["mediumslateblue","#7b68ee"],["mediumspringgreen","#00fa9a"],["mediumturquoise","#48d1cc"],["mediumvioletred","#c71585"],["midnightblue","#191970"],["mintcream","#f5fffa"],["mistyrose","#ffe4e1"],["moccasin","#ffe4b5"],["navajowhite","#ffdead"],["navy","#000080"],["oldlace","#fdf5e6"],["olive","#808000"],["olivedrab","#6b8e23"],["orange","#ffa500"],["orangered","#ff4500"],["orchid","#da70d6"],["palegoldenrod","#eee8aa"],["palegreen","#98fb98"],["paleturquoise","#afeeee"],["palevioletred","#db7093"],["papayawhip","#ffefd5"],["peachpuff","#ffdab9"],["peru","#cd853f"],["pink","#ffc0cb"],["plum","#dda0dd"],["powderblue","#b0e0e6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#ff0000"],["rosybrown","#bc8f8f"],["royalblue","#4169e1"],["saddlebrown","#8b4513"],["salmon","#fa8072"],["sandybrown","#f4a460"],["seagreen","#2e8b57"],["seashell","#fff5ee"],["sienna","#a0522d"],["silver","#c0c0c0"],["skyblue","#87ceeb"],["slateblue","#6a5acd"],["slategray","#708090"],["slategrey","#708090"],["snow","#fffafa"],["springgreen","#00ff7f"],["steelblue","#4682b4"],["tan","#d2b48c"],["teal","#008080"],["thistle","#d8bfd8"],["tomato","#ff6347"],["transparent","#fff0"],["turquoise","#40e0d0"],["violet","#ee82ee"],["wheat","#f5deb3"],["white","#ffffff"],["whitesmoke","#f5f5f5"],["yellow","#ffff00"],["yellowgreen","#9acd32"]])},8813:(_,v,p)=>{"use strict";p.r(v),p.d(v,{RibbonData:()=>se,ShapeGalleryData:()=>ne});var l=p(6605),g=p(6977),m=p(1941),R=p(7007),A=p(9827),X=p(8389);const se=new Array({type:m.l.RIBBON_GROUP,attr:{reactKey:R.c.RIBBON_GROUP_INSERT_SHAPE,subType:X.P.RG1,label:l.u.TXT_GROUP_INSERT_SHAPE},subControlInfos:[{type:m.l.RIBBON_GALLERY,attr:{reactKey:R.c.RIBBON_GALLERY_INSERT_SHAPE,subType:X.P.GA1,commandId:g.P.SHAPE_INSERT_GALLERY}}]}),ne=[{reactKey:R.c.RIBBON_GALLERY_INSERT_SHAPE_GROUP_RECT,label:l.u.TXT_SHAPE_INSERT_GALLERY_RECT,items:[{reactKey:R.c.RIBBON_GALLERY_INSERT_SHAPE_GROUP_RECT_ITEM_RECT,img:l.u.IMG_INSERT_SHAPE_RECT,shapeType:A.B.RECT},{reactKey:R.c.RIBBON_GALLERY_INSERT_SHAPE_GROUP_RECT_ITEM_DIAGONAL_RECT,img:l.u.IMG_INSERT_SHAPE_DIAGONAL_RECT,shapeType:A.B.DIAGONAL_RECT}]}]},6523:(_,v,p)=>{"use strict";p.r(v),p.d(v,{PresetCursorInfoList:()=>m});var l=p(1685),g=p(6605);const m=[{className:l.nc,cursorType:"img",img:g.u.IMG_CURSOR_MOVE_HOVER,position:{x:12,y:12}},{className:l.fr,cursorType:"img",img:g.u.IMG_CURSOR_ROTATE_HOVER,position:{x:12,y:12}}]},1685:(_,v,p)=>{"use strict";p.d(v,{fr:()=>m,nc:()=>g,x1:()=>l});const l={auto:"auto",default:"default",context_menu:"context-menu",help:"help",pointer:"pointer",progress:"progress",wait:"wait",cell:"cell",crosshair:"crosshair",text:"text",vertical_text:"vertical-text",alias:"alias",copy:"copy",move:"move",no_drop:"no-drop",not_allowed:"not-allowed",e_resize:"e-resize",n_resize:"n-resize",ne_resize:"ne-resize",nw_resize:"nw-resize",s_resize:"s-resize",se_resize:"se-resize",sw_resize:"sw-resize",w_resize:"w-resize",ew_resize:"ew-resize",ns_resize:"ns-resize",nesw_resize:"nesw-resize",nwse_resize:"nwse-resize",col_resize:"col-resize",row_resize:"row-resize",all_scroll:"all-scroll",zoom_in:"zoom-in",zoom_out:"zoom-out",grab:"grab",grabbing:"grabbing",img:"img"},g="graphic_cursor_move_hover",m="graphic_cursor_rotate_hover"},8389:(_,v,p)=>{"use strict";p.d(v,{P:()=>l});var l=(g=>(g.INVALID="INVALID",g.RG1="rg1",g.GA1="ga1",g.GI1="gi1",g))(l||{})},1941:(_,v,p)=>{"use strict";p.d(v,{l:()=>l});var l=(g=>(g[g.INVALID=0]="INVALID",g[g.RIBBON_GROUP=1]="RIBBON_GROUP",g[g.RIBBON_GALLERY=2]="RIBBON_GALLERY",g[g.RIBBON_GALLERY_ITEM=3]="RIBBON_GALLERY_ITEM",g[g.RIBBON_LABEL=4]="RIBBON_LABEL",g))(l||{})},9827:(_,v,p)=>{"use strict";p.d(v,{B:()=>l});var l=(g=>(g.RECT="RECT",g.DIAGONAL_RECT="DIAGONAL_RECT",g.CUSTOM="CUSTOM",g))(l||{})},7007:(_,v,p)=>{"use strict";p.d(v,{c:()=>l});var l=(g=>(g[g.INVALID=0]="INVALID",g[g.RIBBON_GROUP_INSERT_SHAPE=1]="RIBBON_GROUP_INSERT_SHAPE",g[g.RIBBON_GALLERY_INSERT_SHAPE=2]="RIBBON_GALLERY_INSERT_SHAPE",g[g.RIBBON_GALLERY_INSERT_SHAPE_GROUP_RECT=3]="RIBBON_GALLERY_INSERT_SHAPE_GROUP_RECT",g[g.RIBBON_GALLERY_INSERT_SHAPE_GROUP_RECT_ITEM_RECT=4]="RIBBON_GALLERY_INSERT_SHAPE_GROUP_RECT_ITEM_RECT",g[g.RIBBON_GALLERY_INSERT_SHAPE_GROUP_RECT_ITEM_DIAGONAL_RECT=5]="RIBBON_GALLERY_INSERT_SHAPE_GROUP_RECT_ITEM_DIAGONAL_RECT",g))(l||{})},6605:(_,v,p)=>{"use strict";p.d(v,{u:()=>l});var l=(g=>(g.TXT_GROUP_INSERT_SHAPE="TXT_GROUP_INSERT_SHAPE",g.TXT_SHAPE_INSERT_GALLERY_RECT="TXT_SHAPE_INSERT_GALLERY_RECT",g.TXT_DUMMY_TOOLPANE_TITLE="TXT_DUMMY_TOOLPANE_TITLE",g.TXT_DUMMIE_TOOLPANE_TITLE="TXT_DUMMIE_TOOLPANE_TITLE",g.TIP_INSERT_SHAPE_RECT="TIP_INSERT_SHAPE_RECT",g.TIP_INSERT_SHAPE_DIAGONAL_RECT="TIP_INSERT_SHAPE_DIAGONAL_RECT",g.IMG_INSERT_SHAPE_RECT="IMG_INSERT_SHAPE_RECT",g.IMG_INSERT_SHAPE_DIAGONAL_RECT="IMG_INSERT_SHAPE_DIAGONAL_RECT",g.IMG_RIBBON_GALLERY_MORE_BUTTON="IMG_RIBBON_GALLERY_MORE_BUTTON",g.IMG_ARROW_DOWN="IMG_ARROW_DOWN",g.IMG_TOOLPANE_NOTICE="IMG_TOOLPANE_NOTICE",g.IMG_TOOLPANE_CLOSE="IMG_TOOLPANE_CLOSE",g.IMG_TOOLPANE_DOCK_DUMMY="IMG_TOOLPANE_DOCK_DUMMY",g.IMG_TOOLPANE_DOCK_DUMMIE="IMG_TOOLPANE_DOCK_DUMMIE",g.IMG_CURSOR_ROTATE="IMG_CURSOR_ROTATE",g.IMG_CURSOR_ROTATE_HOVER="IMG_CURSOR_ROTATE_HOVER",g.IMG_CURSOR_MOVE_HOVER="IMG_CURSOR_MOVE_HOVER",g))(l||{})},6977:(_,v,p)=>{"use strict";p.d(v,{P:()=>l});var l=(g=>(g[g.INVALID=0]="INVALID",g[g.SHAPE_INSERT_GALLERY=1]="SHAPE_INSERT_GALLERY",g[g.SHAPE_INSERT_GALLERY_ITEM=2]="SHAPE_INSERT_GALLERY_ITEM",g[g.GRAPHIC_INSERT_SET_UP=3]="GRAPHIC_INSERT_SET_UP",g[g.GRAPHIC_INSERT=4]="GRAPHIC_INSERT",g[g.GRAPHIC_INSERT_DUPLICATE=5]="GRAPHIC_INSERT_DUPLICATE",g[g.GRAPHIC_INSERT_ABORT=6]="GRAPHIC_INSERT_ABORT",g[g.GRAPHIC_MOVE=7]="GRAPHIC_MOVE",g[g.GRAPHIC_MOVE_ABORT=8]="GRAPHIC_MOVE_ABORT",g[g.GRAPHIC_ROTATE=9]="GRAPHIC_ROTATE",g[g.GRAPHIC_ROTATE_ABORT=10]="GRAPHIC_ROTATE_ABORT",g[g.GRAPHIC_RESIZE=11]="GRAPHIC_RESIZE",g[g.GRAPHIC_RESIZE_ABORT=12]="GRAPHIC_RESIZE_ABORT",g[g.GROUP_OBJECTS=13]="GROUP_OBJECTS",g[g.UNGROUP=14]="UNGROUP",g[g.DELETE_GRAPHIC=15]="DELETE_GRAPHIC",g[g.UNDO=16]="UNDO",g[g.REDO=17]="REDO",g))(l||{})},9800:(_,v,p)=>{var l={"./color/PresetColorMap":[7470,9],"./color/PresetColorMap.ts":[7470,9],"./fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Bold.woff":[2151,1],"./fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Bold.woff2":[4023,1],"./fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Light.woff":[1504,1],"./fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Light.woff2":[9250,1],"./fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Medium.woff":[411,1],"./fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Medium.woff2":[2435,1],"./fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Regular.woff":[2328,1],"./fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Regular.woff2":[3802,1],"./fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Thin.woff":[3127,1],"./fonts/SpoqaHanSansNeo/SpoqaHanSansNeo-Thin.woff2":[5015,1],"./ko/ResourceData.json":[1645,3,645],"./ribbon/RibbonData":[8813,9],"./ribbon/RibbonData.ts":[8813,9],"./style/cursor/PresetCursorStyle":[6523,9],"./style/cursor/PresetCursorStyle.ts":[6523,9]};function g(m){if(!p.o(l,m))return Promise.resolve().then(()=>{var X=new Error("Cannot find module '"+m+"'");throw X.code="MODULE_NOT_FOUND",X});var R=l[m],A=R[0];return Promise.all(R.slice(2).map(p.e)).then(()=>p.t(A,R[1]|16))}g.keys=()=>Object.keys(l),g.id=9800,_.exports=g},2151:(_,v,p)=>{"use strict";_.exports=p.p+"dc75532918fd412e27a3.woff"},4023:(_,v,p)=>{"use strict";_.exports=p.p+"1db18034ccc384032a4a.woff2"},1504:(_,v,p)=>{"use strict";_.exports=p.p+"1cb73b3acae88adbdd59.woff"},9250:(_,v,p)=>{"use strict";_.exports=p.p+"13ba65ce1663198528ba.woff2"},411:(_,v,p)=>{"use strict";_.exports=p.p+"823120084c9ac260b260.woff"},2435:(_,v,p)=>{"use strict";_.exports=p.p+"8589927a4fa35d637a8d.woff2"},2328:(_,v,p)=>{"use strict";_.exports=p.p+"4af655e2b88a518cc85c.woff"},3802:(_,v,p)=>{"use strict";_.exports=p.p+"452bf1579d6a73fbaffc.woff2"},3127:(_,v,p)=>{"use strict";_.exports=p.p+"a6efdcf0d2b696673851.woff"},5015:(_,v,p)=>{"use strict";_.exports=p.p+"9aab6330b7ba8adf7abf.woff2"},1234:()=>{}},cr={};function Q(_){var v=cr[_];if(v!==void 0)return v.exports;var p=cr[_]={id:_,loaded:!1,exports:{}};return lr[_].call(p.exports,p,p.exports,Q),p.loaded=!0,p.exports}Q.m=lr,Q.amdD=function(){throw new Error("define cannot be used indirect")},Q.amdO={},(()=>{var _=[];Q.O=(v,p,l,g)=>{if(p){g=g||0;for(var m=_.length;m>0&&_[m-1][2]>g;m--)_[m]=_[m-1];_[m]=[p,l,g];return}for(var R=1/0,m=0;m<_.length;m++){for(var[p,l,g]=_[m],A=!0,X=0;X<p.length;X++)(g&!1||R>=g)&&Object.keys(Q.O).every(je=>Q.O[je](p[X]))?p.splice(X--,1):(A=!1,g<R&&(R=g));if(A){_.splice(m--,1);var se=l();se!==void 0&&(v=se)}}return v}})(),Q.n=_=>{var v=_&&_.__esModule?()=>_.default:()=>_;return Q.d(v,{a:v}),v},(()=>{var _=Object.getPrototypeOf?p=>Object.getPrototypeOf(p):p=>p.__proto__,v;Q.t=function(p,l){if(l&1&&(p=this(p)),l&8||typeof p=="object"&&p&&(l&4&&p.__esModule||l&16&&typeof p.then=="function"))return p;var g=Object.create(null);Q.r(g);var m={};v=v||[null,_({}),_([]),_(_)];for(var R=l&2&&p;typeof R=="object"&&!~v.indexOf(R);R=_(R))Object.getOwnPropertyNames(R).forEach(A=>m[A]=()=>p[A]);return m.default=()=>p,Q.d(g,m),g}})(),Q.d=(_,v)=>{for(var p in v)Q.o(v,p)&&!Q.o(_,p)&&Object.defineProperty(_,p,{enumerable:!0,get:v[p]})},Q.f={},Q.e=_=>Promise.all(Object.keys(Q.f).reduce((v,p)=>(Q.f[p](_,v),v),[])),Q.u=_=>""+_+".6f3e2f48494348707140.js",Q.miniCssF=_=>{},Q.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Q.o=(_,v)=>Object.prototype.hasOwnProperty.call(_,v),(()=>{var _={},v="bumpy:";Q.l=(p,l,g,m)=>{if(_[p]){_[p].push(l);return}var R,A;if(g!==void 0)for(var X=document.getElementsByTagName("script"),se=0;se<X.length;se++){var ne=X[se];if(ne.getAttribute("src")==p||ne.getAttribute("data-webpack")==v+g){R=ne;break}}R||(A=!0,R=document.createElement("script"),R.charset="utf-8",R.timeout=120,Q.nc&&R.setAttribute("nonce",Q.nc),R.setAttribute("data-webpack",v+g),R.src=p),_[p]=[l];var O=(Qe,je)=>{R.onerror=R.onload=null,clearTimeout(a);var ke=_[p];if(delete _[p],R.parentNode&&R.parentNode.removeChild(R),ke&&ke.forEach(Ft=>Ft(je)),Qe)return Qe(je)},a=setTimeout(O.bind(null,void 0,{type:"timeout",target:R}),12e4);R.onerror=O.bind(null,R.onerror),R.onload=O.bind(null,R.onload),A&&document.head.appendChild(R)}})(),Q.r=_=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},Q.nmd=_=>(_.paths=[],_.children||(_.children=[]),_),(()=>{var _;Q.g.importScripts&&(_=Q.g.location+"");var v=Q.g.document;if(!_&&v&&(v.currentScript&&v.currentScript.tagName.toUpperCase()==="SCRIPT"&&(_=v.currentScript.src),!_)){var p=v.getElementsByTagName("script");if(p.length)for(var l=p.length-1;l>-1&&(!_||!/^http(s?):/.test(_));)_=p[l--].src}if(!_)throw new Error("Automatic publicPath is not supported in this browser");_=_.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),Q.p=_})(),(()=>{var _={792:0};Q.f.j=(l,g)=>{var m=Q.o(_,l)?_[l]:void 0;if(m!==0)if(m)g.push(m[2]);else{var R=new Promise((ne,O)=>m=_[l]=[ne,O]);g.push(m[2]=R);var A=Q.p+Q.u(l),X=new Error,se=ne=>{if(Q.o(_,l)&&(m=_[l],m!==0&&(_[l]=void 0),m)){var O=ne&&(ne.type==="load"?"missing":ne.type),a=ne&&ne.target&&ne.target.src;X.message="Loading chunk "+l+` failed.
(`+O+": "+a+")",X.name="ChunkLoadError",X.type=O,X.request=a,m[1](X)}};Q.l(A,se,"chunk-"+l,l)}},Q.O.j=l=>_[l]===0;var v=(l,g)=>{var[m,R,A]=g,X,se,ne=0;if(m.some(a=>_[a]!==0)){for(X in R)Q.o(R,X)&&(Q.m[X]=R[X]);if(A)var O=A(Q)}for(l&&l(g);ne<m.length;ne++)se=m[ne],Q.o(_,se)&&_[se]&&_[se][0](),_[se]=0;return Q.O(O)},p=globalThis.webpackChunkbumpy=globalThis.webpackChunkbumpy||[];p.forEach(v.bind(null,0)),p.push=v.bind(null,p.push.bind(p))})(),Q.nc=void 0;var dr=Q.O(void 0,[713],()=>Q(6068));dr=Q.O(dr)})();
